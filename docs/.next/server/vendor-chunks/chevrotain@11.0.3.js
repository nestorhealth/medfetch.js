"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/chevrotain@11.0.3";
exports.ids = ["vendor-chunks/chevrotain@11.0.3"];
exports.modules = {

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/api.js":
/*!**************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/api.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Alternation: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.Alternation),\n/* harmony export */   Alternative: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.Alternative),\n/* harmony export */   CstParser: () => (/* reexport safe */ _parse_parser_parser_js__WEBPACK_IMPORTED_MODULE_1__.CstParser),\n/* harmony export */   EMPTY_ALT: () => (/* reexport safe */ _parse_parser_parser_js__WEBPACK_IMPORTED_MODULE_1__.EMPTY_ALT),\n/* harmony export */   EOF: () => (/* reexport safe */ _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.EOF),\n/* harmony export */   EarlyExitException: () => (/* reexport safe */ _parse_exceptions_public_js__WEBPACK_IMPORTED_MODULE_7__.EarlyExitException),\n/* harmony export */   EmbeddedActionsParser: () => (/* reexport safe */ _parse_parser_parser_js__WEBPACK_IMPORTED_MODULE_1__.EmbeddedActionsParser),\n/* harmony export */   GAstVisitor: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.GAstVisitor),\n/* harmony export */   LLkLookaheadStrategy: () => (/* reexport safe */ _parse_grammar_llk_lookahead_js__WEBPACK_IMPORTED_MODULE_5__.LLkLookaheadStrategy),\n/* harmony export */   Lexer: () => (/* reexport safe */ _scan_lexer_public_js__WEBPACK_IMPORTED_MODULE_2__.Lexer),\n/* harmony export */   LexerDefinitionErrorType: () => (/* reexport safe */ _scan_lexer_public_js__WEBPACK_IMPORTED_MODULE_2__.LexerDefinitionErrorType),\n/* harmony export */   MismatchedTokenException: () => (/* reexport safe */ _parse_exceptions_public_js__WEBPACK_IMPORTED_MODULE_7__.MismatchedTokenException),\n/* harmony export */   NoViableAltException: () => (/* reexport safe */ _parse_exceptions_public_js__WEBPACK_IMPORTED_MODULE_7__.NoViableAltException),\n/* harmony export */   NonTerminal: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.NonTerminal),\n/* harmony export */   NotAllInputParsedException: () => (/* reexport safe */ _parse_exceptions_public_js__WEBPACK_IMPORTED_MODULE_7__.NotAllInputParsedException),\n/* harmony export */   Option: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.Option),\n/* harmony export */   Parser: () => (/* binding */ Parser),\n/* harmony export */   ParserDefinitionErrorType: () => (/* reexport safe */ _parse_parser_parser_js__WEBPACK_IMPORTED_MODULE_1__.ParserDefinitionErrorType),\n/* harmony export */   Repetition: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.Repetition),\n/* harmony export */   RepetitionMandatory: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.RepetitionMandatory),\n/* harmony export */   RepetitionMandatoryWithSeparator: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.RepetitionMandatoryWithSeparator),\n/* harmony export */   RepetitionWithSeparator: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.RepetitionWithSeparator),\n/* harmony export */   Rule: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.Rule),\n/* harmony export */   Terminal: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.Terminal),\n/* harmony export */   VERSION: () => (/* reexport safe */ _version_js__WEBPACK_IMPORTED_MODULE_0__.VERSION),\n/* harmony export */   clearCache: () => (/* binding */ clearCache),\n/* harmony export */   createSyntaxDiagramsCode: () => (/* reexport safe */ _diagrams_render_public_js__WEBPACK_IMPORTED_MODULE_11__.createSyntaxDiagramsCode),\n/* harmony export */   createToken: () => (/* reexport safe */ _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.createToken),\n/* harmony export */   createTokenInstance: () => (/* reexport safe */ _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.createTokenInstance),\n/* harmony export */   defaultLexerErrorProvider: () => (/* reexport safe */ _scan_lexer_errors_public_js__WEBPACK_IMPORTED_MODULE_8__.defaultLexerErrorProvider),\n/* harmony export */   defaultParserErrorProvider: () => (/* reexport safe */ _parse_errors_public_js__WEBPACK_IMPORTED_MODULE_6__.defaultParserErrorProvider),\n/* harmony export */   generateCstDts: () => (/* reexport safe */ _chevrotain_cst_dts_gen__WEBPACK_IMPORTED_MODULE_10__.generateCstDts),\n/* harmony export */   getLookaheadPaths: () => (/* reexport safe */ _parse_grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_4__.getLookaheadPaths),\n/* harmony export */   isRecognitionException: () => (/* reexport safe */ _parse_exceptions_public_js__WEBPACK_IMPORTED_MODULE_7__.isRecognitionException),\n/* harmony export */   serializeGrammar: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.serializeGrammar),\n/* harmony export */   serializeProduction: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.serializeProduction),\n/* harmony export */   tokenLabel: () => (/* reexport safe */ _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.tokenLabel),\n/* harmony export */   tokenMatcher: () => (/* reexport safe */ _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.tokenMatcher),\n/* harmony export */   tokenName: () => (/* reexport safe */ _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.tokenName)\n/* harmony export */ });\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./version.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/version.js\");\n/* harmony import */ var _parse_parser_parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parse/parser/parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _scan_lexer_public_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scan/lexer_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_public.js\");\n/* harmony import */ var _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scan/tokens_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens_public.js\");\n/* harmony import */ var _parse_grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parse/grammar/lookahead.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/lookahead.js\");\n/* harmony import */ var _parse_grammar_llk_lookahead_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parse/grammar/llk_lookahead.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/llk_lookahead.js\");\n/* harmony import */ var _parse_errors_public_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parse/errors_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/errors_public.js\");\n/* harmony import */ var _parse_exceptions_public_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parse/exceptions_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/exceptions_public.js\");\n/* harmony import */ var _scan_lexer_errors_public_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./scan/lexer_errors_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_errors_public.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/api.js\");\n/* harmony import */ var _chevrotain_cst_dts_gen__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @chevrotain/cst-dts-gen */ \"(ssr)/../node_modules/.pnpm/@chevrotain+cst-dts-gen@11.0.3/node_modules/@chevrotain/cst-dts-gen/lib/src/api.js\");\n/* harmony import */ var _diagrams_render_public_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./diagrams/render_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/diagrams/render_public.js\");\n/* istanbul ignore file - tricky to import some things from this module during testing */\n// semantic version\n\n\n\n// Tokens utilities\n\n// Lookahead\n\n\n// Other Utilities\n\n\n\n// grammar reflection API\n\n// GAST Utilities\n\n\n/* istanbul ignore next */\nfunction clearCache() {\n    console.warn(\"The clearCache function was 'soft' removed from the Chevrotain API.\" +\n        \"\\n\\t It performs no action other than printing this message.\" +\n        \"\\n\\t Please avoid using it as it will be completely removed in the future\");\n}\n\nclass Parser {\n    constructor() {\n        throw new Error(\"The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\\t\\n\" +\n            \"See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0\");\n    }\n}\n//# sourceMappingURL=api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvYXBpLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDdUM7QUFDNEU7QUFDMUM7QUFDekU7QUFDc0g7QUFDdEg7QUFDaUU7QUFDTztBQUN4RTtBQUNzRTtBQUNpRztBQUM3RjtBQUMxRTtBQUM4TDtBQUM5TDtBQUN1RjtBQUM5QjtBQUN6RDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDdUU7QUFDaEU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvYXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGlzdGFuYnVsIGlnbm9yZSBmaWxlIC0gdHJpY2t5IHRvIGltcG9ydCBzb21lIHRoaW5ncyBmcm9tIHRoaXMgbW9kdWxlIGR1cmluZyB0ZXN0aW5nICovXG4vLyBzZW1hbnRpYyB2ZXJzaW9uXG5leHBvcnQgeyBWRVJTSU9OIH0gZnJvbSBcIi4vdmVyc2lvbi5qc1wiO1xuZXhwb3J0IHsgQ3N0UGFyc2VyLCBFbWJlZGRlZEFjdGlvbnNQYXJzZXIsIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUsIEVNUFRZX0FMVCwgfSBmcm9tIFwiLi9wYXJzZS9wYXJzZXIvcGFyc2VyLmpzXCI7XG5leHBvcnQgeyBMZXhlciwgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlIH0gZnJvbSBcIi4vc2Nhbi9sZXhlcl9wdWJsaWMuanNcIjtcbi8vIFRva2VucyB1dGlsaXRpZXNcbmV4cG9ydCB7IGNyZWF0ZVRva2VuLCBjcmVhdGVUb2tlbkluc3RhbmNlLCBFT0YsIHRva2VuTGFiZWwsIHRva2VuTWF0Y2hlciwgdG9rZW5OYW1lLCB9IGZyb20gXCIuL3NjYW4vdG9rZW5zX3B1YmxpYy5qc1wiO1xuLy8gTG9va2FoZWFkXG5leHBvcnQgeyBnZXRMb29rYWhlYWRQYXRocyB9IGZyb20gXCIuL3BhcnNlL2dyYW1tYXIvbG9va2FoZWFkLmpzXCI7XG5leHBvcnQgeyBMTGtMb29rYWhlYWRTdHJhdGVneSB9IGZyb20gXCIuL3BhcnNlL2dyYW1tYXIvbGxrX2xvb2thaGVhZC5qc1wiO1xuLy8gT3RoZXIgVXRpbGl0aWVzXG5leHBvcnQgeyBkZWZhdWx0UGFyc2VyRXJyb3JQcm92aWRlciB9IGZyb20gXCIuL3BhcnNlL2Vycm9yc19wdWJsaWMuanNcIjtcbmV4cG9ydCB7IEVhcmx5RXhpdEV4Y2VwdGlvbiwgaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbiwgTWlzbWF0Y2hlZFRva2VuRXhjZXB0aW9uLCBOb3RBbGxJbnB1dFBhcnNlZEV4Y2VwdGlvbiwgTm9WaWFibGVBbHRFeGNlcHRpb24sIH0gZnJvbSBcIi4vcGFyc2UvZXhjZXB0aW9uc19wdWJsaWMuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHRMZXhlckVycm9yUHJvdmlkZXIgfSBmcm9tIFwiLi9zY2FuL2xleGVyX2Vycm9yc19wdWJsaWMuanNcIjtcbi8vIGdyYW1tYXIgcmVmbGVjdGlvbiBBUElcbmV4cG9ydCB7IEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSwgTm9uVGVybWluYWwsIE9wdGlvbiwgUmVwZXRpdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeSwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBSdWxlLCBUZXJtaW5hbCwgfSBmcm9tIFwiQGNoZXZyb3RhaW4vZ2FzdFwiO1xuLy8gR0FTVCBVdGlsaXRpZXNcbmV4cG9ydCB7IHNlcmlhbGl6ZUdyYW1tYXIsIHNlcmlhbGl6ZVByb2R1Y3Rpb24sIEdBc3RWaXNpdG9yLCB9IGZyb20gXCJAY2hldnJvdGFpbi9nYXN0XCI7XG5leHBvcnQgeyBnZW5lcmF0ZUNzdER0cyB9IGZyb20gXCJAY2hldnJvdGFpbi9jc3QtZHRzLWdlblwiO1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckNhY2hlKCkge1xuICAgIGNvbnNvbGUud2FybihcIlRoZSBjbGVhckNhY2hlIGZ1bmN0aW9uIHdhcyAnc29mdCcgcmVtb3ZlZCBmcm9tIHRoZSBDaGV2cm90YWluIEFQSS5cIiArXG4gICAgICAgIFwiXFxuXFx0IEl0IHBlcmZvcm1zIG5vIGFjdGlvbiBvdGhlciB0aGFuIHByaW50aW5nIHRoaXMgbWVzc2FnZS5cIiArXG4gICAgICAgIFwiXFxuXFx0IFBsZWFzZSBhdm9pZCB1c2luZyBpdCBhcyBpdCB3aWxsIGJlIGNvbXBsZXRlbHkgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlXCIpO1xufVxuZXhwb3J0IHsgY3JlYXRlU3ludGF4RGlhZ3JhbXNDb2RlIH0gZnJvbSBcIi4vZGlhZ3JhbXMvcmVuZGVyX3B1YmxpYy5qc1wiO1xuZXhwb3J0IGNsYXNzIFBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBQYXJzZXIgY2xhc3MgaGFzIGJlZW4gZGVwcmVjYXRlZCwgdXNlIENzdFBhcnNlciBvciBFbWJlZGRlZEFjdGlvbnNQYXJzZXIgaW5zdGVhZC5cXHRcXG5cIiArXG4gICAgICAgICAgICBcIlNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvY2hhbmdlcy9CUkVBS0lOR19DSEFOR0VTLmh0bWwjXzctMC0wXCIpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/api.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/diagrams/render_public.js":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/diagrams/render_public.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSyntaxDiagramsCode: () => (/* binding */ createSyntaxDiagramsCode)\n/* harmony export */ });\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../version.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/version.js\");\n\nfunction createSyntaxDiagramsCode(grammar, { resourceBase = `https://unpkg.com/chevrotain@${_version_js__WEBPACK_IMPORTED_MODULE_0__.VERSION}/diagrams/`, css = `https://unpkg.com/chevrotain@${_version_js__WEBPACK_IMPORTED_MODULE_0__.VERSION}/diagrams/diagrams.css`, } = {}) {\n    const header = `\n<!-- This is a generated file -->\n<!DOCTYPE html>\n<meta charset=\"utf-8\">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n`;\n    const cssHtml = `\n<link rel='stylesheet' href='${css}'>\n`;\n    const scripts = `\n<script src='${resourceBase}vendor/railroad-diagrams.js'></script>\n<script src='${resourceBase}src/diagrams_builder.js'></script>\n<script src='${resourceBase}src/diagrams_behavior.js'></script>\n<script src='${resourceBase}src/main.js'></script>\n`;\n    const diagramsDiv = `\n<div id=\"diagrams\" align=\"center\"></div>    \n`;\n    const serializedGrammar = `\n<script>\n    window.serializedGrammar = ${JSON.stringify(grammar, null, \"  \")};\n</script>\n`;\n    const initLogic = `\n<script>\n    var diagramsDiv = document.getElementById(\"diagrams\");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n</script>\n`;\n    return (header + cssHtml + scripts + diagramsDiv + serializedGrammar + initLogic);\n}\n//# sourceMappingURL=render_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvZGlhZ3JhbXMvcmVuZGVyX3B1YmxpYy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QztBQUNqQyw2Q0FBNkMsK0NBQStDLGdEQUFPLENBQUMsbURBQW1ELGdEQUFPLENBQUMsMkJBQTJCLElBQUk7QUFDck07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQkFBK0IsSUFBSTtBQUNuQztBQUNBO0FBQ0EsZUFBZSxhQUFhO0FBQzVCLGVBQWUsYUFBYTtBQUM1QixlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZXRoYW5raW0vTmVzdG9yL21lZGZldGNoLmpzL25vZGVfbW9kdWxlcy8ucG5wbS9jaGV2cm90YWluQDExLjAuMy9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL2RpYWdyYW1zL3JlbmRlcl9wdWJsaWMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gXCIuLi92ZXJzaW9uLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3ludGF4RGlhZ3JhbXNDb2RlKGdyYW1tYXIsIHsgcmVzb3VyY2VCYXNlID0gYGh0dHBzOi8vdW5wa2cuY29tL2NoZXZyb3RhaW5AJHtWRVJTSU9OfS9kaWFncmFtcy9gLCBjc3MgPSBgaHR0cHM6Ly91bnBrZy5jb20vY2hldnJvdGFpbkAke1ZFUlNJT059L2RpYWdyYW1zL2RpYWdyYW1zLmNzc2AsIH0gPSB7fSkge1xuICAgIGNvbnN0IGhlYWRlciA9IGBcbjwhLS0gVGhpcyBpcyBhIGdlbmVyYXRlZCBmaWxlIC0tPlxuPCFET0NUWVBFIGh0bWw+XG48bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cbjxzdHlsZT5cbiAgYm9keSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogaHNsKDMwLCAyMCUsIDk1JSlcbiAgfVxuPC9zdHlsZT5cblxuYDtcbiAgICBjb25zdCBjc3NIdG1sID0gYFxuPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyBocmVmPScke2Nzc30nPlxuYDtcbiAgICBjb25zdCBzY3JpcHRzID0gYFxuPHNjcmlwdCBzcmM9JyR7cmVzb3VyY2VCYXNlfXZlbmRvci9yYWlscm9hZC1kaWFncmFtcy5qcyc+PC9zY3JpcHQ+XG48c2NyaXB0IHNyYz0nJHtyZXNvdXJjZUJhc2V9c3JjL2RpYWdyYW1zX2J1aWxkZXIuanMnPjwvc2NyaXB0PlxuPHNjcmlwdCBzcmM9JyR7cmVzb3VyY2VCYXNlfXNyYy9kaWFncmFtc19iZWhhdmlvci5qcyc+PC9zY3JpcHQ+XG48c2NyaXB0IHNyYz0nJHtyZXNvdXJjZUJhc2V9c3JjL21haW4uanMnPjwvc2NyaXB0PlxuYDtcbiAgICBjb25zdCBkaWFncmFtc0RpdiA9IGBcbjxkaXYgaWQ9XCJkaWFncmFtc1wiIGFsaWduPVwiY2VudGVyXCI+PC9kaXY+ICAgIFxuYDtcbiAgICBjb25zdCBzZXJpYWxpemVkR3JhbW1hciA9IGBcbjxzY3JpcHQ+XG4gICAgd2luZG93LnNlcmlhbGl6ZWRHcmFtbWFyID0gJHtKU09OLnN0cmluZ2lmeShncmFtbWFyLCBudWxsLCBcIiAgXCIpfTtcbjwvc2NyaXB0PlxuYDtcbiAgICBjb25zdCBpbml0TG9naWMgPSBgXG48c2NyaXB0PlxuICAgIHZhciBkaWFncmFtc0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGlhZ3JhbXNcIik7XG4gICAgbWFpbi5kcmF3RGlhZ3JhbXNGcm9tU2VyaWFsaXplZEdyYW1tYXIoc2VyaWFsaXplZEdyYW1tYXIsIGRpYWdyYW1zRGl2KTtcbjwvc2NyaXB0PlxuYDtcbiAgICByZXR1cm4gKGhlYWRlciArIGNzc0h0bWwgKyBzY3JpcHRzICsgZGlhZ3JhbXNEaXYgKyBzZXJpYWxpemVkR3JhbW1hciArIGluaXRMb2dpYyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW5kZXJfcHVibGljLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/diagrams/render_public.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/lang/lang_extensions.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/lang/lang_extensions.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defineNameProp: () => (/* binding */ defineNameProp)\n/* harmony export */ });\nconst NAME = \"name\";\nfunction defineNameProp(obj, nameValue) {\n    Object.defineProperty(obj, NAME, {\n        enumerable: false,\n        configurable: true,\n        writable: false,\n        value: nameValue,\n    });\n}\n//# sourceMappingURL=lang_extensions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvbGFuZy9sYW5nX2V4dGVuc2lvbnMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvbGFuZy9sYW5nX2V4dGVuc2lvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTkFNRSA9IFwibmFtZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZU5hbWVQcm9wKG9iaiwgbmFtZVZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgTkFNRSwge1xuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBuYW1lVmFsdWUsXG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYW5nX2V4dGVuc2lvbnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/lang/lang_extensions.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/constants.js":
/*!**************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/constants.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IN: () => (/* binding */ IN)\n/* harmony export */ });\n// TODO: can this be removed? where is it used?\nconst IN = \"_~IN~_\";\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNPO0FBQ1AiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRPRE86IGNhbiB0aGlzIGJlIHJlbW92ZWQ/IHdoZXJlIGlzIGl0IHVzZWQ/XG5leHBvcnQgY29uc3QgSU4gPSBcIl9+SU5+X1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/constants.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/cst/cst.js":
/*!************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/cst/cst.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addNoneTerminalToCst: () => (/* binding */ addNoneTerminalToCst),\n/* harmony export */   addTerminalToCst: () => (/* binding */ addTerminalToCst),\n/* harmony export */   setNodeLocationFull: () => (/* binding */ setNodeLocationFull),\n/* harmony export */   setNodeLocationOnlyOffset: () => (/* binding */ setNodeLocationOnlyOffset)\n/* harmony export */ });\n/**\n * This nodeLocation tracking is not efficient and should only be used\n * when error recovery is enabled or the Token Vector contains virtual Tokens\n * (e.g, Python Indent/Outdent)\n * As it executes the calculation for every single terminal/nonTerminal\n * and does not rely on the fact the token vector is **sorted**\n */\nfunction setNodeLocationOnlyOffset(currNodeLocation, newLocationInfo) {\n    // First (valid) update for this cst node\n    if (isNaN(currNodeLocation.startOffset) === true) {\n        // assumption1: Token location information is either NaN or a valid number\n        // assumption2: Token location information is fully valid if it exist\n        // (both start/end offsets exist and are numbers).\n        currNodeLocation.startOffset = newLocationInfo.startOffset;\n        currNodeLocation.endOffset = newLocationInfo.endOffset;\n    }\n    // Once the startOffset has been updated with a valid number it should never receive\n    // any farther updates as the Token vector is sorted.\n    // We still have to check this this condition for every new possible location info\n    // because with error recovery enabled we may encounter invalid tokens (NaN location props)\n    else if (currNodeLocation.endOffset < newLocationInfo.endOffset === true) {\n        currNodeLocation.endOffset = newLocationInfo.endOffset;\n    }\n}\n/**\n * This nodeLocation tracking is not efficient and should only be used\n * when error recovery is enabled or the Token Vector contains virtual Tokens\n * (e.g, Python Indent/Outdent)\n * As it executes the calculation for every single terminal/nonTerminal\n * and does not rely on the fact the token vector is **sorted**\n */\nfunction setNodeLocationFull(currNodeLocation, newLocationInfo) {\n    // First (valid) update for this cst node\n    if (isNaN(currNodeLocation.startOffset) === true) {\n        // assumption1: Token location information is either NaN or a valid number\n        // assumption2: Token location information is fully valid if it exist\n        // (all start/end props exist and are numbers).\n        currNodeLocation.startOffset = newLocationInfo.startOffset;\n        currNodeLocation.startColumn = newLocationInfo.startColumn;\n        currNodeLocation.startLine = newLocationInfo.startLine;\n        currNodeLocation.endOffset = newLocationInfo.endOffset;\n        currNodeLocation.endColumn = newLocationInfo.endColumn;\n        currNodeLocation.endLine = newLocationInfo.endLine;\n    }\n    // Once the start props has been updated with a valid number it should never receive\n    // any farther updates as the Token vector is sorted.\n    // We still have to check this this condition for every new possible location info\n    // because with error recovery enabled we may encounter invalid tokens (NaN location props)\n    else if (currNodeLocation.endOffset < newLocationInfo.endOffset === true) {\n        currNodeLocation.endOffset = newLocationInfo.endOffset;\n        currNodeLocation.endColumn = newLocationInfo.endColumn;\n        currNodeLocation.endLine = newLocationInfo.endLine;\n    }\n}\nfunction addTerminalToCst(node, token, tokenTypeName) {\n    if (node.children[tokenTypeName] === undefined) {\n        node.children[tokenTypeName] = [token];\n    }\n    else {\n        node.children[tokenTypeName].push(token);\n    }\n}\nfunction addNoneTerminalToCst(node, ruleName, ruleResult) {\n    if (node.children[ruleName] === undefined) {\n        node.children[ruleName] = [ruleResult];\n    }\n    else {\n        node.children[ruleName].push(ruleResult);\n    }\n}\n//# sourceMappingURL=cst.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvY3N0L2NzdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9jc3QvY3N0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBub2RlTG9jYXRpb24gdHJhY2tpbmcgaXMgbm90IGVmZmljaWVudCBhbmQgc2hvdWxkIG9ubHkgYmUgdXNlZFxuICogd2hlbiBlcnJvciByZWNvdmVyeSBpcyBlbmFibGVkIG9yIHRoZSBUb2tlbiBWZWN0b3IgY29udGFpbnMgdmlydHVhbCBUb2tlbnNcbiAqIChlLmcsIFB5dGhvbiBJbmRlbnQvT3V0ZGVudClcbiAqIEFzIGl0IGV4ZWN1dGVzIHRoZSBjYWxjdWxhdGlvbiBmb3IgZXZlcnkgc2luZ2xlIHRlcm1pbmFsL25vblRlcm1pbmFsXG4gKiBhbmQgZG9lcyBub3QgcmVseSBvbiB0aGUgZmFjdCB0aGUgdG9rZW4gdmVjdG9yIGlzICoqc29ydGVkKipcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldE5vZGVMb2NhdGlvbk9ubHlPZmZzZXQoY3Vyck5vZGVMb2NhdGlvbiwgbmV3TG9jYXRpb25JbmZvKSB7XG4gICAgLy8gRmlyc3QgKHZhbGlkKSB1cGRhdGUgZm9yIHRoaXMgY3N0IG5vZGVcbiAgICBpZiAoaXNOYU4oY3Vyck5vZGVMb2NhdGlvbi5zdGFydE9mZnNldCkgPT09IHRydWUpIHtcbiAgICAgICAgLy8gYXNzdW1wdGlvbjE6IFRva2VuIGxvY2F0aW9uIGluZm9ybWF0aW9uIGlzIGVpdGhlciBOYU4gb3IgYSB2YWxpZCBudW1iZXJcbiAgICAgICAgLy8gYXNzdW1wdGlvbjI6IFRva2VuIGxvY2F0aW9uIGluZm9ybWF0aW9uIGlzIGZ1bGx5IHZhbGlkIGlmIGl0IGV4aXN0XG4gICAgICAgIC8vIChib3RoIHN0YXJ0L2VuZCBvZmZzZXRzIGV4aXN0IGFuZCBhcmUgbnVtYmVycykuXG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uc3RhcnRPZmZzZXQgPSBuZXdMb2NhdGlvbkluZm8uc3RhcnRPZmZzZXQ7XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kT2Zmc2V0ID0gbmV3TG9jYXRpb25JbmZvLmVuZE9mZnNldDtcbiAgICB9XG4gICAgLy8gT25jZSB0aGUgc3RhcnRPZmZzZXQgaGFzIGJlZW4gdXBkYXRlZCB3aXRoIGEgdmFsaWQgbnVtYmVyIGl0IHNob3VsZCBuZXZlciByZWNlaXZlXG4gICAgLy8gYW55IGZhcnRoZXIgdXBkYXRlcyBhcyB0aGUgVG9rZW4gdmVjdG9yIGlzIHNvcnRlZC5cbiAgICAvLyBXZSBzdGlsbCBoYXZlIHRvIGNoZWNrIHRoaXMgdGhpcyBjb25kaXRpb24gZm9yIGV2ZXJ5IG5ldyBwb3NzaWJsZSBsb2NhdGlvbiBpbmZvXG4gICAgLy8gYmVjYXVzZSB3aXRoIGVycm9yIHJlY292ZXJ5IGVuYWJsZWQgd2UgbWF5IGVuY291bnRlciBpbnZhbGlkIHRva2VucyAoTmFOIGxvY2F0aW9uIHByb3BzKVxuICAgIGVsc2UgaWYgKGN1cnJOb2RlTG9jYXRpb24uZW5kT2Zmc2V0IDwgbmV3TG9jYXRpb25JbmZvLmVuZE9mZnNldCA9PT0gdHJ1ZSkge1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZE9mZnNldCA9IG5ld0xvY2F0aW9uSW5mby5lbmRPZmZzZXQ7XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIG5vZGVMb2NhdGlvbiB0cmFja2luZyBpcyBub3QgZWZmaWNpZW50IGFuZCBzaG91bGQgb25seSBiZSB1c2VkXG4gKiB3aGVuIGVycm9yIHJlY292ZXJ5IGlzIGVuYWJsZWQgb3IgdGhlIFRva2VuIFZlY3RvciBjb250YWlucyB2aXJ0dWFsIFRva2Vuc1xuICogKGUuZywgUHl0aG9uIEluZGVudC9PdXRkZW50KVxuICogQXMgaXQgZXhlY3V0ZXMgdGhlIGNhbGN1bGF0aW9uIGZvciBldmVyeSBzaW5nbGUgdGVybWluYWwvbm9uVGVybWluYWxcbiAqIGFuZCBkb2VzIG5vdCByZWx5IG9uIHRoZSBmYWN0IHRoZSB0b2tlbiB2ZWN0b3IgaXMgKipzb3J0ZWQqKlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Tm9kZUxvY2F0aW9uRnVsbChjdXJyTm9kZUxvY2F0aW9uLCBuZXdMb2NhdGlvbkluZm8pIHtcbiAgICAvLyBGaXJzdCAodmFsaWQpIHVwZGF0ZSBmb3IgdGhpcyBjc3Qgbm9kZVxuICAgIGlmIChpc05hTihjdXJyTm9kZUxvY2F0aW9uLnN0YXJ0T2Zmc2V0KSA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyBhc3N1bXB0aW9uMTogVG9rZW4gbG9jYXRpb24gaW5mb3JtYXRpb24gaXMgZWl0aGVyIE5hTiBvciBhIHZhbGlkIG51bWJlclxuICAgICAgICAvLyBhc3N1bXB0aW9uMjogVG9rZW4gbG9jYXRpb24gaW5mb3JtYXRpb24gaXMgZnVsbHkgdmFsaWQgaWYgaXQgZXhpc3RcbiAgICAgICAgLy8gKGFsbCBzdGFydC9lbmQgcHJvcHMgZXhpc3QgYW5kIGFyZSBudW1iZXJzKS5cbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5zdGFydE9mZnNldCA9IG5ld0xvY2F0aW9uSW5mby5zdGFydE9mZnNldDtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5zdGFydENvbHVtbiA9IG5ld0xvY2F0aW9uSW5mby5zdGFydENvbHVtbjtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5zdGFydExpbmUgPSBuZXdMb2NhdGlvbkluZm8uc3RhcnRMaW5lO1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZE9mZnNldCA9IG5ld0xvY2F0aW9uSW5mby5lbmRPZmZzZXQ7XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kQ29sdW1uID0gbmV3TG9jYXRpb25JbmZvLmVuZENvbHVtbjtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRMaW5lID0gbmV3TG9jYXRpb25JbmZvLmVuZExpbmU7XG4gICAgfVxuICAgIC8vIE9uY2UgdGhlIHN0YXJ0IHByb3BzIGhhcyBiZWVuIHVwZGF0ZWQgd2l0aCBhIHZhbGlkIG51bWJlciBpdCBzaG91bGQgbmV2ZXIgcmVjZWl2ZVxuICAgIC8vIGFueSBmYXJ0aGVyIHVwZGF0ZXMgYXMgdGhlIFRva2VuIHZlY3RvciBpcyBzb3J0ZWQuXG4gICAgLy8gV2Ugc3RpbGwgaGF2ZSB0byBjaGVjayB0aGlzIHRoaXMgY29uZGl0aW9uIGZvciBldmVyeSBuZXcgcG9zc2libGUgbG9jYXRpb24gaW5mb1xuICAgIC8vIGJlY2F1c2Ugd2l0aCBlcnJvciByZWNvdmVyeSBlbmFibGVkIHdlIG1heSBlbmNvdW50ZXIgaW52YWxpZCB0b2tlbnMgKE5hTiBsb2NhdGlvbiBwcm9wcylcbiAgICBlbHNlIGlmIChjdXJyTm9kZUxvY2F0aW9uLmVuZE9mZnNldCA8IG5ld0xvY2F0aW9uSW5mby5lbmRPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRPZmZzZXQgPSBuZXdMb2NhdGlvbkluZm8uZW5kT2Zmc2V0O1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZENvbHVtbiA9IG5ld0xvY2F0aW9uSW5mby5lbmRDb2x1bW47XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kTGluZSA9IG5ld0xvY2F0aW9uSW5mby5lbmRMaW5lO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRUZXJtaW5hbFRvQ3N0KG5vZGUsIHRva2VuLCB0b2tlblR5cGVOYW1lKSB7XG4gICAgaWYgKG5vZGUuY2hpbGRyZW5bdG9rZW5UeXBlTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBub2RlLmNoaWxkcmVuW3Rva2VuVHlwZU5hbWVdID0gW3Rva2VuXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5vZGUuY2hpbGRyZW5bdG9rZW5UeXBlTmFtZV0ucHVzaCh0b2tlbik7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5vbmVUZXJtaW5hbFRvQ3N0KG5vZGUsIHJ1bGVOYW1lLCBydWxlUmVzdWx0KSB7XG4gICAgaWYgKG5vZGUuY2hpbGRyZW5bcnVsZU5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZS5jaGlsZHJlbltydWxlTmFtZV0gPSBbcnVsZVJlc3VsdF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBub2RlLmNoaWxkcmVuW3J1bGVOYW1lXS5wdXNoKHJ1bGVSZXN1bHQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/cst/cst.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/cst/cst_visitor.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/cst/cst_visitor.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CstVisitorDefinitionError: () => (/* binding */ CstVisitorDefinitionError),\n/* harmony export */   createBaseSemanticVisitorConstructor: () => (/* binding */ createBaseSemanticVisitorConstructor),\n/* harmony export */   createBaseVisitorConstructorWithDefaults: () => (/* binding */ createBaseVisitorConstructorWithDefaults),\n/* harmony export */   defaultVisit: () => (/* binding */ defaultVisit),\n/* harmony export */   validateMissingCstMethods: () => (/* binding */ validateMissingCstMethods),\n/* harmony export */   validateVisitor: () => (/* binding */ validateVisitor)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/keys.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isUndefined.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/filter.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isFunction.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/compact.js\");\n/* harmony import */ var _lang_lang_extensions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lang/lang_extensions.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/lang/lang_extensions.js\");\n\n\nfunction defaultVisit(ctx, param) {\n    const childrenNames = (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ctx);\n    const childrenNamesLength = childrenNames.length;\n    for (let i = 0; i < childrenNamesLength; i++) {\n        const currChildName = childrenNames[i];\n        const currChildArray = ctx[currChildName];\n        const currChildArrayLength = currChildArray.length;\n        for (let j = 0; j < currChildArrayLength; j++) {\n            const currChild = currChildArray[j];\n            // distinction between Tokens Children and CstNode children\n            if (currChild.tokenTypeIdx === undefined) {\n                this[currChild.name](currChild.children, param);\n            }\n        }\n    }\n    // defaultVisit does not support generic out param\n}\nfunction createBaseSemanticVisitorConstructor(grammarName, ruleNames) {\n    const derivedConstructor = function () { };\n    // can be overwritten according to:\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/\n    // name?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FFunction%2Fname\n    (0,_lang_lang_extensions_js__WEBPACK_IMPORTED_MODULE_0__.defineNameProp)(derivedConstructor, grammarName + \"BaseSemantics\");\n    const semanticProto = {\n        visit: function (cstNode, param) {\n            // enables writing more concise visitor methods when CstNode has only a single child\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(cstNode)) {\n                // A CST Node's children dictionary can never have empty arrays as values\n                // If a key is defined there will be at least one element in the corresponding value array.\n                cstNode = cstNode[0];\n            }\n            // enables passing optional CstNodes concisely.\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(cstNode)) {\n                return undefined;\n            }\n            return this[cstNode.name](cstNode.children, param);\n        },\n        validateVisitor: function () {\n            const semanticDefinitionErrors = validateVisitor(this, ruleNames);\n            if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(semanticDefinitionErrors)) {\n                const errorMessages = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(semanticDefinitionErrors, (currDefError) => currDefError.msg);\n                throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\\n\\t` +\n                    `${errorMessages.join(\"\\n\\n\").replace(/\\n/g, \"\\n\\t\")}`);\n            }\n        },\n    };\n    derivedConstructor.prototype = semanticProto;\n    derivedConstructor.prototype.constructor = derivedConstructor;\n    derivedConstructor._RULE_NAMES = ruleNames;\n    return derivedConstructor;\n}\nfunction createBaseVisitorConstructorWithDefaults(grammarName, ruleNames, baseConstructor) {\n    const derivedConstructor = function () { };\n    // can be overwritten according to:\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/\n    // name?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FFunction%2Fname\n    (0,_lang_lang_extensions_js__WEBPACK_IMPORTED_MODULE_0__.defineNameProp)(derivedConstructor, grammarName + \"BaseSemanticsWithDefaults\");\n    const withDefaultsProto = Object.create(baseConstructor.prototype);\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ruleNames, (ruleName) => {\n        withDefaultsProto[ruleName] = defaultVisit;\n    });\n    derivedConstructor.prototype = withDefaultsProto;\n    derivedConstructor.prototype.constructor = derivedConstructor;\n    return derivedConstructor;\n}\nvar CstVisitorDefinitionError;\n(function (CstVisitorDefinitionError) {\n    CstVisitorDefinitionError[CstVisitorDefinitionError[\"REDUNDANT_METHOD\"] = 0] = \"REDUNDANT_METHOD\";\n    CstVisitorDefinitionError[CstVisitorDefinitionError[\"MISSING_METHOD\"] = 1] = \"MISSING_METHOD\";\n})(CstVisitorDefinitionError || (CstVisitorDefinitionError = {}));\nfunction validateVisitor(visitorInstance, ruleNames) {\n    const missingErrors = validateMissingCstMethods(visitorInstance, ruleNames);\n    return missingErrors;\n}\nfunction validateMissingCstMethods(visitorInstance, ruleNames) {\n    const missingRuleNames = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(ruleNames, (currRuleName) => {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(visitorInstance[currRuleName]) === false;\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(missingRuleNames, (currRuleName) => {\n        return {\n            msg: `Missing visitor method: <${currRuleName}> on ${(visitorInstance.constructor.name)} CST Visitor.`,\n            type: CstVisitorDefinitionError.MISSING_METHOD,\n            methodName: currRuleName,\n        };\n    });\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(errors);\n}\n//# sourceMappingURL=cst_visitor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvY3N0L2NzdF92aXNpdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEc7QUFDN0M7QUFDeEQ7QUFDUCwwQkFBMEIscURBQUk7QUFDOUI7QUFDQSxvQkFBb0IseUJBQXlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwwQkFBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksd0VBQWM7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxpQkFBaUIscURBQU87QUFDeEIsc0NBQXNDLHFEQUFHO0FBQ3pDLCtEQUErRCxzQkFBc0I7QUFDckYsdUJBQXVCLGtEQUFrRDtBQUN6RTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSx3RUFBYztBQUNsQjtBQUNBLElBQUkscURBQU87QUFDWDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4REFBOEQ7QUFDeEQ7QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQLDZCQUE2QixxREFBTTtBQUNuQyxlQUFlLHFEQUFVO0FBQ3pCLEtBQUs7QUFDTCxtQkFBbUIscURBQUc7QUFDdEI7QUFDQSw2Q0FBNkMsYUFBYSxPQUFPLG9DQUFvQztBQUNyRztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsV0FBVyxxREFBTztBQUNsQjtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZXRoYW5raW0vTmVzdG9yL21lZGZldGNoLmpzL25vZGVfbW9kdWxlcy8ucG5wbS9jaGV2cm90YWluQDExLjAuMy9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2NzdC9jc3RfdmlzaXRvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wYWN0LCBmaWx0ZXIsIGZvckVhY2gsIGlzQXJyYXksIGlzRW1wdHksIGlzRnVuY3Rpb24sIGlzVW5kZWZpbmVkLCBrZXlzLCBtYXAsIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgZGVmaW5lTmFtZVByb3AgfSBmcm9tIFwiLi4vLi4vbGFuZy9sYW5nX2V4dGVuc2lvbnMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0VmlzaXQoY3R4LCBwYXJhbSkge1xuICAgIGNvbnN0IGNoaWxkcmVuTmFtZXMgPSBrZXlzKGN0eCk7XG4gICAgY29uc3QgY2hpbGRyZW5OYW1lc0xlbmd0aCA9IGNoaWxkcmVuTmFtZXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5OYW1lc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJDaGlsZE5hbWUgPSBjaGlsZHJlbk5hbWVzW2ldO1xuICAgICAgICBjb25zdCBjdXJyQ2hpbGRBcnJheSA9IGN0eFtjdXJyQ2hpbGROYW1lXTtcbiAgICAgICAgY29uc3QgY3VyckNoaWxkQXJyYXlMZW5ndGggPSBjdXJyQ2hpbGRBcnJheS5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY3VyckNoaWxkQXJyYXlMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgY3VyckNoaWxkID0gY3VyckNoaWxkQXJyYXlbal07XG4gICAgICAgICAgICAvLyBkaXN0aW5jdGlvbiBiZXR3ZWVuIFRva2VucyBDaGlsZHJlbiBhbmQgQ3N0Tm9kZSBjaGlsZHJlblxuICAgICAgICAgICAgaWYgKGN1cnJDaGlsZC50b2tlblR5cGVJZHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXNbY3VyckNoaWxkLm5hbWVdKGN1cnJDaGlsZC5jaGlsZHJlbiwgcGFyYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGRlZmF1bHRWaXNpdCBkb2VzIG5vdCBzdXBwb3J0IGdlbmVyaWMgb3V0IHBhcmFtXG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmFzZVNlbWFudGljVmlzaXRvckNvbnN0cnVjdG9yKGdyYW1tYXJOYW1lLCBydWxlTmFtZXMpIHtcbiAgICBjb25zdCBkZXJpdmVkQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLy8gY2FuIGJlIG92ZXJ3cml0dGVuIGFjY29yZGluZyB0bzpcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9GdW5jdGlvbi9cbiAgICAvLyBuYW1lP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZGdW5jdGlvbiUyRm5hbWVcbiAgICBkZWZpbmVOYW1lUHJvcChkZXJpdmVkQ29uc3RydWN0b3IsIGdyYW1tYXJOYW1lICsgXCJCYXNlU2VtYW50aWNzXCIpO1xuICAgIGNvbnN0IHNlbWFudGljUHJvdG8gPSB7XG4gICAgICAgIHZpc2l0OiBmdW5jdGlvbiAoY3N0Tm9kZSwgcGFyYW0pIHtcbiAgICAgICAgICAgIC8vIGVuYWJsZXMgd3JpdGluZyBtb3JlIGNvbmNpc2UgdmlzaXRvciBtZXRob2RzIHdoZW4gQ3N0Tm9kZSBoYXMgb25seSBhIHNpbmdsZSBjaGlsZFxuICAgICAgICAgICAgaWYgKGlzQXJyYXkoY3N0Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBBIENTVCBOb2RlJ3MgY2hpbGRyZW4gZGljdGlvbmFyeSBjYW4gbmV2ZXIgaGF2ZSBlbXB0eSBhcnJheXMgYXMgdmFsdWVzXG4gICAgICAgICAgICAgICAgLy8gSWYgYSBrZXkgaXMgZGVmaW5lZCB0aGVyZSB3aWxsIGJlIGF0IGxlYXN0IG9uZSBlbGVtZW50IGluIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIGFycmF5LlxuICAgICAgICAgICAgICAgIGNzdE5vZGUgPSBjc3ROb2RlWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZW5hYmxlcyBwYXNzaW5nIG9wdGlvbmFsIENzdE5vZGVzIGNvbmNpc2VseS5cbiAgICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChjc3ROb2RlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpc1tjc3ROb2RlLm5hbWVdKGNzdE5vZGUuY2hpbGRyZW4sIHBhcmFtKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWRhdGVWaXNpdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzZW1hbnRpY0RlZmluaXRpb25FcnJvcnMgPSB2YWxpZGF0ZVZpc2l0b3IodGhpcywgcnVsZU5hbWVzKTtcbiAgICAgICAgICAgIGlmICghaXNFbXB0eShzZW1hbnRpY0RlZmluaXRpb25FcnJvcnMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlcyA9IG1hcChzZW1hbnRpY0RlZmluaXRpb25FcnJvcnMsIChjdXJyRGVmRXJyb3IpID0+IGN1cnJEZWZFcnJvci5tc2cpO1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBFcnJvcnMgRGV0ZWN0ZWQgaW4gQ1NUIFZpc2l0b3IgPCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfT46XFxuXFx0YCArXG4gICAgICAgICAgICAgICAgICAgIGAke2Vycm9yTWVzc2FnZXMuam9pbihcIlxcblxcblwiKS5yZXBsYWNlKC9cXG4vZywgXCJcXG5cXHRcIil9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBkZXJpdmVkQ29uc3RydWN0b3IucHJvdG90eXBlID0gc2VtYW50aWNQcm90bztcbiAgICBkZXJpdmVkQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gZGVyaXZlZENvbnN0cnVjdG9yO1xuICAgIGRlcml2ZWRDb25zdHJ1Y3Rvci5fUlVMRV9OQU1FUyA9IHJ1bGVOYW1lcztcbiAgICByZXR1cm4gZGVyaXZlZENvbnN0cnVjdG9yO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJhc2VWaXNpdG9yQ29uc3RydWN0b3JXaXRoRGVmYXVsdHMoZ3JhbW1hck5hbWUsIHJ1bGVOYW1lcywgYmFzZUNvbnN0cnVjdG9yKSB7XG4gICAgY29uc3QgZGVyaXZlZENvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8vIGNhbiBiZSBvdmVyd3JpdHRlbiBhY2NvcmRpbmcgdG86XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vXG4gICAgLy8gbmFtZT9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGRnVuY3Rpb24lMkZuYW1lXG4gICAgZGVmaW5lTmFtZVByb3AoZGVyaXZlZENvbnN0cnVjdG9yLCBncmFtbWFyTmFtZSArIFwiQmFzZVNlbWFudGljc1dpdGhEZWZhdWx0c1wiKTtcbiAgICBjb25zdCB3aXRoRGVmYXVsdHNQcm90byA9IE9iamVjdC5jcmVhdGUoYmFzZUNvbnN0cnVjdG9yLnByb3RvdHlwZSk7XG4gICAgZm9yRWFjaChydWxlTmFtZXMsIChydWxlTmFtZSkgPT4ge1xuICAgICAgICB3aXRoRGVmYXVsdHNQcm90b1tydWxlTmFtZV0gPSBkZWZhdWx0VmlzaXQ7XG4gICAgfSk7XG4gICAgZGVyaXZlZENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IHdpdGhEZWZhdWx0c1Byb3RvO1xuICAgIGRlcml2ZWRDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBkZXJpdmVkQ29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGRlcml2ZWRDb25zdHJ1Y3Rvcjtcbn1cbmV4cG9ydCB2YXIgQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcjtcbihmdW5jdGlvbiAoQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcikge1xuICAgIENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3JbQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcltcIlJFRFVOREFOVF9NRVRIT0RcIl0gPSAwXSA9IFwiUkVEVU5EQU5UX01FVEhPRFwiO1xuICAgIENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3JbQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcltcIk1JU1NJTkdfTUVUSE9EXCJdID0gMV0gPSBcIk1JU1NJTkdfTUVUSE9EXCI7XG59KShDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yIHx8IChDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVZpc2l0b3IodmlzaXRvckluc3RhbmNlLCBydWxlTmFtZXMpIHtcbiAgICBjb25zdCBtaXNzaW5nRXJyb3JzID0gdmFsaWRhdGVNaXNzaW5nQ3N0TWV0aG9kcyh2aXNpdG9ySW5zdGFuY2UsIHJ1bGVOYW1lcyk7XG4gICAgcmV0dXJuIG1pc3NpbmdFcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVNaXNzaW5nQ3N0TWV0aG9kcyh2aXNpdG9ySW5zdGFuY2UsIHJ1bGVOYW1lcykge1xuICAgIGNvbnN0IG1pc3NpbmdSdWxlTmFtZXMgPSBmaWx0ZXIocnVsZU5hbWVzLCAoY3VyclJ1bGVOYW1lKSA9PiB7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHZpc2l0b3JJbnN0YW5jZVtjdXJyUnVsZU5hbWVdKSA9PT0gZmFsc2U7XG4gICAgfSk7XG4gICAgY29uc3QgZXJyb3JzID0gbWFwKG1pc3NpbmdSdWxlTmFtZXMsIChjdXJyUnVsZU5hbWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1zZzogYE1pc3NpbmcgdmlzaXRvciBtZXRob2Q6IDwke2N1cnJSdWxlTmFtZX0+IG9uICR7KHZpc2l0b3JJbnN0YW5jZS5jb25zdHJ1Y3Rvci5uYW1lKX0gQ1NUIFZpc2l0b3IuYCxcbiAgICAgICAgICAgIHR5cGU6IENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3IuTUlTU0lOR19NRVRIT0QsXG4gICAgICAgICAgICBtZXRob2ROYW1lOiBjdXJyUnVsZU5hbWUsXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbXBhY3QoZXJyb3JzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzdF92aXNpdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/cst/cst_visitor.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/errors_public.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/errors_public.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultGrammarResolverErrorProvider: () => (/* binding */ defaultGrammarResolverErrorProvider),\n/* harmony export */   defaultGrammarValidatorErrorProvider: () => (/* binding */ defaultGrammarValidatorErrorProvider),\n/* harmony export */   defaultParserErrorProvider: () => (/* binding */ defaultParserErrorProvider)\n/* harmony export */ });\n/* harmony import */ var _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scan/tokens_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens_public.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/head.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/reduce.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/map.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n\nconst defaultParserErrorProvider = {\n    buildMismatchTokenMessage({ expected, actual, previous, ruleName }) {\n        const hasLabel = (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.hasTokenLabel)(expected);\n        const expectedMsg = hasLabel\n            ? `--> ${(0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.tokenLabel)(expected)} <--`\n            : `token of type --> ${expected.name} <--`;\n        const msg = `Expecting ${expectedMsg} but found --> '${actual.image}' <--`;\n        return msg;\n    },\n    buildNotAllInputParsedMessage({ firstRedundant, ruleName }) {\n        return \"Redundant input, expecting EOF but found: \" + firstRedundant.image;\n    },\n    buildNoViableAltMessage({ expectedPathsPerAlt, actual, previous, customUserDescription, ruleName, }) {\n        const errPrefix = \"Expecting: \";\n        // TODO: issue: No Viable Alternative Error may have incomplete details. #502\n        const actualText = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(actual).image;\n        const errSuffix = \"\\nbut found: '\" + actualText + \"'\";\n        if (customUserDescription) {\n            return errPrefix + customUserDescription + errSuffix;\n        }\n        else {\n            const allLookAheadPaths = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(expectedPathsPerAlt, (result, currAltPaths) => result.concat(currAltPaths), []);\n            const nextValidTokenSequences = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(allLookAheadPaths, (currPath) => `[${(0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currPath, (currTokenType) => (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.tokenLabel)(currTokenType)).join(\", \")}]`);\n            const nextValidSequenceItems = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(nextValidTokenSequences, (itemMsg, idx) => `  ${idx + 1}. ${itemMsg}`);\n            const calculatedDescription = `one of these possible Token sequences:\\n${nextValidSequenceItems.join(\"\\n\")}`;\n            return errPrefix + calculatedDescription + errSuffix;\n        }\n    },\n    buildEarlyExitMessage({ expectedIterationPaths, actual, customUserDescription, ruleName, }) {\n        const errPrefix = \"Expecting: \";\n        // TODO: issue: No Viable Alternative Error may have incomplete details. #502\n        const actualText = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(actual).image;\n        const errSuffix = \"\\nbut found: '\" + actualText + \"'\";\n        if (customUserDescription) {\n            return errPrefix + customUserDescription + errSuffix;\n        }\n        else {\n            const nextValidTokenSequences = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(expectedIterationPaths, (currPath) => `[${(0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currPath, (currTokenType) => (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.tokenLabel)(currTokenType)).join(\",\")}]`);\n            const calculatedDescription = `expecting at least one iteration which starts with one of these possible Token sequences::\\n  ` +\n                `<${nextValidTokenSequences.join(\" ,\")}>`;\n            return errPrefix + calculatedDescription + errSuffix;\n        }\n    },\n};\nObject.freeze(defaultParserErrorProvider);\nconst defaultGrammarResolverErrorProvider = {\n    buildRuleNotFoundError(topLevelRule, undefinedRule) {\n        const msg = \"Invalid grammar, reference to a rule which is not defined: ->\" +\n            undefinedRule.nonTerminalName +\n            \"<-\\n\" +\n            \"inside top level rule: ->\" +\n            topLevelRule.name +\n            \"<-\";\n        return msg;\n    },\n};\nconst defaultGrammarValidatorErrorProvider = {\n    buildDuplicateFoundError(topLevelRule, duplicateProds) {\n        function getExtraProductionArgument(prod) {\n            if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Terminal) {\n                return prod.terminalType.name;\n            }\n            else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.NonTerminal) {\n                return prod.nonTerminalName;\n            }\n            else {\n                return \"\";\n            }\n        }\n        const topLevelName = topLevelRule.name;\n        const duplicateProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(duplicateProds);\n        const index = duplicateProd.idx;\n        const dslName = (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.getProductionDslName)(duplicateProd);\n        const extraArgument = getExtraProductionArgument(duplicateProd);\n        const hasExplicitIndex = index > 0;\n        let msg = `->${dslName}${hasExplicitIndex ? index : \"\"}<- ${extraArgument ? `with argument: ->${extraArgument}<-` : \"\"}\n                  appears more than once (${duplicateProds.length} times) in the top level rule: ->${topLevelName}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;\n        // white space trimming time! better to trim afterwards as it allows to use WELL formatted multi line template strings...\n        msg = msg.replace(/[ \\t]+/g, \" \");\n        msg = msg.replace(/\\s\\s+/g, \"\\n\");\n        return msg;\n    },\n    buildNamespaceConflictError(rule) {\n        const errMsg = `Namespace conflict found in grammar.\\n` +\n            `The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${rule.name}>.\\n` +\n            `To resolve this make sure each Terminal and Non-Terminal names are unique\\n` +\n            `This is easy to accomplish by using the convention that Terminal names start with an uppercase letter\\n` +\n            `and Non-Terminal names start with a lower case letter.`;\n        return errMsg;\n    },\n    buildAlternationPrefixAmbiguityError(options) {\n        const pathMsg = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(options.prefixPath, (currTok) => (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.tokenLabel)(currTok)).join(\", \");\n        const occurrence = options.alternation.idx === 0 ? \"\" : options.alternation.idx;\n        const errMsg = `Ambiguous alternatives: <${options.ambiguityIndices.join(\" ,\")}> due to common lookahead prefix\\n` +\n            `in <OR${occurrence}> inside <${options.topLevelRule.name}> Rule,\\n` +\n            `<${pathMsg}> may appears as a prefix path in all these alternatives.\\n` +\n            `See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\\n` +\n            `For Further details.`;\n        return errMsg;\n    },\n    buildAlternationAmbiguityError(options) {\n        const pathMsg = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(options.prefixPath, (currtok) => (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.tokenLabel)(currtok)).join(\", \");\n        const occurrence = options.alternation.idx === 0 ? \"\" : options.alternation.idx;\n        let currMessage = `Ambiguous Alternatives Detected: <${options.ambiguityIndices.join(\" ,\")}> in <OR${occurrence}>` +\n            ` inside <${options.topLevelRule.name}> Rule,\\n` +\n            `<${pathMsg}> may appears as a prefix path in all these alternatives.\\n`;\n        currMessage =\n            currMessage +\n                `See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\\n` +\n                `For Further details.`;\n        return currMessage;\n    },\n    buildEmptyRepetitionError(options) {\n        let dslName = (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.getProductionDslName)(options.repetition);\n        if (options.repetition.idx !== 0) {\n            dslName += options.repetition.idx;\n        }\n        const errMsg = `The repetition <${dslName}> within Rule <${options.topLevelRule.name}> can never consume any tokens.\\n` +\n            `This could lead to an infinite loop.`;\n        return errMsg;\n    },\n    // TODO: remove - `errors_public` from nyc.config.js exclude\n    //       once this method is fully removed from this file\n    buildTokenNameError(options) {\n        /* istanbul ignore next */\n        return \"deprecated\";\n    },\n    buildEmptyAlternationError(options) {\n        const errMsg = `Ambiguous empty alternative: <${options.emptyChoiceIdx + 1}>` +\n            ` in <OR${options.alternation.idx}> inside <${options.topLevelRule.name}> Rule.\\n` +\n            `Only the last alternative may be an empty alternative.`;\n        return errMsg;\n    },\n    buildTooManyAlternativesError(options) {\n        const errMsg = `An Alternation cannot have more than 256 alternatives:\\n` +\n            `<OR${options.alternation.idx}> inside <${options.topLevelRule.name}> Rule.\\n has ${options.alternation.definition.length + 1} alternatives.`;\n        return errMsg;\n    },\n    buildLeftRecursionError(options) {\n        const ruleName = options.topLevelRule.name;\n        const pathNames = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(options.leftRecursionPath, (currRule) => currRule.name);\n        const leftRecursivePath = `${ruleName} --> ${pathNames\n            .concat([ruleName])\n            .join(\" --> \")}`;\n        const errMsg = `Left Recursion found in grammar.\\n` +\n            `rule: <${ruleName}> can be invoked from itself (directly or indirectly)\\n` +\n            `without consuming any Tokens. The grammar path that causes this is: \\n ${leftRecursivePath}\\n` +\n            ` To fix this refactor your grammar to remove the left recursion.\\n` +\n            `see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`;\n        return errMsg;\n    },\n    // TODO: remove - `errors_public` from nyc.config.js exclude\n    //       once this method is fully removed from this file\n    buildInvalidRuleNameError(options) {\n        /* istanbul ignore next */\n        return \"deprecated\";\n    },\n    buildDuplicateRuleNameError(options) {\n        let ruleName;\n        if (options.topLevelRule instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Rule) {\n            ruleName = options.topLevelRule.name;\n        }\n        else {\n            ruleName = options.topLevelRule;\n        }\n        const errMsg = `Duplicate definition, rule: ->${ruleName}<- is already defined in the grammar: ->${options.grammarName}<-`;\n        return errMsg;\n    },\n};\n//# sourceMappingURL=errors_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZXJyb3JzX3B1YmxpYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFxRTtBQUN0QjtBQUN1QztBQUMvRTtBQUNQLGdDQUFnQyxzQ0FBc0M7QUFDdEUseUJBQXlCLHFFQUFhO0FBQ3RDO0FBQ0EscUJBQXFCLGtFQUFVLFlBQVk7QUFDM0MsbUNBQW1DLGVBQWU7QUFDbEQsaUNBQWlDLGFBQWEsaUJBQWlCLGFBQWE7QUFDNUU7QUFDQSxLQUFLO0FBQ0wsb0NBQW9DLDBCQUEwQjtBQUM5RDtBQUNBLEtBQUs7QUFDTCw4QkFBOEIseUVBQXlFO0FBQ3ZHO0FBQ0E7QUFDQSwyQkFBMkIscURBQUs7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxxREFBTTtBQUM1Qyw0Q0FBNEMscURBQUcsc0NBQXNDLHFEQUFHLDhCQUE4QixrRUFBVSw0QkFBNEI7QUFDNUosMkNBQTJDLHFEQUFHLGlEQUFpRCxRQUFRLElBQUksUUFBUTtBQUNuSCxxRkFBcUYsa0NBQWtDO0FBQ3ZIO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNEJBQTRCLGtFQUFrRTtBQUM5RjtBQUNBO0FBQ0EsMkJBQTJCLHFEQUFLO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMscURBQUcsMkNBQTJDLHFEQUFHLDhCQUE4QixrRUFBVSwyQkFBMkI7QUFDaEs7QUFDQSxvQkFBb0IsbUNBQW1DO0FBQ3ZEO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBLGdDQUFnQyxzREFBUTtBQUN4QztBQUNBO0FBQ0EscUNBQXFDLHlEQUFXO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHFEQUFLO0FBQ25DO0FBQ0Esd0JBQXdCLHNFQUFvQjtBQUM1QztBQUNBO0FBQ0EsdUJBQXVCLFFBQVEsRUFBRSw4QkFBOEIsS0FBSyxvQ0FBb0MsY0FBYztBQUN0SCw0Q0FBNEMsdUJBQXVCLGtDQUFrQyxhQUFhO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsdUZBQXVGLFVBQVU7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3QkFBd0IscURBQUcsa0NBQWtDLGtFQUFVO0FBQ3ZFO0FBQ0EsbURBQW1ELG9DQUFvQztBQUN2RixxQkFBcUIsV0FBVyxZQUFZLDBCQUEwQjtBQUN0RSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3QkFBd0IscURBQUcsa0NBQWtDLGtFQUFVO0FBQ3ZFO0FBQ0EsK0RBQStELG9DQUFvQyxVQUFVLFdBQVc7QUFDeEgsd0JBQXdCLDBCQUEwQjtBQUNsRCxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esc0JBQXNCLHNFQUFvQjtBQUMxQztBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsUUFBUSxpQkFBaUIsMEJBQTBCO0FBQzdGO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHdEQUF3RCwyQkFBMkI7QUFDbkYsc0JBQXNCLHdCQUF3QixZQUFZLDBCQUEwQjtBQUNwRjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxrQkFBa0Isd0JBQXdCLFlBQVksMEJBQTBCLGdCQUFnQiwyQ0FBMkM7QUFDM0k7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDBCQUEwQixxREFBRztBQUM3QixxQ0FBcUMsVUFBVSxNQUFNO0FBQ3JEO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0Esc0JBQXNCLFNBQVM7QUFDL0Isc0ZBQXNGLGtCQUFrQjtBQUN4RztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNENBQTRDLGtEQUFJO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsU0FBUywwQ0FBMEMsb0JBQW9CO0FBQy9IO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZXJyb3JzX3B1YmxpYy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYXNUb2tlbkxhYmVsLCB0b2tlbkxhYmVsIH0gZnJvbSBcIi4uL3NjYW4vdG9rZW5zX3B1YmxpYy5qc1wiO1xuaW1wb3J0IHsgZmlyc3QsIG1hcCwgcmVkdWNlIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgZ2V0UHJvZHVjdGlvbkRzbE5hbWUsIE5vblRlcm1pbmFsLCBSdWxlLCBUZXJtaW5hbCwgfSBmcm9tIFwiQGNoZXZyb3RhaW4vZ2FzdFwiO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRQYXJzZXJFcnJvclByb3ZpZGVyID0ge1xuICAgIGJ1aWxkTWlzbWF0Y2hUb2tlbk1lc3NhZ2UoeyBleHBlY3RlZCwgYWN0dWFsLCBwcmV2aW91cywgcnVsZU5hbWUgfSkge1xuICAgICAgICBjb25zdCBoYXNMYWJlbCA9IGhhc1Rva2VuTGFiZWwoZXhwZWN0ZWQpO1xuICAgICAgICBjb25zdCBleHBlY3RlZE1zZyA9IGhhc0xhYmVsXG4gICAgICAgICAgICA/IGAtLT4gJHt0b2tlbkxhYmVsKGV4cGVjdGVkKX0gPC0tYFxuICAgICAgICAgICAgOiBgdG9rZW4gb2YgdHlwZSAtLT4gJHtleHBlY3RlZC5uYW1lfSA8LS1gO1xuICAgICAgICBjb25zdCBtc2cgPSBgRXhwZWN0aW5nICR7ZXhwZWN0ZWRNc2d9IGJ1dCBmb3VuZCAtLT4gJyR7YWN0dWFsLmltYWdlfScgPC0tYDtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9LFxuICAgIGJ1aWxkTm90QWxsSW5wdXRQYXJzZWRNZXNzYWdlKHsgZmlyc3RSZWR1bmRhbnQsIHJ1bGVOYW1lIH0pIHtcbiAgICAgICAgcmV0dXJuIFwiUmVkdW5kYW50IGlucHV0LCBleHBlY3RpbmcgRU9GIGJ1dCBmb3VuZDogXCIgKyBmaXJzdFJlZHVuZGFudC5pbWFnZTtcbiAgICB9LFxuICAgIGJ1aWxkTm9WaWFibGVBbHRNZXNzYWdlKHsgZXhwZWN0ZWRQYXRoc1BlckFsdCwgYWN0dWFsLCBwcmV2aW91cywgY3VzdG9tVXNlckRlc2NyaXB0aW9uLCBydWxlTmFtZSwgfSkge1xuICAgICAgICBjb25zdCBlcnJQcmVmaXggPSBcIkV4cGVjdGluZzogXCI7XG4gICAgICAgIC8vIFRPRE86IGlzc3VlOiBObyBWaWFibGUgQWx0ZXJuYXRpdmUgRXJyb3IgbWF5IGhhdmUgaW5jb21wbGV0ZSBkZXRhaWxzLiAjNTAyXG4gICAgICAgIGNvbnN0IGFjdHVhbFRleHQgPSBmaXJzdChhY3R1YWwpLmltYWdlO1xuICAgICAgICBjb25zdCBlcnJTdWZmaXggPSBcIlxcbmJ1dCBmb3VuZDogJ1wiICsgYWN0dWFsVGV4dCArIFwiJ1wiO1xuICAgICAgICBpZiAoY3VzdG9tVXNlckRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyUHJlZml4ICsgY3VzdG9tVXNlckRlc2NyaXB0aW9uICsgZXJyU3VmZml4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYWxsTG9va0FoZWFkUGF0aHMgPSByZWR1Y2UoZXhwZWN0ZWRQYXRoc1BlckFsdCwgKHJlc3VsdCwgY3VyckFsdFBhdGhzKSA9PiByZXN1bHQuY29uY2F0KGN1cnJBbHRQYXRocyksIFtdKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRWYWxpZFRva2VuU2VxdWVuY2VzID0gbWFwKGFsbExvb2tBaGVhZFBhdGhzLCAoY3VyclBhdGgpID0+IGBbJHttYXAoY3VyclBhdGgsIChjdXJyVG9rZW5UeXBlKSA9PiB0b2tlbkxhYmVsKGN1cnJUb2tlblR5cGUpKS5qb2luKFwiLCBcIil9XWApO1xuICAgICAgICAgICAgY29uc3QgbmV4dFZhbGlkU2VxdWVuY2VJdGVtcyA9IG1hcChuZXh0VmFsaWRUb2tlblNlcXVlbmNlcywgKGl0ZW1Nc2csIGlkeCkgPT4gYCAgJHtpZHggKyAxfS4gJHtpdGVtTXNnfWApO1xuICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRlZERlc2NyaXB0aW9uID0gYG9uZSBvZiB0aGVzZSBwb3NzaWJsZSBUb2tlbiBzZXF1ZW5jZXM6XFxuJHtuZXh0VmFsaWRTZXF1ZW5jZUl0ZW1zLmpvaW4oXCJcXG5cIil9YDtcbiAgICAgICAgICAgIHJldHVybiBlcnJQcmVmaXggKyBjYWxjdWxhdGVkRGVzY3JpcHRpb24gKyBlcnJTdWZmaXg7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGJ1aWxkRWFybHlFeGl0TWVzc2FnZSh7IGV4cGVjdGVkSXRlcmF0aW9uUGF0aHMsIGFjdHVhbCwgY3VzdG9tVXNlckRlc2NyaXB0aW9uLCBydWxlTmFtZSwgfSkge1xuICAgICAgICBjb25zdCBlcnJQcmVmaXggPSBcIkV4cGVjdGluZzogXCI7XG4gICAgICAgIC8vIFRPRE86IGlzc3VlOiBObyBWaWFibGUgQWx0ZXJuYXRpdmUgRXJyb3IgbWF5IGhhdmUgaW5jb21wbGV0ZSBkZXRhaWxzLiAjNTAyXG4gICAgICAgIGNvbnN0IGFjdHVhbFRleHQgPSBmaXJzdChhY3R1YWwpLmltYWdlO1xuICAgICAgICBjb25zdCBlcnJTdWZmaXggPSBcIlxcbmJ1dCBmb3VuZDogJ1wiICsgYWN0dWFsVGV4dCArIFwiJ1wiO1xuICAgICAgICBpZiAoY3VzdG9tVXNlckRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyUHJlZml4ICsgY3VzdG9tVXNlckRlc2NyaXB0aW9uICsgZXJyU3VmZml4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV4dFZhbGlkVG9rZW5TZXF1ZW5jZXMgPSBtYXAoZXhwZWN0ZWRJdGVyYXRpb25QYXRocywgKGN1cnJQYXRoKSA9PiBgWyR7bWFwKGN1cnJQYXRoLCAoY3VyclRva2VuVHlwZSkgPT4gdG9rZW5MYWJlbChjdXJyVG9rZW5UeXBlKSkuam9pbihcIixcIil9XWApO1xuICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRlZERlc2NyaXB0aW9uID0gYGV4cGVjdGluZyBhdCBsZWFzdCBvbmUgaXRlcmF0aW9uIHdoaWNoIHN0YXJ0cyB3aXRoIG9uZSBvZiB0aGVzZSBwb3NzaWJsZSBUb2tlbiBzZXF1ZW5jZXM6OlxcbiAgYCArXG4gICAgICAgICAgICAgICAgYDwke25leHRWYWxpZFRva2VuU2VxdWVuY2VzLmpvaW4oXCIgLFwiKX0+YDtcbiAgICAgICAgICAgIHJldHVybiBlcnJQcmVmaXggKyBjYWxjdWxhdGVkRGVzY3JpcHRpb24gKyBlcnJTdWZmaXg7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbk9iamVjdC5mcmVlemUoZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIpO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRHcmFtbWFyUmVzb2x2ZXJFcnJvclByb3ZpZGVyID0ge1xuICAgIGJ1aWxkUnVsZU5vdEZvdW5kRXJyb3IodG9wTGV2ZWxSdWxlLCB1bmRlZmluZWRSdWxlKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IFwiSW52YWxpZCBncmFtbWFyLCByZWZlcmVuY2UgdG8gYSBydWxlIHdoaWNoIGlzIG5vdCBkZWZpbmVkOiAtPlwiICtcbiAgICAgICAgICAgIHVuZGVmaW5lZFJ1bGUubm9uVGVybWluYWxOYW1lICtcbiAgICAgICAgICAgIFwiPC1cXG5cIiArXG4gICAgICAgICAgICBcImluc2lkZSB0b3AgbGV2ZWwgcnVsZTogLT5cIiArXG4gICAgICAgICAgICB0b3BMZXZlbFJ1bGUubmFtZSArXG4gICAgICAgICAgICBcIjwtXCI7XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyID0ge1xuICAgIGJ1aWxkRHVwbGljYXRlRm91bmRFcnJvcih0b3BMZXZlbFJ1bGUsIGR1cGxpY2F0ZVByb2RzKSB7XG4gICAgICAgIGZ1bmN0aW9uIGdldEV4dHJhUHJvZHVjdGlvbkFyZ3VtZW50KHByb2QpIHtcbiAgICAgICAgICAgIGlmIChwcm9kIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvZC50ZXJtaW5hbFR5cGUubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9kLm5vblRlcm1pbmFsTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvcExldmVsTmFtZSA9IHRvcExldmVsUnVsZS5uYW1lO1xuICAgICAgICBjb25zdCBkdXBsaWNhdGVQcm9kID0gZmlyc3QoZHVwbGljYXRlUHJvZHMpO1xuICAgICAgICBjb25zdCBpbmRleCA9IGR1cGxpY2F0ZVByb2QuaWR4O1xuICAgICAgICBjb25zdCBkc2xOYW1lID0gZ2V0UHJvZHVjdGlvbkRzbE5hbWUoZHVwbGljYXRlUHJvZCk7XG4gICAgICAgIGNvbnN0IGV4dHJhQXJndW1lbnQgPSBnZXRFeHRyYVByb2R1Y3Rpb25Bcmd1bWVudChkdXBsaWNhdGVQcm9kKTtcbiAgICAgICAgY29uc3QgaGFzRXhwbGljaXRJbmRleCA9IGluZGV4ID4gMDtcbiAgICAgICAgbGV0IG1zZyA9IGAtPiR7ZHNsTmFtZX0ke2hhc0V4cGxpY2l0SW5kZXggPyBpbmRleCA6IFwiXCJ9PC0gJHtleHRyYUFyZ3VtZW50ID8gYHdpdGggYXJndW1lbnQ6IC0+JHtleHRyYUFyZ3VtZW50fTwtYCA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICBhcHBlYXJzIG1vcmUgdGhhbiBvbmNlICgke2R1cGxpY2F0ZVByb2RzLmxlbmd0aH0gdGltZXMpIGluIHRoZSB0b3AgbGV2ZWwgcnVsZTogLT4ke3RvcExldmVsTmFtZX08LS4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIEZvciBmdXJ0aGVyIGRldGFpbHMgc2VlOiBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9GQVEuaHRtbCNOVU1FUklDQUxfU1VGRklYRVMgXG4gICAgICAgICAgICAgICAgICBgO1xuICAgICAgICAvLyB3aGl0ZSBzcGFjZSB0cmltbWluZyB0aW1lISBiZXR0ZXIgdG8gdHJpbSBhZnRlcndhcmRzIGFzIGl0IGFsbG93cyB0byB1c2UgV0VMTCBmb3JtYXR0ZWQgbXVsdGkgbGluZSB0ZW1wbGF0ZSBzdHJpbmdzLi4uXG4gICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKC9bIFxcdF0rL2csIFwiIFwiKTtcbiAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoL1xcc1xccysvZywgXCJcXG5cIik7XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfSxcbiAgICBidWlsZE5hbWVzcGFjZUNvbmZsaWN0RXJyb3IocnVsZSkge1xuICAgICAgICBjb25zdCBlcnJNc2cgPSBgTmFtZXNwYWNlIGNvbmZsaWN0IGZvdW5kIGluIGdyYW1tYXIuXFxuYCArXG4gICAgICAgICAgICBgVGhlIGdyYW1tYXIgaGFzIGJvdGggYSBUZXJtaW5hbChUb2tlbikgYW5kIGEgTm9uLVRlcm1pbmFsKFJ1bGUpIG5hbWVkOiA8JHtydWxlLm5hbWV9Pi5cXG5gICtcbiAgICAgICAgICAgIGBUbyByZXNvbHZlIHRoaXMgbWFrZSBzdXJlIGVhY2ggVGVybWluYWwgYW5kIE5vbi1UZXJtaW5hbCBuYW1lcyBhcmUgdW5pcXVlXFxuYCArXG4gICAgICAgICAgICBgVGhpcyBpcyBlYXN5IHRvIGFjY29tcGxpc2ggYnkgdXNpbmcgdGhlIGNvbnZlbnRpb24gdGhhdCBUZXJtaW5hbCBuYW1lcyBzdGFydCB3aXRoIGFuIHVwcGVyY2FzZSBsZXR0ZXJcXG5gICtcbiAgICAgICAgICAgIGBhbmQgTm9uLVRlcm1pbmFsIG5hbWVzIHN0YXJ0IHdpdGggYSBsb3dlciBjYXNlIGxldHRlci5gO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH0sXG4gICAgYnVpbGRBbHRlcm5hdGlvblByZWZpeEFtYmlndWl0eUVycm9yKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcGF0aE1zZyA9IG1hcChvcHRpb25zLnByZWZpeFBhdGgsIChjdXJyVG9rKSA9PiB0b2tlbkxhYmVsKGN1cnJUb2spKS5qb2luKFwiLCBcIik7XG4gICAgICAgIGNvbnN0IG9jY3VycmVuY2UgPSBvcHRpb25zLmFsdGVybmF0aW9uLmlkeCA9PT0gMCA/IFwiXCIgOiBvcHRpb25zLmFsdGVybmF0aW9uLmlkeDtcbiAgICAgICAgY29uc3QgZXJyTXNnID0gYEFtYmlndW91cyBhbHRlcm5hdGl2ZXM6IDwke29wdGlvbnMuYW1iaWd1aXR5SW5kaWNlcy5qb2luKFwiICxcIil9PiBkdWUgdG8gY29tbW9uIGxvb2thaGVhZCBwcmVmaXhcXG5gICtcbiAgICAgICAgICAgIGBpbiA8T1Ike29jY3VycmVuY2V9PiBpbnNpZGUgPCR7b3B0aW9ucy50b3BMZXZlbFJ1bGUubmFtZX0+IFJ1bGUsXFxuYCArXG4gICAgICAgICAgICBgPCR7cGF0aE1zZ30+IG1heSBhcHBlYXJzIGFzIGEgcHJlZml4IHBhdGggaW4gYWxsIHRoZXNlIGFsdGVybmF0aXZlcy5cXG5gICtcbiAgICAgICAgICAgIGBTZWU6IGh0dHBzOi8vY2hldnJvdGFpbi5pby9kb2NzL2d1aWRlL3Jlc29sdmluZ19ncmFtbWFyX2Vycm9ycy5odG1sI0NPTU1PTl9QUkVGSVhcXG5gICtcbiAgICAgICAgICAgIGBGb3IgRnVydGhlciBkZXRhaWxzLmA7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfSxcbiAgICBidWlsZEFsdGVybmF0aW9uQW1iaWd1aXR5RXJyb3Iob3B0aW9ucykge1xuICAgICAgICBjb25zdCBwYXRoTXNnID0gbWFwKG9wdGlvbnMucHJlZml4UGF0aCwgKGN1cnJ0b2spID0+IHRva2VuTGFiZWwoY3VycnRvaykpLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgY29uc3Qgb2NjdXJyZW5jZSA9IG9wdGlvbnMuYWx0ZXJuYXRpb24uaWR4ID09PSAwID8gXCJcIiA6IG9wdGlvbnMuYWx0ZXJuYXRpb24uaWR4O1xuICAgICAgICBsZXQgY3Vyck1lc3NhZ2UgPSBgQW1iaWd1b3VzIEFsdGVybmF0aXZlcyBEZXRlY3RlZDogPCR7b3B0aW9ucy5hbWJpZ3VpdHlJbmRpY2VzLmpvaW4oXCIgLFwiKX0+IGluIDxPUiR7b2NjdXJyZW5jZX0+YCArXG4gICAgICAgICAgICBgIGluc2lkZSA8JHtvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lfT4gUnVsZSxcXG5gICtcbiAgICAgICAgICAgIGA8JHtwYXRoTXNnfT4gbWF5IGFwcGVhcnMgYXMgYSBwcmVmaXggcGF0aCBpbiBhbGwgdGhlc2UgYWx0ZXJuYXRpdmVzLlxcbmA7XG4gICAgICAgIGN1cnJNZXNzYWdlID1cbiAgICAgICAgICAgIGN1cnJNZXNzYWdlICtcbiAgICAgICAgICAgICAgICBgU2VlOiBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9ndWlkZS9yZXNvbHZpbmdfZ3JhbW1hcl9lcnJvcnMuaHRtbCNBTUJJR1VPVVNfQUxURVJOQVRJVkVTXFxuYCArXG4gICAgICAgICAgICAgICAgYEZvciBGdXJ0aGVyIGRldGFpbHMuYDtcbiAgICAgICAgcmV0dXJuIGN1cnJNZXNzYWdlO1xuICAgIH0sXG4gICAgYnVpbGRFbXB0eVJlcGV0aXRpb25FcnJvcihvcHRpb25zKSB7XG4gICAgICAgIGxldCBkc2xOYW1lID0gZ2V0UHJvZHVjdGlvbkRzbE5hbWUob3B0aW9ucy5yZXBldGl0aW9uKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucmVwZXRpdGlvbi5pZHggIT09IDApIHtcbiAgICAgICAgICAgIGRzbE5hbWUgKz0gb3B0aW9ucy5yZXBldGl0aW9uLmlkeDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJNc2cgPSBgVGhlIHJlcGV0aXRpb24gPCR7ZHNsTmFtZX0+IHdpdGhpbiBSdWxlIDwke29wdGlvbnMudG9wTGV2ZWxSdWxlLm5hbWV9PiBjYW4gbmV2ZXIgY29uc3VtZSBhbnkgdG9rZW5zLlxcbmAgK1xuICAgICAgICAgICAgYFRoaXMgY291bGQgbGVhZCB0byBhbiBpbmZpbml0ZSBsb29wLmA7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfSxcbiAgICAvLyBUT0RPOiByZW1vdmUgLSBgZXJyb3JzX3B1YmxpY2AgZnJvbSBueWMuY29uZmlnLmpzIGV4Y2x1ZGVcbiAgICAvLyAgICAgICBvbmNlIHRoaXMgbWV0aG9kIGlzIGZ1bGx5IHJlbW92ZWQgZnJvbSB0aGlzIGZpbGVcbiAgICBidWlsZFRva2VuTmFtZUVycm9yKG9wdGlvbnMpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgcmV0dXJuIFwiZGVwcmVjYXRlZFwiO1xuICAgIH0sXG4gICAgYnVpbGRFbXB0eUFsdGVybmF0aW9uRXJyb3Iob3B0aW9ucykge1xuICAgICAgICBjb25zdCBlcnJNc2cgPSBgQW1iaWd1b3VzIGVtcHR5IGFsdGVybmF0aXZlOiA8JHtvcHRpb25zLmVtcHR5Q2hvaWNlSWR4ICsgMX0+YCArXG4gICAgICAgICAgICBgIGluIDxPUiR7b3B0aW9ucy5hbHRlcm5hdGlvbi5pZHh9PiBpbnNpZGUgPCR7b3B0aW9ucy50b3BMZXZlbFJ1bGUubmFtZX0+IFJ1bGUuXFxuYCArXG4gICAgICAgICAgICBgT25seSB0aGUgbGFzdCBhbHRlcm5hdGl2ZSBtYXkgYmUgYW4gZW1wdHkgYWx0ZXJuYXRpdmUuYDtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIGJ1aWxkVG9vTWFueUFsdGVybmF0aXZlc0Vycm9yKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZXJyTXNnID0gYEFuIEFsdGVybmF0aW9uIGNhbm5vdCBoYXZlIG1vcmUgdGhhbiAyNTYgYWx0ZXJuYXRpdmVzOlxcbmAgK1xuICAgICAgICAgICAgYDxPUiR7b3B0aW9ucy5hbHRlcm5hdGlvbi5pZHh9PiBpbnNpZGUgPCR7b3B0aW9ucy50b3BMZXZlbFJ1bGUubmFtZX0+IFJ1bGUuXFxuIGhhcyAke29wdGlvbnMuYWx0ZXJuYXRpb24uZGVmaW5pdGlvbi5sZW5ndGggKyAxfSBhbHRlcm5hdGl2ZXMuYDtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIGJ1aWxkTGVmdFJlY3Vyc2lvbkVycm9yKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcnVsZU5hbWUgPSBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lO1xuICAgICAgICBjb25zdCBwYXRoTmFtZXMgPSBtYXAob3B0aW9ucy5sZWZ0UmVjdXJzaW9uUGF0aCwgKGN1cnJSdWxlKSA9PiBjdXJyUnVsZS5uYW1lKTtcbiAgICAgICAgY29uc3QgbGVmdFJlY3Vyc2l2ZVBhdGggPSBgJHtydWxlTmFtZX0gLS0+ICR7cGF0aE5hbWVzXG4gICAgICAgICAgICAuY29uY2F0KFtydWxlTmFtZV0pXG4gICAgICAgICAgICAuam9pbihcIiAtLT4gXCIpfWA7XG4gICAgICAgIGNvbnN0IGVyck1zZyA9IGBMZWZ0IFJlY3Vyc2lvbiBmb3VuZCBpbiBncmFtbWFyLlxcbmAgK1xuICAgICAgICAgICAgYHJ1bGU6IDwke3J1bGVOYW1lfT4gY2FuIGJlIGludm9rZWQgZnJvbSBpdHNlbGYgKGRpcmVjdGx5IG9yIGluZGlyZWN0bHkpXFxuYCArXG4gICAgICAgICAgICBgd2l0aG91dCBjb25zdW1pbmcgYW55IFRva2Vucy4gVGhlIGdyYW1tYXIgcGF0aCB0aGF0IGNhdXNlcyB0aGlzIGlzOiBcXG4gJHtsZWZ0UmVjdXJzaXZlUGF0aH1cXG5gICtcbiAgICAgICAgICAgIGAgVG8gZml4IHRoaXMgcmVmYWN0b3IgeW91ciBncmFtbWFyIHRvIHJlbW92ZSB0aGUgbGVmdCByZWN1cnNpb24uXFxuYCArXG4gICAgICAgICAgICBgc2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MTF9wYXJzZXIjTGVmdF9mYWN0b3JpbmcuYDtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIC8vIFRPRE86IHJlbW92ZSAtIGBlcnJvcnNfcHVibGljYCBmcm9tIG55Yy5jb25maWcuanMgZXhjbHVkZVxuICAgIC8vICAgICAgIG9uY2UgdGhpcyBtZXRob2QgaXMgZnVsbHkgcmVtb3ZlZCBmcm9tIHRoaXMgZmlsZVxuICAgIGJ1aWxkSW52YWxpZFJ1bGVOYW1lRXJyb3Iob3B0aW9ucykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICByZXR1cm4gXCJkZXByZWNhdGVkXCI7XG4gICAgfSxcbiAgICBidWlsZER1cGxpY2F0ZVJ1bGVOYW1lRXJyb3Iob3B0aW9ucykge1xuICAgICAgICBsZXQgcnVsZU5hbWU7XG4gICAgICAgIGlmIChvcHRpb25zLnRvcExldmVsUnVsZSBpbnN0YW5jZW9mIFJ1bGUpIHtcbiAgICAgICAgICAgIHJ1bGVOYW1lID0gb3B0aW9ucy50b3BMZXZlbFJ1bGUubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJ1bGVOYW1lID0gb3B0aW9ucy50b3BMZXZlbFJ1bGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXJyTXNnID0gYER1cGxpY2F0ZSBkZWZpbml0aW9uLCBydWxlOiAtPiR7cnVsZU5hbWV9PC0gaXMgYWxyZWFkeSBkZWZpbmVkIGluIHRoZSBncmFtbWFyOiAtPiR7b3B0aW9ucy5ncmFtbWFyTmFtZX08LWA7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnNfcHVibGljLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/errors_public.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/exceptions_public.js":
/*!**********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/exceptions_public.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EarlyExitException: () => (/* binding */ EarlyExitException),\n/* harmony export */   MismatchedTokenException: () => (/* binding */ MismatchedTokenException),\n/* harmony export */   NoViableAltException: () => (/* binding */ NoViableAltException),\n/* harmony export */   NotAllInputParsedException: () => (/* binding */ NotAllInputParsedException),\n/* harmony export */   isRecognitionException: () => (/* binding */ isRecognitionException)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/includes.js\");\n\nconst MISMATCHED_TOKEN_EXCEPTION = \"MismatchedTokenException\";\nconst NO_VIABLE_ALT_EXCEPTION = \"NoViableAltException\";\nconst EARLY_EXIT_EXCEPTION = \"EarlyExitException\";\nconst NOT_ALL_INPUT_PARSED_EXCEPTION = \"NotAllInputParsedException\";\nconst RECOGNITION_EXCEPTION_NAMES = [\n    MISMATCHED_TOKEN_EXCEPTION,\n    NO_VIABLE_ALT_EXCEPTION,\n    EARLY_EXIT_EXCEPTION,\n    NOT_ALL_INPUT_PARSED_EXCEPTION,\n];\nObject.freeze(RECOGNITION_EXCEPTION_NAMES);\n// hacks to bypass no support for custom Errors in javascript/typescript\nfunction isRecognitionException(error) {\n    // can't do instanceof on hacked custom js exceptions\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(RECOGNITION_EXCEPTION_NAMES, error.name);\n}\nclass RecognitionException extends Error {\n    constructor(message, token) {\n        super(message);\n        this.token = token;\n        this.resyncedTokens = [];\n        // fix prototype chain when typescript target is ES5\n        Object.setPrototypeOf(this, new.target.prototype);\n        /* istanbul ignore next - V8 workaround to remove constructor from stacktrace when typescript target is ES5 */\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        }\n    }\n}\nclass MismatchedTokenException extends RecognitionException {\n    constructor(message, token, previousToken) {\n        super(message, token);\n        this.previousToken = previousToken;\n        this.name = MISMATCHED_TOKEN_EXCEPTION;\n    }\n}\nclass NoViableAltException extends RecognitionException {\n    constructor(message, token, previousToken) {\n        super(message, token);\n        this.previousToken = previousToken;\n        this.name = NO_VIABLE_ALT_EXCEPTION;\n    }\n}\nclass NotAllInputParsedException extends RecognitionException {\n    constructor(message, token) {\n        super(message, token);\n        this.name = NOT_ALL_INPUT_PARSED_EXCEPTION;\n    }\n}\nclass EarlyExitException extends RecognitionException {\n    constructor(message, token, previousToken) {\n        super(message, token);\n        this.previousToken = previousToken;\n        this.name = EARLY_EXIT_EXCEPTION;\n    }\n}\n//# sourceMappingURL=exceptions_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZXhjZXB0aW9uc19wdWJsaWMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxXQUFXLHFEQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9leGNlcHRpb25zX3B1YmxpYy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbmNsdWRlcyB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmNvbnN0IE1JU01BVENIRURfVE9LRU5fRVhDRVBUSU9OID0gXCJNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb25cIjtcbmNvbnN0IE5PX1ZJQUJMRV9BTFRfRVhDRVBUSU9OID0gXCJOb1ZpYWJsZUFsdEV4Y2VwdGlvblwiO1xuY29uc3QgRUFSTFlfRVhJVF9FWENFUFRJT04gPSBcIkVhcmx5RXhpdEV4Y2VwdGlvblwiO1xuY29uc3QgTk9UX0FMTF9JTlBVVF9QQVJTRURfRVhDRVBUSU9OID0gXCJOb3RBbGxJbnB1dFBhcnNlZEV4Y2VwdGlvblwiO1xuY29uc3QgUkVDT0dOSVRJT05fRVhDRVBUSU9OX05BTUVTID0gW1xuICAgIE1JU01BVENIRURfVE9LRU5fRVhDRVBUSU9OLFxuICAgIE5PX1ZJQUJMRV9BTFRfRVhDRVBUSU9OLFxuICAgIEVBUkxZX0VYSVRfRVhDRVBUSU9OLFxuICAgIE5PVF9BTExfSU5QVVRfUEFSU0VEX0VYQ0VQVElPTixcbl07XG5PYmplY3QuZnJlZXplKFJFQ09HTklUSU9OX0VYQ0VQVElPTl9OQU1FUyk7XG4vLyBoYWNrcyB0byBieXBhc3Mgbm8gc3VwcG9ydCBmb3IgY3VzdG9tIEVycm9ycyBpbiBqYXZhc2NyaXB0L3R5cGVzY3JpcHRcbmV4cG9ydCBmdW5jdGlvbiBpc1JlY29nbml0aW9uRXhjZXB0aW9uKGVycm9yKSB7XG4gICAgLy8gY2FuJ3QgZG8gaW5zdGFuY2VvZiBvbiBoYWNrZWQgY3VzdG9tIGpzIGV4Y2VwdGlvbnNcbiAgICByZXR1cm4gaW5jbHVkZXMoUkVDT0dOSVRJT05fRVhDRVBUSU9OX05BTUVTLCBlcnJvci5uYW1lKTtcbn1cbmNsYXNzIFJlY29nbml0aW9uRXhjZXB0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHRva2VuKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMucmVzeW5jZWRUb2tlbnMgPSBbXTtcbiAgICAgICAgLy8gZml4IHByb3RvdHlwZSBjaGFpbiB3aGVuIHR5cGVzY3JpcHQgdGFyZ2V0IGlzIEVTNVxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIFY4IHdvcmthcm91bmQgdG8gcmVtb3ZlIGNvbnN0cnVjdG9yIGZyb20gc3RhY2t0cmFjZSB3aGVuIHR5cGVzY3JpcHQgdGFyZ2V0IGlzIEVTNSAqL1xuICAgICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbiBleHRlbmRzIFJlY29nbml0aW9uRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCB0b2tlbiwgcHJldmlvdXNUb2tlbikge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCB0b2tlbik7XG4gICAgICAgIHRoaXMucHJldmlvdXNUb2tlbiA9IHByZXZpb3VzVG9rZW47XG4gICAgICAgIHRoaXMubmFtZSA9IE1JU01BVENIRURfVE9LRU5fRVhDRVBUSU9OO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOb1ZpYWJsZUFsdEV4Y2VwdGlvbiBleHRlbmRzIFJlY29nbml0aW9uRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCB0b2tlbiwgcHJldmlvdXNUb2tlbikge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCB0b2tlbik7XG4gICAgICAgIHRoaXMucHJldmlvdXNUb2tlbiA9IHByZXZpb3VzVG9rZW47XG4gICAgICAgIHRoaXMubmFtZSA9IE5PX1ZJQUJMRV9BTFRfRVhDRVBUSU9OO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOb3RBbGxJbnB1dFBhcnNlZEV4Y2VwdGlvbiBleHRlbmRzIFJlY29nbml0aW9uRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCB0b2tlbikge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCB0b2tlbik7XG4gICAgICAgIHRoaXMubmFtZSA9IE5PVF9BTExfSU5QVVRfUEFSU0VEX0VYQ0VQVElPTjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRWFybHlFeGl0RXhjZXB0aW9uIGV4dGVuZHMgUmVjb2duaXRpb25FeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHRva2VuLCBwcmV2aW91c1Rva2VuKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHRva2VuKTtcbiAgICAgICAgdGhpcy5wcmV2aW91c1Rva2VuID0gcHJldmlvdXNUb2tlbjtcbiAgICAgICAgdGhpcy5uYW1lID0gRUFSTFlfRVhJVF9FWENFUFRJT047XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhjZXB0aW9uc19wdWJsaWMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/exceptions_public.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/checks.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/checks.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OccurrenceValidationCollector: () => (/* binding */ OccurrenceValidationCollector),\n/* harmony export */   RepetitionCollector: () => (/* binding */ RepetitionCollector),\n/* harmony export */   checkPrefixAlternativesAmbiguities: () => (/* binding */ checkPrefixAlternativesAmbiguities),\n/* harmony export */   getFirstNoneTerminal: () => (/* binding */ getFirstNoneTerminal),\n/* harmony export */   identifyProductionForDuplicates: () => (/* binding */ identifyProductionForDuplicates),\n/* harmony export */   validateAmbiguousAlternationAlternatives: () => (/* binding */ validateAmbiguousAlternationAlternatives),\n/* harmony export */   validateEmptyOrAlternative: () => (/* binding */ validateEmptyOrAlternative),\n/* harmony export */   validateGrammar: () => (/* binding */ validateGrammar),\n/* harmony export */   validateLookahead: () => (/* binding */ validateLookahead),\n/* harmony export */   validateNoLeftRecursion: () => (/* binding */ validateNoLeftRecursion),\n/* harmony export */   validateRuleDoesNotAlreadyExist: () => (/* binding */ validateRuleDoesNotAlreadyExist),\n/* harmony export */   validateRuleIsOverridden: () => (/* binding */ validateRuleIsOverridden),\n/* harmony export */   validateSomeNonEmptyLookaheadPath: () => (/* binding */ validateSomeNonEmptyLookaheadPath),\n/* harmony export */   validateTooManyAlts: () => (/* binding */ validateTooManyAlts)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/flatMap.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/groupBy.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/pickBy.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/values.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/head.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/reduce.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/includes.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/difference.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/clone.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/flatten.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/drop.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/dropRight.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/reject.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/compact.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/filter.js\");\n/* harmony import */ var _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parser/parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/api.js\");\n/* harmony import */ var _lookahead_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lookahead.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/lookahead.js\");\n/* harmony import */ var _interpreter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./interpreter.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/interpreter.js\");\n/* harmony import */ var _scan_tokens_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../scan/tokens.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens.js\");\n\n\n\n\n\n\nfunction validateLookahead(options) {\n    const lookaheadValidationErrorMessages = options.lookaheadStrategy.validate({\n        rules: options.rules,\n        tokenTypes: options.tokenTypes,\n        grammarName: options.grammarName,\n    });\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(lookaheadValidationErrorMessages, (errorMessage) => (Object.assign({ type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.CUSTOM_LOOKAHEAD_VALIDATION }, errorMessage)));\n}\nfunction validateGrammar(topLevels, tokenTypes, errMsgProvider, grammarName) {\n    const duplicateErrors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(topLevels, (currTopLevel) => validateDuplicateProductions(currTopLevel, errMsgProvider));\n    const termsNamespaceConflictErrors = checkTerminalAndNoneTerminalsNameSpace(topLevels, tokenTypes, errMsgProvider);\n    const tooManyAltsErrors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(topLevels, (curRule) => validateTooManyAlts(curRule, errMsgProvider));\n    const duplicateRulesError = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(topLevels, (curRule) => validateRuleDoesNotAlreadyExist(curRule, topLevels, grammarName, errMsgProvider));\n    return duplicateErrors.concat(termsNamespaceConflictErrors, tooManyAltsErrors, duplicateRulesError);\n}\nfunction validateDuplicateProductions(topLevelRule, errMsgProvider) {\n    const collectorVisitor = new OccurrenceValidationCollector();\n    topLevelRule.accept(collectorVisitor);\n    const allRuleProductions = collectorVisitor.allProductions;\n    const productionGroups = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(allRuleProductions, identifyProductionForDuplicates);\n    const duplicates = (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(productionGroups, (currGroup) => {\n        return currGroup.length > 1;\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(duplicates), (currDuplicates) => {\n        const firstProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currDuplicates);\n        const msg = errMsgProvider.buildDuplicateFoundError(topLevelRule, currDuplicates);\n        const dslName = (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.getProductionDslName)(firstProd);\n        const defError = {\n            message: msg,\n            type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,\n            ruleName: topLevelRule.name,\n            dslName: dslName,\n            occurrence: firstProd.idx,\n        };\n        const param = getExtraProductionArgument(firstProd);\n        if (param) {\n            defError.parameter = param;\n        }\n        return defError;\n    });\n    return errors;\n}\nfunction identifyProductionForDuplicates(prod) {\n    return `${(0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.getProductionDslName)(prod)}_#_${prod.idx}_#_${getExtraProductionArgument(prod)}`;\n}\nfunction getExtraProductionArgument(prod) {\n    if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Terminal) {\n        return prod.terminalType.name;\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.NonTerminal) {\n        return prod.nonTerminalName;\n    }\n    else {\n        return \"\";\n    }\n}\nclass OccurrenceValidationCollector extends _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.GAstVisitor {\n    constructor() {\n        super(...arguments);\n        this.allProductions = [];\n    }\n    visitNonTerminal(subrule) {\n        this.allProductions.push(subrule);\n    }\n    visitOption(option) {\n        this.allProductions.push(option);\n    }\n    visitRepetitionWithSeparator(manySep) {\n        this.allProductions.push(manySep);\n    }\n    visitRepetitionMandatory(atLeastOne) {\n        this.allProductions.push(atLeastOne);\n    }\n    visitRepetitionMandatoryWithSeparator(atLeastOneSep) {\n        this.allProductions.push(atLeastOneSep);\n    }\n    visitRepetition(many) {\n        this.allProductions.push(many);\n    }\n    visitAlternation(or) {\n        this.allProductions.push(or);\n    }\n    visitTerminal(terminal) {\n        this.allProductions.push(terminal);\n    }\n}\nfunction validateRuleDoesNotAlreadyExist(rule, allRules, className, errMsgProvider) {\n    const errors = [];\n    const occurrences = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(allRules, (result, curRule) => {\n        if (curRule.name === rule.name) {\n            return result + 1;\n        }\n        return result;\n    }, 0);\n    if (occurrences > 1) {\n        const errMsg = errMsgProvider.buildDuplicateRuleNameError({\n            topLevelRule: rule,\n            grammarName: className,\n        });\n        errors.push({\n            message: errMsg,\n            type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,\n            ruleName: rule.name,\n        });\n    }\n    return errors;\n}\n// TODO: is there anyway to get only the rule names of rules inherited from the super grammars?\n// This is not part of the IGrammarErrorProvider because the validation cannot be performed on\n// The grammar structure, only at runtime.\nfunction validateRuleIsOverridden(ruleName, definedRulesNames, className) {\n    const errors = [];\n    let errMsg;\n    if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(definedRulesNames, ruleName)) {\n        errMsg =\n            `Invalid rule override, rule: ->${ruleName}<- cannot be overridden in the grammar: ->${className}<-` +\n                `as it is not defined in any of the super grammars `;\n        errors.push({\n            message: errMsg,\n            type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,\n            ruleName: ruleName,\n        });\n    }\n    return errors;\n}\nfunction validateNoLeftRecursion(topRule, currRule, errMsgProvider, path = []) {\n    const errors = [];\n    const nextNonTerminals = getFirstNoneTerminal(currRule.definition);\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(nextNonTerminals)) {\n        return [];\n    }\n    else {\n        const ruleName = topRule.name;\n        const foundLeftRecursion = (0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(nextNonTerminals, topRule);\n        if (foundLeftRecursion) {\n            errors.push({\n                message: errMsgProvider.buildLeftRecursionError({\n                    topLevelRule: topRule,\n                    leftRecursionPath: path,\n                }),\n                type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.LEFT_RECURSION,\n                ruleName: ruleName,\n            });\n        }\n        // we are only looking for cyclic paths leading back to the specific topRule\n        // other cyclic paths are ignored, we still need this difference to avoid infinite loops...\n        const validNextSteps = (0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(nextNonTerminals, path.concat([topRule]));\n        const errorsFromNextSteps = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(validNextSteps, (currRefRule) => {\n            const newPath = (0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(path);\n            newPath.push(currRefRule);\n            return validateNoLeftRecursion(topRule, currRefRule, errMsgProvider, newPath);\n        });\n        return errors.concat(errorsFromNextSteps);\n    }\n}\nfunction getFirstNoneTerminal(definition) {\n    let result = [];\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(definition)) {\n        return result;\n    }\n    const firstProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(definition);\n    /* istanbul ignore else */\n    if (firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.NonTerminal) {\n        result.push(firstProd.referencedRule);\n    }\n    else if (firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Alternative ||\n        firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Option ||\n        firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.RepetitionMandatory ||\n        firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.RepetitionMandatoryWithSeparator ||\n        firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.RepetitionWithSeparator ||\n        firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Repetition) {\n        result = result.concat(getFirstNoneTerminal(firstProd.definition));\n    }\n    else if (firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Alternation) {\n        // each sub definition in alternation is a FLAT\n        result = (0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(firstProd.definition, (currSubDef) => getFirstNoneTerminal(currSubDef.definition)));\n    }\n    else if (firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Terminal) {\n        // nothing to see, move along\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n    const isFirstOptional = (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.isOptionalProd)(firstProd);\n    const hasMore = definition.length > 1;\n    if (isFirstOptional && hasMore) {\n        const rest = (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(definition);\n        return result.concat(getFirstNoneTerminal(rest));\n    }\n    else {\n        return result;\n    }\n}\nclass OrCollector extends _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.GAstVisitor {\n    constructor() {\n        super(...arguments);\n        this.alternations = [];\n    }\n    visitAlternation(node) {\n        this.alternations.push(node);\n    }\n}\nfunction validateEmptyOrAlternative(topLevelRule, errMsgProvider) {\n    const orCollector = new OrCollector();\n    topLevelRule.accept(orCollector);\n    const ors = orCollector.alternations;\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ors, (currOr) => {\n        const exceptLast = (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(currOr.definition);\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(exceptLast, (currAlternative, currAltIdx) => {\n            const possibleFirstInAlt = (0,_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.nextPossibleTokensAfter)([currAlternative], [], _scan_tokens_js__WEBPACK_IMPORTED_MODULE_4__.tokenStructuredMatcher, 1);\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(possibleFirstInAlt)) {\n                return [\n                    {\n                        message: errMsgProvider.buildEmptyAlternationError({\n                            topLevelRule: topLevelRule,\n                            alternation: currOr,\n                            emptyChoiceIdx: currAltIdx,\n                        }),\n                        type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,\n                        ruleName: topLevelRule.name,\n                        occurrence: currOr.idx,\n                        alternative: currAltIdx + 1,\n                    },\n                ];\n            }\n            else {\n                return [];\n            }\n        });\n    });\n    return errors;\n}\nfunction validateAmbiguousAlternationAlternatives(topLevelRule, globalMaxLookahead, errMsgProvider) {\n    const orCollector = new OrCollector();\n    topLevelRule.accept(orCollector);\n    let ors = orCollector.alternations;\n    // New Handling of ignoring ambiguities\n    // - https://github.com/chevrotain/chevrotain/issues/869\n    ors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(ors, (currOr) => currOr.ignoreAmbiguities === true);\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ors, (currOr) => {\n        const currOccurrence = currOr.idx;\n        const actualMaxLookahead = currOr.maxLookahead || globalMaxLookahead;\n        const alternatives = (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.getLookaheadPathsForOr)(currOccurrence, topLevelRule, actualMaxLookahead, currOr);\n        const altsAmbiguityErrors = checkAlternativesAmbiguities(alternatives, currOr, topLevelRule, errMsgProvider);\n        const altsPrefixAmbiguityErrors = checkPrefixAlternativesAmbiguities(alternatives, currOr, topLevelRule, errMsgProvider);\n        return altsAmbiguityErrors.concat(altsPrefixAmbiguityErrors);\n    });\n    return errors;\n}\nclass RepetitionCollector extends _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.GAstVisitor {\n    constructor() {\n        super(...arguments);\n        this.allProductions = [];\n    }\n    visitRepetitionWithSeparator(manySep) {\n        this.allProductions.push(manySep);\n    }\n    visitRepetitionMandatory(atLeastOne) {\n        this.allProductions.push(atLeastOne);\n    }\n    visitRepetitionMandatoryWithSeparator(atLeastOneSep) {\n        this.allProductions.push(atLeastOneSep);\n    }\n    visitRepetition(many) {\n        this.allProductions.push(many);\n    }\n}\nfunction validateTooManyAlts(topLevelRule, errMsgProvider) {\n    const orCollector = new OrCollector();\n    topLevelRule.accept(orCollector);\n    const ors = orCollector.alternations;\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ors, (currOr) => {\n        if (currOr.definition.length > 255) {\n            return [\n                {\n                    message: errMsgProvider.buildTooManyAlternativesError({\n                        topLevelRule: topLevelRule,\n                        alternation: currOr,\n                    }),\n                    type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.TOO_MANY_ALTS,\n                    ruleName: topLevelRule.name,\n                    occurrence: currOr.idx,\n                },\n            ];\n        }\n        else {\n            return [];\n        }\n    });\n    return errors;\n}\nfunction validateSomeNonEmptyLookaheadPath(topLevelRules, maxLookahead, errMsgProvider) {\n    const errors = [];\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(topLevelRules, (currTopRule) => {\n        const collectorVisitor = new RepetitionCollector();\n        currTopRule.accept(collectorVisitor);\n        const allRuleProductions = collectorVisitor.allProductions;\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(allRuleProductions, (currProd) => {\n            const prodType = (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.getProdType)(currProd);\n            const actualMaxLookahead = currProd.maxLookahead || maxLookahead;\n            const currOccurrence = currProd.idx;\n            const paths = (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.getLookaheadPathsForOptionalProd)(currOccurrence, currTopRule, prodType, actualMaxLookahead);\n            const pathsInsideProduction = paths[0];\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(pathsInsideProduction))) {\n                const errMsg = errMsgProvider.buildEmptyRepetitionError({\n                    topLevelRule: currTopRule,\n                    repetition: currProd,\n                });\n                errors.push({\n                    message: errMsg,\n                    type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,\n                    ruleName: currTopRule.name,\n                });\n            }\n        });\n    });\n    return errors;\n}\nfunction checkAlternativesAmbiguities(alternatives, alternation, rule, errMsgProvider) {\n    const foundAmbiguousPaths = [];\n    const identicalAmbiguities = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(alternatives, (result, currAlt, currAltIdx) => {\n        // ignore (skip) ambiguities with this alternative\n        if (alternation.definition[currAltIdx].ignoreAmbiguities === true) {\n            return result;\n        }\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(currAlt, (currPath) => {\n            const altsCurrPathAppearsIn = [currAltIdx];\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(alternatives, (currOtherAlt, currOtherAltIdx) => {\n                if (currAltIdx !== currOtherAltIdx &&\n                    (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.containsPath)(currOtherAlt, currPath) &&\n                    // ignore (skip) ambiguities with this \"other\" alternative\n                    alternation.definition[currOtherAltIdx].ignoreAmbiguities !== true) {\n                    altsCurrPathAppearsIn.push(currOtherAltIdx);\n                }\n            });\n            if (altsCurrPathAppearsIn.length > 1 &&\n                !(0,_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.containsPath)(foundAmbiguousPaths, currPath)) {\n                foundAmbiguousPaths.push(currPath);\n                result.push({\n                    alts: altsCurrPathAppearsIn,\n                    path: currPath,\n                });\n            }\n        });\n        return result;\n    }, []);\n    const currErrors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(identicalAmbiguities, (currAmbDescriptor) => {\n        const ambgIndices = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currAmbDescriptor.alts, (currAltIdx) => currAltIdx + 1);\n        const currMessage = errMsgProvider.buildAlternationAmbiguityError({\n            topLevelRule: rule,\n            alternation: alternation,\n            ambiguityIndices: ambgIndices,\n            prefixPath: currAmbDescriptor.path,\n        });\n        return {\n            message: currMessage,\n            type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.AMBIGUOUS_ALTS,\n            ruleName: rule.name,\n            occurrence: alternation.idx,\n            alternatives: currAmbDescriptor.alts,\n        };\n    });\n    return currErrors;\n}\nfunction checkPrefixAlternativesAmbiguities(alternatives, alternation, rule, errMsgProvider) {\n    // flatten\n    const pathsAndIndices = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(alternatives, (result, currAlt, idx) => {\n        const currPathsAndIdx = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currAlt, (currPath) => {\n            return { idx: idx, path: currPath };\n        });\n        return result.concat(currPathsAndIdx);\n    }, []);\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_21__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(pathsAndIndices, (currPathAndIdx) => {\n        const alternativeGast = alternation.definition[currPathAndIdx.idx];\n        // ignore (skip) ambiguities with this alternative\n        if (alternativeGast.ignoreAmbiguities === true) {\n            return [];\n        }\n        const targetIdx = currPathAndIdx.idx;\n        const targetPath = currPathAndIdx.path;\n        const prefixAmbiguitiesPathsAndIndices = (0,lodash_es__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(pathsAndIndices, (searchPathAndIdx) => {\n            // prefix ambiguity can only be created from lower idx (higher priority) path\n            return (\n            // ignore (skip) ambiguities with this \"other\" alternative\n            alternation.definition[searchPathAndIdx.idx].ignoreAmbiguities !==\n                true &&\n                searchPathAndIdx.idx < targetIdx &&\n                // checking for strict prefix because identical lookaheads\n                // will be be detected using a different validation.\n                (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.isStrictPrefixOfPath)(searchPathAndIdx.path, targetPath));\n        });\n        const currPathPrefixErrors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(prefixAmbiguitiesPathsAndIndices, (currAmbPathAndIdx) => {\n            const ambgIndices = [currAmbPathAndIdx.idx + 1, targetIdx + 1];\n            const occurrence = alternation.idx === 0 ? \"\" : alternation.idx;\n            const message = errMsgProvider.buildAlternationPrefixAmbiguityError({\n                topLevelRule: rule,\n                alternation: alternation,\n                ambiguityIndices: ambgIndices,\n                prefixPath: currAmbPathAndIdx.path,\n            });\n            return {\n                message: message,\n                type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,\n                ruleName: rule.name,\n                occurrence: occurrence,\n                alternatives: ambgIndices,\n            };\n        });\n        return currPathPrefixErrors;\n    }));\n    return errors;\n}\nfunction checkTerminalAndNoneTerminalsNameSpace(topLevels, tokenTypes, errMsgProvider) {\n    const errors = [];\n    const tokenNames = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(tokenTypes, (currToken) => currToken.name);\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(topLevels, (currRule) => {\n        const currRuleName = currRule.name;\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(tokenNames, currRuleName)) {\n            const errMsg = errMsgProvider.buildNamespaceConflictError(currRule);\n            errors.push({\n                message: errMsg,\n                type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,\n                ruleName: currRuleName,\n            });\n        }\n    });\n    return errors;\n}\n//# sourceMappingURL=checks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9jaGVja3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvTDtBQUNuSDtBQUM2TDtBQUNsSDtBQUNqRjtBQUNHO0FBQ3ZEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsV0FBVyxxREFBRyxzRUFBc0UsTUFBTSx3RUFBeUIsOEJBQThCO0FBQ2pKO0FBQ087QUFDUCw0QkFBNEIscURBQU87QUFDbkM7QUFDQSw4QkFBOEIscURBQU87QUFDckMsZ0NBQWdDLHFEQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxREFBTztBQUNwQyx1QkFBdUIscURBQU07QUFDN0I7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLHFEQUFHLENBQUMscURBQU07QUFDN0IsMEJBQTBCLHNEQUFLO0FBQy9CO0FBQ0Esd0JBQXdCLHNFQUFvQjtBQUM1QztBQUNBO0FBQ0Esa0JBQWtCLHdFQUF5QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1AsY0FBYyxzRUFBb0IsT0FBTyxLQUFLLFNBQVMsS0FBSyxpQ0FBaUM7QUFDN0Y7QUFDQTtBQUNBLHdCQUF3QixzREFBUTtBQUNoQztBQUNBO0FBQ0EsNkJBQTZCLHlEQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRDQUE0Qyx5REFBVztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLHdCQUF3QixzREFBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0JBQWtCLHdFQUF5QjtBQUMzQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxTQUFTLHNEQUFRO0FBQ2pCO0FBQ0EsOENBQThDLFNBQVMsNENBQTRDLFVBQVU7QUFDN0c7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdFQUF5QjtBQUMzQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxRQUFRLHNEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsc0RBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixzQkFBc0Isd0VBQXlCO0FBQy9DO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixzREFBVTtBQUN6QyxvQ0FBb0MscURBQU87QUFDM0MsNEJBQTRCLHNEQUFLO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFFBQVEsc0RBQU87QUFDZjtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFLO0FBQzNCO0FBQ0EsNkJBQTZCLHlEQUFXO0FBQ3hDO0FBQ0E7QUFDQSxrQ0FBa0MseURBQWU7QUFDakQsNkJBQTZCLG9EQUFNO0FBQ25DLDZCQUE2QixpRUFBbUI7QUFDaEQsNkJBQTZCLDhFQUFnQztBQUM3RCw2QkFBNkIscUVBQXVCO0FBQ3BELDZCQUE2Qix3REFBVTtBQUN2QztBQUNBO0FBQ0Esa0NBQWtDLHlEQUFXO0FBQzdDO0FBQ0EsaUJBQWlCLHNEQUFPLENBQUMscURBQUc7QUFDNUI7QUFDQSxrQ0FBa0Msc0RBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnRUFBYztBQUMxQztBQUNBO0FBQ0EscUJBQXFCLHNEQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5REFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIscURBQU87QUFDMUIsMkJBQTJCLHNEQUFTO0FBQ3BDLGVBQWUscURBQU87QUFDdEIsdUNBQXVDLHdFQUF1Qix3QkFBd0IsbUVBQXNCO0FBQzVHLGdCQUFnQixzREFBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsOEJBQThCLHdFQUF5QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsc0RBQU07QUFDaEIsbUJBQW1CLHFEQUFPO0FBQzFCO0FBQ0E7QUFDQSw2QkFBNkIscUVBQXNCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ08sa0NBQWtDLHlEQUFXO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxREFBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsMEJBQTBCLHdFQUF5QjtBQUNuRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1A7QUFDQSxJQUFJLHNEQUFPO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBTztBQUNmLDZCQUE2QiwwREFBVztBQUN4QztBQUNBO0FBQ0EsMEJBQTBCLCtFQUFnQztBQUMxRDtBQUNBLGdCQUFnQixzREFBTyxDQUFDLHNEQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsMEJBQTBCLHdFQUF5QjtBQUNuRDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsc0RBQU07QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFPO0FBQ2Y7QUFDQSxZQUFZLHNEQUFPO0FBQ25CO0FBQ0Esb0JBQW9CLDJEQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsaUJBQWlCLDJEQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLHVCQUF1QixxREFBRztBQUMxQiw0QkFBNEIscURBQUc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0JBQWtCLHdFQUF5QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUDtBQUNBLDRCQUE0QixzREFBTTtBQUNsQyxnQ0FBZ0MscURBQUc7QUFDbkMscUJBQXFCO0FBQ3JCLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCxtQkFBbUIsc0RBQU8sQ0FBQyxxREFBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxzREFBTTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1FQUFvQjtBQUNwQyxTQUFTO0FBQ1QscUNBQXFDLHFEQUFHO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxzQkFBc0Isd0VBQXlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFEQUFHO0FBQzFCLElBQUksc0RBQU87QUFDWDtBQUNBLFlBQVksc0RBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHdFQUF5QjtBQUMvQztBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9jaGVja3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xvbmUsIGNvbXBhY3QsIGRpZmZlcmVuY2UsIGRyb3AsIGRyb3BSaWdodCwgZmlsdGVyLCBmaXJzdCwgZmxhdE1hcCwgZmxhdHRlbiwgZm9yRWFjaCwgZ3JvdXBCeSwgaW5jbHVkZXMsIGlzRW1wdHksIG1hcCwgcGlja0J5LCByZWR1Y2UsIHJlamVjdCwgdmFsdWVzLCB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUsIH0gZnJvbSBcIi4uL3BhcnNlci9wYXJzZXIuanNcIjtcbmltcG9ydCB7IEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSBhcyBBbHRlcm5hdGl2ZUdBU1QsIEdBc3RWaXNpdG9yLCBnZXRQcm9kdWN0aW9uRHNsTmFtZSwgaXNPcHRpb25hbFByb2QsIE5vblRlcm1pbmFsLCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgVGVybWluYWwsIH0gZnJvbSBcIkBjaGV2cm90YWluL2dhc3RcIjtcbmltcG9ydCB7IGNvbnRhaW5zUGF0aCwgZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2QsIGdldExvb2thaGVhZFBhdGhzRm9yT3IsIGdldFByb2RUeXBlLCBpc1N0cmljdFByZWZpeE9mUGF0aCwgfSBmcm9tIFwiLi9sb29rYWhlYWQuanNcIjtcbmltcG9ydCB7IG5leHRQb3NzaWJsZVRva2Vuc0FmdGVyIH0gZnJvbSBcIi4vaW50ZXJwcmV0ZXIuanNcIjtcbmltcG9ydCB7IHRva2VuU3RydWN0dXJlZE1hdGNoZXIgfSBmcm9tIFwiLi4vLi4vc2Nhbi90b2tlbnMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUxvb2thaGVhZChvcHRpb25zKSB7XG4gICAgY29uc3QgbG9va2FoZWFkVmFsaWRhdGlvbkVycm9yTWVzc2FnZXMgPSBvcHRpb25zLmxvb2thaGVhZFN0cmF0ZWd5LnZhbGlkYXRlKHtcbiAgICAgICAgcnVsZXM6IG9wdGlvbnMucnVsZXMsXG4gICAgICAgIHRva2VuVHlwZXM6IG9wdGlvbnMudG9rZW5UeXBlcyxcbiAgICAgICAgZ3JhbW1hck5hbWU6IG9wdGlvbnMuZ3JhbW1hck5hbWUsXG4gICAgfSk7XG4gICAgcmV0dXJuIG1hcChsb29rYWhlYWRWYWxpZGF0aW9uRXJyb3JNZXNzYWdlcywgKGVycm9yTWVzc2FnZSkgPT4gKE9iamVjdC5hc3NpZ24oeyB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLkNVU1RPTV9MT09LQUhFQURfVkFMSURBVElPTiB9LCBlcnJvck1lc3NhZ2UpKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVHcmFtbWFyKHRvcExldmVscywgdG9rZW5UeXBlcywgZXJyTXNnUHJvdmlkZXIsIGdyYW1tYXJOYW1lKSB7XG4gICAgY29uc3QgZHVwbGljYXRlRXJyb3JzID0gZmxhdE1hcCh0b3BMZXZlbHMsIChjdXJyVG9wTGV2ZWwpID0+IHZhbGlkYXRlRHVwbGljYXRlUHJvZHVjdGlvbnMoY3VyclRvcExldmVsLCBlcnJNc2dQcm92aWRlcikpO1xuICAgIGNvbnN0IHRlcm1zTmFtZXNwYWNlQ29uZmxpY3RFcnJvcnMgPSBjaGVja1Rlcm1pbmFsQW5kTm9uZVRlcm1pbmFsc05hbWVTcGFjZSh0b3BMZXZlbHMsIHRva2VuVHlwZXMsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICBjb25zdCB0b29NYW55QWx0c0Vycm9ycyA9IGZsYXRNYXAodG9wTGV2ZWxzLCAoY3VyUnVsZSkgPT4gdmFsaWRhdGVUb29NYW55QWx0cyhjdXJSdWxlLCBlcnJNc2dQcm92aWRlcikpO1xuICAgIGNvbnN0IGR1cGxpY2F0ZVJ1bGVzRXJyb3IgPSBmbGF0TWFwKHRvcExldmVscywgKGN1clJ1bGUpID0+IHZhbGlkYXRlUnVsZURvZXNOb3RBbHJlYWR5RXhpc3QoY3VyUnVsZSwgdG9wTGV2ZWxzLCBncmFtbWFyTmFtZSwgZXJyTXNnUHJvdmlkZXIpKTtcbiAgICByZXR1cm4gZHVwbGljYXRlRXJyb3JzLmNvbmNhdCh0ZXJtc05hbWVzcGFjZUNvbmZsaWN0RXJyb3JzLCB0b29NYW55QWx0c0Vycm9ycywgZHVwbGljYXRlUnVsZXNFcnJvcik7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUR1cGxpY2F0ZVByb2R1Y3Rpb25zKHRvcExldmVsUnVsZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICBjb25zdCBjb2xsZWN0b3JWaXNpdG9yID0gbmV3IE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yKCk7XG4gICAgdG9wTGV2ZWxSdWxlLmFjY2VwdChjb2xsZWN0b3JWaXNpdG9yKTtcbiAgICBjb25zdCBhbGxSdWxlUHJvZHVjdGlvbnMgPSBjb2xsZWN0b3JWaXNpdG9yLmFsbFByb2R1Y3Rpb25zO1xuICAgIGNvbnN0IHByb2R1Y3Rpb25Hcm91cHMgPSBncm91cEJ5KGFsbFJ1bGVQcm9kdWN0aW9ucywgaWRlbnRpZnlQcm9kdWN0aW9uRm9yRHVwbGljYXRlcyk7XG4gICAgY29uc3QgZHVwbGljYXRlcyA9IHBpY2tCeShwcm9kdWN0aW9uR3JvdXBzLCAoY3Vyckdyb3VwKSA9PiB7XG4gICAgICAgIHJldHVybiBjdXJyR3JvdXAubGVuZ3RoID4gMTtcbiAgICB9KTtcbiAgICBjb25zdCBlcnJvcnMgPSBtYXAodmFsdWVzKGR1cGxpY2F0ZXMpLCAoY3VyckR1cGxpY2F0ZXMpID0+IHtcbiAgICAgICAgY29uc3QgZmlyc3RQcm9kID0gZmlyc3QoY3VyckR1cGxpY2F0ZXMpO1xuICAgICAgICBjb25zdCBtc2cgPSBlcnJNc2dQcm92aWRlci5idWlsZER1cGxpY2F0ZUZvdW5kRXJyb3IodG9wTGV2ZWxSdWxlLCBjdXJyRHVwbGljYXRlcyk7XG4gICAgICAgIGNvbnN0IGRzbE5hbWUgPSBnZXRQcm9kdWN0aW9uRHNsTmFtZShmaXJzdFByb2QpO1xuICAgICAgICBjb25zdCBkZWZFcnJvciA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuRFVQTElDQVRFX1BST0RVQ1RJT05TLFxuICAgICAgICAgICAgcnVsZU5hbWU6IHRvcExldmVsUnVsZS5uYW1lLFxuICAgICAgICAgICAgZHNsTmFtZTogZHNsTmFtZSxcbiAgICAgICAgICAgIG9jY3VycmVuY2U6IGZpcnN0UHJvZC5pZHgsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhcmFtID0gZ2V0RXh0cmFQcm9kdWN0aW9uQXJndW1lbnQoZmlyc3RQcm9kKTtcbiAgICAgICAgaWYgKHBhcmFtKSB7XG4gICAgICAgICAgICBkZWZFcnJvci5wYXJhbWV0ZXIgPSBwYXJhbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmRXJyb3I7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGlmeVByb2R1Y3Rpb25Gb3JEdXBsaWNhdGVzKHByb2QpIHtcbiAgICByZXR1cm4gYCR7Z2V0UHJvZHVjdGlvbkRzbE5hbWUocHJvZCl9XyNfJHtwcm9kLmlkeH1fI18ke2dldEV4dHJhUHJvZHVjdGlvbkFyZ3VtZW50KHByb2QpfWA7XG59XG5mdW5jdGlvbiBnZXRFeHRyYVByb2R1Y3Rpb25Bcmd1bWVudChwcm9kKSB7XG4gICAgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4gcHJvZC50ZXJtaW5hbFR5cGUubmFtZTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgIHJldHVybiBwcm9kLm5vblRlcm1pbmFsTmFtZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3RvciBleHRlbmRzIEdBc3RWaXNpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucyA9IFtdO1xuICAgIH1cbiAgICB2aXNpdE5vblRlcm1pbmFsKHN1YnJ1bGUpIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKHN1YnJ1bGUpO1xuICAgIH1cbiAgICB2aXNpdE9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKG9wdGlvbik7XG4gICAgfVxuICAgIHZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3IobWFueVNlcCkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2gobWFueVNlcCk7XG4gICAgfVxuICAgIHZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeShhdExlYXN0T25lKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChhdExlYXN0T25lKTtcbiAgICB9XG4gICAgdmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcihhdExlYXN0T25lU2VwKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChhdExlYXN0T25lU2VwKTtcbiAgICB9XG4gICAgdmlzaXRSZXBldGl0aW9uKG1hbnkpIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKG1hbnkpO1xuICAgIH1cbiAgICB2aXNpdEFsdGVybmF0aW9uKG9yKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChvcik7XG4gICAgfVxuICAgIHZpc2l0VGVybWluYWwodGVybWluYWwpIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKHRlcm1pbmFsKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVSdWxlRG9lc05vdEFscmVhZHlFeGlzdChydWxlLCBhbGxSdWxlcywgY2xhc3NOYW1lLCBlcnJNc2dQcm92aWRlcikge1xuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IG9jY3VycmVuY2VzID0gcmVkdWNlKGFsbFJ1bGVzLCAocmVzdWx0LCBjdXJSdWxlKSA9PiB7XG4gICAgICAgIGlmIChjdXJSdWxlLm5hbWUgPT09IHJ1bGUubmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCAwKTtcbiAgICBpZiAob2NjdXJyZW5jZXMgPiAxKSB7XG4gICAgICAgIGNvbnN0IGVyck1zZyA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkRHVwbGljYXRlUnVsZU5hbWVFcnJvcih7XG4gICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHJ1bGUsXG4gICAgICAgICAgICBncmFtbWFyTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICB9KTtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5EVVBMSUNBVEVfUlVMRV9OQU1FLFxuICAgICAgICAgICAgcnVsZU5hbWU6IHJ1bGUubmFtZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG59XG4vLyBUT0RPOiBpcyB0aGVyZSBhbnl3YXkgdG8gZ2V0IG9ubHkgdGhlIHJ1bGUgbmFtZXMgb2YgcnVsZXMgaW5oZXJpdGVkIGZyb20gdGhlIHN1cGVyIGdyYW1tYXJzP1xuLy8gVGhpcyBpcyBub3QgcGFydCBvZiB0aGUgSUdyYW1tYXJFcnJvclByb3ZpZGVyIGJlY2F1c2UgdGhlIHZhbGlkYXRpb24gY2Fubm90IGJlIHBlcmZvcm1lZCBvblxuLy8gVGhlIGdyYW1tYXIgc3RydWN0dXJlLCBvbmx5IGF0IHJ1bnRpbWUuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVSdWxlSXNPdmVycmlkZGVuKHJ1bGVOYW1lLCBkZWZpbmVkUnVsZXNOYW1lcywgY2xhc3NOYW1lKSB7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgbGV0IGVyck1zZztcbiAgICBpZiAoIWluY2x1ZGVzKGRlZmluZWRSdWxlc05hbWVzLCBydWxlTmFtZSkpIHtcbiAgICAgICAgZXJyTXNnID1cbiAgICAgICAgICAgIGBJbnZhbGlkIHJ1bGUgb3ZlcnJpZGUsIHJ1bGU6IC0+JHtydWxlTmFtZX08LSBjYW5ub3QgYmUgb3ZlcnJpZGRlbiBpbiB0aGUgZ3JhbW1hcjogLT4ke2NsYXNzTmFtZX08LWAgK1xuICAgICAgICAgICAgICAgIGBhcyBpdCBpcyBub3QgZGVmaW5lZCBpbiBhbnkgb2YgdGhlIHN1cGVyIGdyYW1tYXJzIGA7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZyxcbiAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuSU5WQUxJRF9SVUxFX09WRVJSSURFLFxuICAgICAgICAgICAgcnVsZU5hbWU6IHJ1bGVOYW1lLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU5vTGVmdFJlY3Vyc2lvbih0b3BSdWxlLCBjdXJyUnVsZSwgZXJyTXNnUHJvdmlkZXIsIHBhdGggPSBbXSkge1xuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IG5leHROb25UZXJtaW5hbHMgPSBnZXRGaXJzdE5vbmVUZXJtaW5hbChjdXJyUnVsZS5kZWZpbml0aW9uKTtcbiAgICBpZiAoaXNFbXB0eShuZXh0Tm9uVGVybWluYWxzKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBydWxlTmFtZSA9IHRvcFJ1bGUubmFtZTtcbiAgICAgICAgY29uc3QgZm91bmRMZWZ0UmVjdXJzaW9uID0gaW5jbHVkZXMobmV4dE5vblRlcm1pbmFscywgdG9wUnVsZSk7XG4gICAgICAgIGlmIChmb3VuZExlZnRSZWN1cnNpb24pIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2dQcm92aWRlci5idWlsZExlZnRSZWN1cnNpb25FcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIHRvcExldmVsUnVsZTogdG9wUnVsZSxcbiAgICAgICAgICAgICAgICAgICAgbGVmdFJlY3Vyc2lvblBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5MRUZUX1JFQ1VSU0lPTixcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogcnVsZU5hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBhcmUgb25seSBsb29raW5nIGZvciBjeWNsaWMgcGF0aHMgbGVhZGluZyBiYWNrIHRvIHRoZSBzcGVjaWZpYyB0b3BSdWxlXG4gICAgICAgIC8vIG90aGVyIGN5Y2xpYyBwYXRocyBhcmUgaWdub3JlZCwgd2Ugc3RpbGwgbmVlZCB0aGlzIGRpZmZlcmVuY2UgdG8gYXZvaWQgaW5maW5pdGUgbG9vcHMuLi5cbiAgICAgICAgY29uc3QgdmFsaWROZXh0U3RlcHMgPSBkaWZmZXJlbmNlKG5leHROb25UZXJtaW5hbHMsIHBhdGguY29uY2F0KFt0b3BSdWxlXSkpO1xuICAgICAgICBjb25zdCBlcnJvcnNGcm9tTmV4dFN0ZXBzID0gZmxhdE1hcCh2YWxpZE5leHRTdGVwcywgKGN1cnJSZWZSdWxlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdQYXRoID0gY2xvbmUocGF0aCk7XG4gICAgICAgICAgICBuZXdQYXRoLnB1c2goY3VyclJlZlJ1bGUpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlTm9MZWZ0UmVjdXJzaW9uKHRvcFJ1bGUsIGN1cnJSZWZSdWxlLCBlcnJNc2dQcm92aWRlciwgbmV3UGF0aCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZXJyb3JzLmNvbmNhdChlcnJvcnNGcm9tTmV4dFN0ZXBzKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Rmlyc3ROb25lVGVybWluYWwoZGVmaW5pdGlvbikge1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBpZiAoaXNFbXB0eShkZWZpbml0aW9uKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBmaXJzdFByb2QgPSBmaXJzdChkZWZpbml0aW9uKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChmaXJzdFByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICByZXN1bHQucHVzaChmaXJzdFByb2QucmVmZXJlbmNlZFJ1bGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaXJzdFByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGl2ZUdBU1QgfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgT3B0aW9uIHx8XG4gICAgICAgIGZpcnN0UHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkgfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IgfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGdldEZpcnN0Tm9uZVRlcm1pbmFsKGZpcnN0UHJvZC5kZWZpbml0aW9uKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpcnN0UHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgIC8vIGVhY2ggc3ViIGRlZmluaXRpb24gaW4gYWx0ZXJuYXRpb24gaXMgYSBGTEFUXG4gICAgICAgIHJlc3VsdCA9IGZsYXR0ZW4obWFwKGZpcnN0UHJvZC5kZWZpbml0aW9uLCAoY3VyclN1YkRlZikgPT4gZ2V0Rmlyc3ROb25lVGVybWluYWwoY3VyclN1YkRlZi5kZWZpbml0aW9uKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaXJzdFByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAvLyBub3RoaW5nIHRvIHNlZSwgbW92ZSBhbG9uZ1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG4gICAgY29uc3QgaXNGaXJzdE9wdGlvbmFsID0gaXNPcHRpb25hbFByb2QoZmlyc3RQcm9kKTtcbiAgICBjb25zdCBoYXNNb3JlID0gZGVmaW5pdGlvbi5sZW5ndGggPiAxO1xuICAgIGlmIChpc0ZpcnN0T3B0aW9uYWwgJiYgaGFzTW9yZSkge1xuICAgICAgICBjb25zdCByZXN0ID0gZHJvcChkZWZpbml0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoZ2V0Rmlyc3ROb25lVGVybWluYWwocmVzdCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5jbGFzcyBPckNvbGxlY3RvciBleHRlbmRzIEdBc3RWaXNpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5hbHRlcm5hdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgdmlzaXRBbHRlcm5hdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMuYWx0ZXJuYXRpb25zLnB1c2gobm9kZSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRW1wdHlPckFsdGVybmF0aXZlKHRvcExldmVsUnVsZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICBjb25zdCBvckNvbGxlY3RvciA9IG5ldyBPckNvbGxlY3RvcigpO1xuICAgIHRvcExldmVsUnVsZS5hY2NlcHQob3JDb2xsZWN0b3IpO1xuICAgIGNvbnN0IG9ycyA9IG9yQ29sbGVjdG9yLmFsdGVybmF0aW9ucztcbiAgICBjb25zdCBlcnJvcnMgPSBmbGF0TWFwKG9ycywgKGN1cnJPcikgPT4ge1xuICAgICAgICBjb25zdCBleGNlcHRMYXN0ID0gZHJvcFJpZ2h0KGN1cnJPci5kZWZpbml0aW9uKTtcbiAgICAgICAgcmV0dXJuIGZsYXRNYXAoZXhjZXB0TGFzdCwgKGN1cnJBbHRlcm5hdGl2ZSwgY3VyckFsdElkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcG9zc2libGVGaXJzdEluQWx0ID0gbmV4dFBvc3NpYmxlVG9rZW5zQWZ0ZXIoW2N1cnJBbHRlcm5hdGl2ZV0sIFtdLCB0b2tlblN0cnVjdHVyZWRNYXRjaGVyLCAxKTtcbiAgICAgICAgICAgIGlmIChpc0VtcHR5KHBvc3NpYmxlRmlyc3RJbkFsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2dQcm92aWRlci5idWlsZEVtcHR5QWx0ZXJuYXRpb25FcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wTGV2ZWxSdWxlOiB0b3BMZXZlbFJ1bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpb246IGN1cnJPcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXB0eUNob2ljZUlkeDogY3VyckFsdElkeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5OT05FX0xBU1RfRU1QVFlfQUxULFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZU5hbWU6IHRvcExldmVsUnVsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2NjdXJyZW5jZTogY3Vyck9yLmlkeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aXZlOiBjdXJyQWx0SWR4ICsgMSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQW1iaWd1b3VzQWx0ZXJuYXRpb25BbHRlcm5hdGl2ZXModG9wTGV2ZWxSdWxlLCBnbG9iYWxNYXhMb29rYWhlYWQsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgY29uc3Qgb3JDb2xsZWN0b3IgPSBuZXcgT3JDb2xsZWN0b3IoKTtcbiAgICB0b3BMZXZlbFJ1bGUuYWNjZXB0KG9yQ29sbGVjdG9yKTtcbiAgICBsZXQgb3JzID0gb3JDb2xsZWN0b3IuYWx0ZXJuYXRpb25zO1xuICAgIC8vIE5ldyBIYW5kbGluZyBvZiBpZ25vcmluZyBhbWJpZ3VpdGllc1xuICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2NoZXZyb3RhaW4vY2hldnJvdGFpbi9pc3N1ZXMvODY5XG4gICAgb3JzID0gcmVqZWN0KG9ycywgKGN1cnJPcikgPT4gY3Vyck9yLmlnbm9yZUFtYmlndWl0aWVzID09PSB0cnVlKTtcbiAgICBjb25zdCBlcnJvcnMgPSBmbGF0TWFwKG9ycywgKGN1cnJPcikgPT4ge1xuICAgICAgICBjb25zdCBjdXJyT2NjdXJyZW5jZSA9IGN1cnJPci5pZHg7XG4gICAgICAgIGNvbnN0IGFjdHVhbE1heExvb2thaGVhZCA9IGN1cnJPci5tYXhMb29rYWhlYWQgfHwgZ2xvYmFsTWF4TG9va2FoZWFkO1xuICAgICAgICBjb25zdCBhbHRlcm5hdGl2ZXMgPSBnZXRMb29rYWhlYWRQYXRoc0Zvck9yKGN1cnJPY2N1cnJlbmNlLCB0b3BMZXZlbFJ1bGUsIGFjdHVhbE1heExvb2thaGVhZCwgY3Vyck9yKTtcbiAgICAgICAgY29uc3QgYWx0c0FtYmlndWl0eUVycm9ycyA9IGNoZWNrQWx0ZXJuYXRpdmVzQW1iaWd1aXRpZXMoYWx0ZXJuYXRpdmVzLCBjdXJyT3IsIHRvcExldmVsUnVsZSwgZXJyTXNnUHJvdmlkZXIpO1xuICAgICAgICBjb25zdCBhbHRzUHJlZml4QW1iaWd1aXR5RXJyb3JzID0gY2hlY2tQcmVmaXhBbHRlcm5hdGl2ZXNBbWJpZ3VpdGllcyhhbHRlcm5hdGl2ZXMsIGN1cnJPciwgdG9wTGV2ZWxSdWxlLCBlcnJNc2dQcm92aWRlcik7XG4gICAgICAgIHJldHVybiBhbHRzQW1iaWd1aXR5RXJyb3JzLmNvbmNhdChhbHRzUHJlZml4QW1iaWd1aXR5RXJyb3JzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGNsYXNzIFJlcGV0aXRpb25Db2xsZWN0b3IgZXh0ZW5kcyBHQXN0VmlzaXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgdmlzaXRSZXBldGl0aW9uV2l0aFNlcGFyYXRvcihtYW55U2VwKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChtYW55U2VwKTtcbiAgICB9XG4gICAgdmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5KGF0TGVhc3RPbmUpIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKGF0TGVhc3RPbmUpO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yKGF0TGVhc3RPbmVTZXApIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKGF0TGVhc3RPbmVTZXApO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb24obWFueSkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2gobWFueSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVG9vTWFueUFsdHModG9wTGV2ZWxSdWxlLCBlcnJNc2dQcm92aWRlcikge1xuICAgIGNvbnN0IG9yQ29sbGVjdG9yID0gbmV3IE9yQ29sbGVjdG9yKCk7XG4gICAgdG9wTGV2ZWxSdWxlLmFjY2VwdChvckNvbGxlY3Rvcik7XG4gICAgY29uc3Qgb3JzID0gb3JDb2xsZWN0b3IuYWx0ZXJuYXRpb25zO1xuICAgIGNvbnN0IGVycm9ycyA9IGZsYXRNYXAob3JzLCAoY3Vyck9yKSA9PiB7XG4gICAgICAgIGlmIChjdXJyT3IuZGVmaW5pdGlvbi5sZW5ndGggPiAyNTUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2dQcm92aWRlci5idWlsZFRvb01hbnlBbHRlcm5hdGl2ZXNFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHRvcExldmVsUnVsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aW9uOiBjdXJyT3IsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLlRPT19NQU5ZX0FMVFMsXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiB0b3BMZXZlbFJ1bGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgb2NjdXJyZW5jZTogY3Vyck9yLmlkeCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVTb21lTm9uRW1wdHlMb29rYWhlYWRQYXRoKHRvcExldmVsUnVsZXMsIG1heExvb2thaGVhZCwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICBmb3JFYWNoKHRvcExldmVsUnVsZXMsIChjdXJyVG9wUnVsZSkgPT4ge1xuICAgICAgICBjb25zdCBjb2xsZWN0b3JWaXNpdG9yID0gbmV3IFJlcGV0aXRpb25Db2xsZWN0b3IoKTtcbiAgICAgICAgY3VyclRvcFJ1bGUuYWNjZXB0KGNvbGxlY3RvclZpc2l0b3IpO1xuICAgICAgICBjb25zdCBhbGxSdWxlUHJvZHVjdGlvbnMgPSBjb2xsZWN0b3JWaXNpdG9yLmFsbFByb2R1Y3Rpb25zO1xuICAgICAgICBmb3JFYWNoKGFsbFJ1bGVQcm9kdWN0aW9ucywgKGN1cnJQcm9kKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9kVHlwZSA9IGdldFByb2RUeXBlKGN1cnJQcm9kKTtcbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbE1heExvb2thaGVhZCA9IGN1cnJQcm9kLm1heExvb2thaGVhZCB8fCBtYXhMb29rYWhlYWQ7XG4gICAgICAgICAgICBjb25zdCBjdXJyT2NjdXJyZW5jZSA9IGN1cnJQcm9kLmlkeDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhzID0gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2QoY3Vyck9jY3VycmVuY2UsIGN1cnJUb3BSdWxlLCBwcm9kVHlwZSwgYWN0dWFsTWF4TG9va2FoZWFkKTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhzSW5zaWRlUHJvZHVjdGlvbiA9IHBhdGhzWzBdO1xuICAgICAgICAgICAgaWYgKGlzRW1wdHkoZmxhdHRlbihwYXRoc0luc2lkZVByb2R1Y3Rpb24pKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVyck1zZyA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkRW1wdHlSZXBldGl0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IGN1cnJUb3BSdWxlLFxuICAgICAgICAgICAgICAgICAgICByZXBldGl0aW9uOiBjdXJyUHJvZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5OT19OT05fRU1QVFlfTE9PS0FIRUFELFxuICAgICAgICAgICAgICAgICAgICBydWxlTmFtZTogY3VyclRvcFJ1bGUubmFtZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmZ1bmN0aW9uIGNoZWNrQWx0ZXJuYXRpdmVzQW1iaWd1aXRpZXMoYWx0ZXJuYXRpdmVzLCBhbHRlcm5hdGlvbiwgcnVsZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICBjb25zdCBmb3VuZEFtYmlndW91c1BhdGhzID0gW107XG4gICAgY29uc3QgaWRlbnRpY2FsQW1iaWd1aXRpZXMgPSByZWR1Y2UoYWx0ZXJuYXRpdmVzLCAocmVzdWx0LCBjdXJyQWx0LCBjdXJyQWx0SWR4KSA9PiB7XG4gICAgICAgIC8vIGlnbm9yZSAoc2tpcCkgYW1iaWd1aXRpZXMgd2l0aCB0aGlzIGFsdGVybmF0aXZlXG4gICAgICAgIGlmIChhbHRlcm5hdGlvbi5kZWZpbml0aW9uW2N1cnJBbHRJZHhdLmlnbm9yZUFtYmlndWl0aWVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGZvckVhY2goY3VyckFsdCwgKGN1cnJQYXRoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhbHRzQ3VyclBhdGhBcHBlYXJzSW4gPSBbY3VyckFsdElkeF07XG4gICAgICAgICAgICBmb3JFYWNoKGFsdGVybmF0aXZlcywgKGN1cnJPdGhlckFsdCwgY3Vyck90aGVyQWx0SWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJBbHRJZHggIT09IGN1cnJPdGhlckFsdElkeCAmJlxuICAgICAgICAgICAgICAgICAgICBjb250YWluc1BhdGgoY3Vyck90aGVyQWx0LCBjdXJyUGF0aCkgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIChza2lwKSBhbWJpZ3VpdGllcyB3aXRoIHRoaXMgXCJvdGhlclwiIGFsdGVybmF0aXZlXG4gICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aW9uLmRlZmluaXRpb25bY3Vyck90aGVyQWx0SWR4XS5pZ25vcmVBbWJpZ3VpdGllcyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBhbHRzQ3VyclBhdGhBcHBlYXJzSW4ucHVzaChjdXJyT3RoZXJBbHRJZHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFsdHNDdXJyUGF0aEFwcGVhcnNJbi5sZW5ndGggPiAxICYmXG4gICAgICAgICAgICAgICAgIWNvbnRhaW5zUGF0aChmb3VuZEFtYmlndW91c1BhdGhzLCBjdXJyUGF0aCkpIHtcbiAgICAgICAgICAgICAgICBmb3VuZEFtYmlndW91c1BhdGhzLnB1c2goY3VyclBhdGgpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgYWx0czogYWx0c0N1cnJQYXRoQXBwZWFyc0luLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdXJyUGF0aCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGN1cnJFcnJvcnMgPSBtYXAoaWRlbnRpY2FsQW1iaWd1aXRpZXMsIChjdXJyQW1iRGVzY3JpcHRvcikgPT4ge1xuICAgICAgICBjb25zdCBhbWJnSW5kaWNlcyA9IG1hcChjdXJyQW1iRGVzY3JpcHRvci5hbHRzLCAoY3VyckFsdElkeCkgPT4gY3VyckFsdElkeCArIDEpO1xuICAgICAgICBjb25zdCBjdXJyTWVzc2FnZSA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkQWx0ZXJuYXRpb25BbWJpZ3VpdHlFcnJvcih7XG4gICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHJ1bGUsXG4gICAgICAgICAgICBhbHRlcm5hdGlvbjogYWx0ZXJuYXRpb24sXG4gICAgICAgICAgICBhbWJpZ3VpdHlJbmRpY2VzOiBhbWJnSW5kaWNlcyxcbiAgICAgICAgICAgIHByZWZpeFBhdGg6IGN1cnJBbWJEZXNjcmlwdG9yLnBhdGgsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogY3Vyck1lc3NhZ2UsXG4gICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLkFNQklHVU9VU19BTFRTLFxuICAgICAgICAgICAgcnVsZU5hbWU6IHJ1bGUubmFtZSxcbiAgICAgICAgICAgIG9jY3VycmVuY2U6IGFsdGVybmF0aW9uLmlkeCxcbiAgICAgICAgICAgIGFsdGVybmF0aXZlczogY3VyckFtYkRlc2NyaXB0b3IuYWx0cyxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gY3VyckVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1ByZWZpeEFsdGVybmF0aXZlc0FtYmlndWl0aWVzKGFsdGVybmF0aXZlcywgYWx0ZXJuYXRpb24sIHJ1bGUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgLy8gZmxhdHRlblxuICAgIGNvbnN0IHBhdGhzQW5kSW5kaWNlcyA9IHJlZHVjZShhbHRlcm5hdGl2ZXMsIChyZXN1bHQsIGN1cnJBbHQsIGlkeCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyUGF0aHNBbmRJZHggPSBtYXAoY3VyckFsdCwgKGN1cnJQYXRoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBpZHg6IGlkeCwgcGF0aDogY3VyclBhdGggfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuY29uY2F0KGN1cnJQYXRoc0FuZElkeCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGVycm9ycyA9IGNvbXBhY3QoZmxhdE1hcChwYXRoc0FuZEluZGljZXMsIChjdXJyUGF0aEFuZElkeCkgPT4ge1xuICAgICAgICBjb25zdCBhbHRlcm5hdGl2ZUdhc3QgPSBhbHRlcm5hdGlvbi5kZWZpbml0aW9uW2N1cnJQYXRoQW5kSWR4LmlkeF07XG4gICAgICAgIC8vIGlnbm9yZSAoc2tpcCkgYW1iaWd1aXRpZXMgd2l0aCB0aGlzIGFsdGVybmF0aXZlXG4gICAgICAgIGlmIChhbHRlcm5hdGl2ZUdhc3QuaWdub3JlQW1iaWd1aXRpZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXRJZHggPSBjdXJyUGF0aEFuZElkeC5pZHg7XG4gICAgICAgIGNvbnN0IHRhcmdldFBhdGggPSBjdXJyUGF0aEFuZElkeC5wYXRoO1xuICAgICAgICBjb25zdCBwcmVmaXhBbWJpZ3VpdGllc1BhdGhzQW5kSW5kaWNlcyA9IGZpbHRlcihwYXRoc0FuZEluZGljZXMsIChzZWFyY2hQYXRoQW5kSWR4KSA9PiB7XG4gICAgICAgICAgICAvLyBwcmVmaXggYW1iaWd1aXR5IGNhbiBvbmx5IGJlIGNyZWF0ZWQgZnJvbSBsb3dlciBpZHggKGhpZ2hlciBwcmlvcml0eSkgcGF0aFxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIC8vIGlnbm9yZSAoc2tpcCkgYW1iaWd1aXRpZXMgd2l0aCB0aGlzIFwib3RoZXJcIiBhbHRlcm5hdGl2ZVxuICAgICAgICAgICAgYWx0ZXJuYXRpb24uZGVmaW5pdGlvbltzZWFyY2hQYXRoQW5kSWR4LmlkeF0uaWdub3JlQW1iaWd1aXRpZXMgIT09XG4gICAgICAgICAgICAgICAgdHJ1ZSAmJlxuICAgICAgICAgICAgICAgIHNlYXJjaFBhdGhBbmRJZHguaWR4IDwgdGFyZ2V0SWR4ICYmXG4gICAgICAgICAgICAgICAgLy8gY2hlY2tpbmcgZm9yIHN0cmljdCBwcmVmaXggYmVjYXVzZSBpZGVudGljYWwgbG9va2FoZWFkc1xuICAgICAgICAgICAgICAgIC8vIHdpbGwgYmUgYmUgZGV0ZWN0ZWQgdXNpbmcgYSBkaWZmZXJlbnQgdmFsaWRhdGlvbi5cbiAgICAgICAgICAgICAgICBpc1N0cmljdFByZWZpeE9mUGF0aChzZWFyY2hQYXRoQW5kSWR4LnBhdGgsIHRhcmdldFBhdGgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGN1cnJQYXRoUHJlZml4RXJyb3JzID0gbWFwKHByZWZpeEFtYmlndWl0aWVzUGF0aHNBbmRJbmRpY2VzLCAoY3VyckFtYlBhdGhBbmRJZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFtYmdJbmRpY2VzID0gW2N1cnJBbWJQYXRoQW5kSWR4LmlkeCArIDEsIHRhcmdldElkeCArIDFdO1xuICAgICAgICAgICAgY29uc3Qgb2NjdXJyZW5jZSA9IGFsdGVybmF0aW9uLmlkeCA9PT0gMCA/IFwiXCIgOiBhbHRlcm5hdGlvbi5pZHg7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gZXJyTXNnUHJvdmlkZXIuYnVpbGRBbHRlcm5hdGlvblByZWZpeEFtYmlndWl0eUVycm9yKHtcbiAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHJ1bGUsXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRpb246IGFsdGVybmF0aW9uLFxuICAgICAgICAgICAgICAgIGFtYmlndWl0eUluZGljZXM6IGFtYmdJbmRpY2VzLFxuICAgICAgICAgICAgICAgIHByZWZpeFBhdGg6IGN1cnJBbWJQYXRoQW5kSWR4LnBhdGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLkFNQklHVU9VU19QUkVGSVhfQUxUUyxcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogcnVsZS5uYW1lLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2U6IG9jY3VycmVuY2UsXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmVzOiBhbWJnSW5kaWNlcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY3VyclBhdGhQcmVmaXhFcnJvcnM7XG4gICAgfSkpO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5mdW5jdGlvbiBjaGVja1Rlcm1pbmFsQW5kTm9uZVRlcm1pbmFsc05hbWVTcGFjZSh0b3BMZXZlbHMsIHRva2VuVHlwZXMsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgY29uc3QgdG9rZW5OYW1lcyA9IG1hcCh0b2tlblR5cGVzLCAoY3VyclRva2VuKSA9PiBjdXJyVG9rZW4ubmFtZSk7XG4gICAgZm9yRWFjaCh0b3BMZXZlbHMsIChjdXJyUnVsZSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyUnVsZU5hbWUgPSBjdXJyUnVsZS5uYW1lO1xuICAgICAgICBpZiAoaW5jbHVkZXModG9rZW5OYW1lcywgY3VyclJ1bGVOYW1lKSkge1xuICAgICAgICAgICAgY29uc3QgZXJyTXNnID0gZXJyTXNnUHJvdmlkZXIuYnVpbGROYW1lc3BhY2VDb25mbGljdEVycm9yKGN1cnJSdWxlKTtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2csXG4gICAgICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5DT05GTElDVF9UT0tFTlNfUlVMRVNfTkFNRVNQQUNFLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBjdXJyUnVsZU5hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGVja3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/checks.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/first.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/first.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   first: () => (/* binding */ first),\n/* harmony export */   firstForBranching: () => (/* binding */ firstForBranching),\n/* harmony export */   firstForSequence: () => (/* binding */ firstForSequence),\n/* harmony export */   firstForTerminal: () => (/* binding */ firstForTerminal)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/uniq.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/flatten.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\nfunction first(prod) {\n    /* istanbul ignore else */\n    if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.NonTerminal) {\n        // this could in theory cause infinite loops if\n        // (1) prod A refs prod B.\n        // (2) prod B refs prod A\n        // (3) AB can match the empty set\n        // in other words a cycle where everything is optional so the first will keep\n        // looking ahead for the next optional part and will never exit\n        // currently there is no safeguard for this unique edge case because\n        // (1) not sure a grammar in which this can happen is useful for anything (productive)\n        return first(prod.referencedRule);\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Terminal) {\n        return firstForTerminal(prod);\n    }\n    else if ((0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.isSequenceProd)(prod)) {\n        return firstForSequence(prod);\n    }\n    else if ((0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.isBranchingProd)(prod)) {\n        return firstForBranching(prod);\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction firstForSequence(prod) {\n    let firstSet = [];\n    const seq = prod.definition;\n    let nextSubProdIdx = 0;\n    let hasInnerProdsRemaining = seq.length > nextSubProdIdx;\n    let currSubProd;\n    // so we enter the loop at least once (if the definition is not empty\n    let isLastInnerProdOptional = true;\n    // scan a sequence until it's end or until we have found a NONE optional production in it\n    while (hasInnerProdsRemaining && isLastInnerProdOptional) {\n        currSubProd = seq[nextSubProdIdx];\n        isLastInnerProdOptional = (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.isOptionalProd)(currSubProd);\n        firstSet = firstSet.concat(first(currSubProd));\n        nextSubProdIdx = nextSubProdIdx + 1;\n        hasInnerProdsRemaining = seq.length > nextSubProdIdx;\n    }\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(firstSet);\n}\nfunction firstForBranching(prod) {\n    const allAlternativesFirsts = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(prod.definition, (innerProd) => {\n        return first(innerProd);\n    });\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(allAlternativesFirsts));\n}\nfunction firstForTerminal(terminal) {\n    return [terminal.terminalType];\n}\n//# sourceMappingURL=first.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9maXJzdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErQztBQUM0RDtBQUNwRztBQUNQO0FBQ0Esd0JBQXdCLHlEQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHNEQUFRO0FBQ3JDO0FBQ0E7QUFDQSxhQUFhLGdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLGlFQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0VBQWM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHFEQUFJO0FBQ2Y7QUFDTztBQUNQLGtDQUFrQyxxREFBRztBQUNyQztBQUNBLEtBQUs7QUFDTCxXQUFXLHFEQUFJLENBQUMscURBQU87QUFDdkI7QUFDTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9ncmFtbWFyL2ZpcnN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZsYXR0ZW4sIG1hcCwgdW5pcSB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IGlzQnJhbmNoaW5nUHJvZCwgaXNPcHRpb25hbFByb2QsIGlzU2VxdWVuY2VQcm9kLCBOb25UZXJtaW5hbCwgVGVybWluYWwsIH0gZnJvbSBcIkBjaGV2cm90YWluL2dhc3RcIjtcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdChwcm9kKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgIC8vIHRoaXMgY291bGQgaW4gdGhlb3J5IGNhdXNlIGluZmluaXRlIGxvb3BzIGlmXG4gICAgICAgIC8vICgxKSBwcm9kIEEgcmVmcyBwcm9kIEIuXG4gICAgICAgIC8vICgyKSBwcm9kIEIgcmVmcyBwcm9kIEFcbiAgICAgICAgLy8gKDMpIEFCIGNhbiBtYXRjaCB0aGUgZW1wdHkgc2V0XG4gICAgICAgIC8vIGluIG90aGVyIHdvcmRzIGEgY3ljbGUgd2hlcmUgZXZlcnl0aGluZyBpcyBvcHRpb25hbCBzbyB0aGUgZmlyc3Qgd2lsbCBrZWVwXG4gICAgICAgIC8vIGxvb2tpbmcgYWhlYWQgZm9yIHRoZSBuZXh0IG9wdGlvbmFsIHBhcnQgYW5kIHdpbGwgbmV2ZXIgZXhpdFxuICAgICAgICAvLyBjdXJyZW50bHkgdGhlcmUgaXMgbm8gc2FmZWd1YXJkIGZvciB0aGlzIHVuaXF1ZSBlZGdlIGNhc2UgYmVjYXVzZVxuICAgICAgICAvLyAoMSkgbm90IHN1cmUgYSBncmFtbWFyIGluIHdoaWNoIHRoaXMgY2FuIGhhcHBlbiBpcyB1c2VmdWwgZm9yIGFueXRoaW5nIChwcm9kdWN0aXZlKVxuICAgICAgICByZXR1cm4gZmlyc3QocHJvZC5yZWZlcmVuY2VkUnVsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4gZmlyc3RGb3JUZXJtaW5hbChwcm9kKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTZXF1ZW5jZVByb2QocHJvZCkpIHtcbiAgICAgICAgcmV0dXJuIGZpcnN0Rm9yU2VxdWVuY2UocHJvZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQnJhbmNoaW5nUHJvZChwcm9kKSkge1xuICAgICAgICByZXR1cm4gZmlyc3RGb3JCcmFuY2hpbmcocHJvZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdEZvclNlcXVlbmNlKHByb2QpIHtcbiAgICBsZXQgZmlyc3RTZXQgPSBbXTtcbiAgICBjb25zdCBzZXEgPSBwcm9kLmRlZmluaXRpb247XG4gICAgbGV0IG5leHRTdWJQcm9kSWR4ID0gMDtcbiAgICBsZXQgaGFzSW5uZXJQcm9kc1JlbWFpbmluZyA9IHNlcS5sZW5ndGggPiBuZXh0U3ViUHJvZElkeDtcbiAgICBsZXQgY3VyclN1YlByb2Q7XG4gICAgLy8gc28gd2UgZW50ZXIgdGhlIGxvb3AgYXQgbGVhc3Qgb25jZSAoaWYgdGhlIGRlZmluaXRpb24gaXMgbm90IGVtcHR5XG4gICAgbGV0IGlzTGFzdElubmVyUHJvZE9wdGlvbmFsID0gdHJ1ZTtcbiAgICAvLyBzY2FuIGEgc2VxdWVuY2UgdW50aWwgaXQncyBlbmQgb3IgdW50aWwgd2UgaGF2ZSBmb3VuZCBhIE5PTkUgb3B0aW9uYWwgcHJvZHVjdGlvbiBpbiBpdFxuICAgIHdoaWxlIChoYXNJbm5lclByb2RzUmVtYWluaW5nICYmIGlzTGFzdElubmVyUHJvZE9wdGlvbmFsKSB7XG4gICAgICAgIGN1cnJTdWJQcm9kID0gc2VxW25leHRTdWJQcm9kSWR4XTtcbiAgICAgICAgaXNMYXN0SW5uZXJQcm9kT3B0aW9uYWwgPSBpc09wdGlvbmFsUHJvZChjdXJyU3ViUHJvZCk7XG4gICAgICAgIGZpcnN0U2V0ID0gZmlyc3RTZXQuY29uY2F0KGZpcnN0KGN1cnJTdWJQcm9kKSk7XG4gICAgICAgIG5leHRTdWJQcm9kSWR4ID0gbmV4dFN1YlByb2RJZHggKyAxO1xuICAgICAgICBoYXNJbm5lclByb2RzUmVtYWluaW5nID0gc2VxLmxlbmd0aCA+IG5leHRTdWJQcm9kSWR4O1xuICAgIH1cbiAgICByZXR1cm4gdW5pcShmaXJzdFNldCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3RGb3JCcmFuY2hpbmcocHJvZCkge1xuICAgIGNvbnN0IGFsbEFsdGVybmF0aXZlc0ZpcnN0cyA9IG1hcChwcm9kLmRlZmluaXRpb24sIChpbm5lclByb2QpID0+IHtcbiAgICAgICAgcmV0dXJuIGZpcnN0KGlubmVyUHJvZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVuaXEoZmxhdHRlbihhbGxBbHRlcm5hdGl2ZXNGaXJzdHMpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdEZvclRlcm1pbmFsKHRlcm1pbmFsKSB7XG4gICAgcmV0dXJuIFt0ZXJtaW5hbC50ZXJtaW5hbFR5cGVdO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zmlyc3QuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/first.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/follow.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/follow.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResyncFollowsWalker: () => (/* binding */ ResyncFollowsWalker),\n/* harmony export */   buildBetweenProdsFollowPrefix: () => (/* binding */ buildBetweenProdsFollowPrefix),\n/* harmony export */   buildInProdFollowPrefix: () => (/* binding */ buildInProdFollowPrefix),\n/* harmony export */   computeAllProdsFollows: () => (/* binding */ computeAllProdsFollows)\n/* harmony export */ });\n/* harmony import */ var _rest_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rest.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/rest.js\");\n/* harmony import */ var _first_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./first.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/first.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/assign.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/constants.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n\n\n\n// This ResyncFollowsWalker computes all of the follows required for RESYNC\n// (skipping reference production).\nclass ResyncFollowsWalker extends _rest_js__WEBPACK_IMPORTED_MODULE_0__.RestWalker {\n    constructor(topProd) {\n        super();\n        this.topProd = topProd;\n        this.follows = {};\n    }\n    startWalking() {\n        this.walk(this.topProd);\n        return this.follows;\n    }\n    walkTerminal(terminal, currRest, prevRest) {\n        // do nothing! just like in the public sector after 13:00\n    }\n    walkProdRef(refProd, currRest, prevRest) {\n        const followName = buildBetweenProdsFollowPrefix(refProd.referencedRule, refProd.idx) +\n            this.topProd.name;\n        const fullRest = currRest.concat(prevRest);\n        const restProd = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.Alternative({ definition: fullRest });\n        const t_in_topProd_follows = (0,_first_js__WEBPACK_IMPORTED_MODULE_1__.first)(restProd);\n        this.follows[followName] = t_in_topProd_follows;\n    }\n}\nfunction computeAllProdsFollows(topProductions) {\n    const reSyncFollows = {};\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(topProductions, (topProd) => {\n        const currRefsFollow = new ResyncFollowsWalker(topProd).startWalking();\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(reSyncFollows, currRefsFollow);\n    });\n    return reSyncFollows;\n}\nfunction buildBetweenProdsFollowPrefix(inner, occurenceInParent) {\n    return inner.name + occurenceInParent + _constants_js__WEBPACK_IMPORTED_MODULE_2__.IN;\n}\nfunction buildInProdFollowPrefix(terminal) {\n    const terminalName = terminal.terminalType.name;\n    return terminalName + terminal.idx + _constants_js__WEBPACK_IMPORTED_MODULE_2__.IN;\n}\n//# sourceMappingURL=follow.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9mb2xsb3cuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF1QztBQUNKO0FBQ1M7QUFDUDtBQUNVO0FBQy9DO0FBQ0E7QUFDTyxrQ0FBa0MsZ0RBQVU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIseURBQVcsR0FBRyxzQkFBc0I7QUFDakUscUNBQXFDLGdEQUFLO0FBQzFDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxJQUFJLHFEQUFPO0FBQ1g7QUFDQSxRQUFRLHFEQUFNO0FBQ2QsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQLDRDQUE0Qyw2Q0FBRTtBQUM5QztBQUNPO0FBQ1A7QUFDQSx5Q0FBeUMsNkNBQUU7QUFDM0M7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9ncmFtbWFyL2ZvbGxvdy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXN0V2Fsa2VyIH0gZnJvbSBcIi4vcmVzdC5qc1wiO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tIFwiLi9maXJzdC5qc1wiO1xuaW1wb3J0IHsgYXNzaWduLCBmb3JFYWNoIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgSU4gfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBBbHRlcm5hdGl2ZSB9IGZyb20gXCJAY2hldnJvdGFpbi9nYXN0XCI7XG4vLyBUaGlzIFJlc3luY0ZvbGxvd3NXYWxrZXIgY29tcHV0ZXMgYWxsIG9mIHRoZSBmb2xsb3dzIHJlcXVpcmVkIGZvciBSRVNZTkNcbi8vIChza2lwcGluZyByZWZlcmVuY2UgcHJvZHVjdGlvbikuXG5leHBvcnQgY2xhc3MgUmVzeW5jRm9sbG93c1dhbGtlciBleHRlbmRzIFJlc3RXYWxrZXIge1xuICAgIGNvbnN0cnVjdG9yKHRvcFByb2QpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50b3BQcm9kID0gdG9wUHJvZDtcbiAgICAgICAgdGhpcy5mb2xsb3dzID0ge307XG4gICAgfVxuICAgIHN0YXJ0V2Fsa2luZygpIHtcbiAgICAgICAgdGhpcy53YWxrKHRoaXMudG9wUHJvZCk7XG4gICAgICAgIHJldHVybiB0aGlzLmZvbGxvd3M7XG4gICAgfVxuICAgIHdhbGtUZXJtaW5hbCh0ZXJtaW5hbCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmchIGp1c3QgbGlrZSBpbiB0aGUgcHVibGljIHNlY3RvciBhZnRlciAxMzowMFxuICAgIH1cbiAgICB3YWxrUHJvZFJlZihyZWZQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgY29uc3QgZm9sbG93TmFtZSA9IGJ1aWxkQmV0d2VlblByb2RzRm9sbG93UHJlZml4KHJlZlByb2QucmVmZXJlbmNlZFJ1bGUsIHJlZlByb2QuaWR4KSArXG4gICAgICAgICAgICB0aGlzLnRvcFByb2QubmFtZTtcbiAgICAgICAgY29uc3QgZnVsbFJlc3QgPSBjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpO1xuICAgICAgICBjb25zdCByZXN0UHJvZCA9IG5ldyBBbHRlcm5hdGl2ZSh7IGRlZmluaXRpb246IGZ1bGxSZXN0IH0pO1xuICAgICAgICBjb25zdCB0X2luX3RvcFByb2RfZm9sbG93cyA9IGZpcnN0KHJlc3RQcm9kKTtcbiAgICAgICAgdGhpcy5mb2xsb3dzW2ZvbGxvd05hbWVdID0gdF9pbl90b3BQcm9kX2ZvbGxvd3M7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVBbGxQcm9kc0ZvbGxvd3ModG9wUHJvZHVjdGlvbnMpIHtcbiAgICBjb25zdCByZVN5bmNGb2xsb3dzID0ge307XG4gICAgZm9yRWFjaCh0b3BQcm9kdWN0aW9ucywgKHRvcFByb2QpID0+IHtcbiAgICAgICAgY29uc3QgY3VyclJlZnNGb2xsb3cgPSBuZXcgUmVzeW5jRm9sbG93c1dhbGtlcih0b3BQcm9kKS5zdGFydFdhbGtpbmcoKTtcbiAgICAgICAgYXNzaWduKHJlU3luY0ZvbGxvd3MsIGN1cnJSZWZzRm9sbG93KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVTeW5jRm9sbG93cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEJldHdlZW5Qcm9kc0ZvbGxvd1ByZWZpeChpbm5lciwgb2NjdXJlbmNlSW5QYXJlbnQpIHtcbiAgICByZXR1cm4gaW5uZXIubmFtZSArIG9jY3VyZW5jZUluUGFyZW50ICsgSU47XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRJblByb2RGb2xsb3dQcmVmaXgodGVybWluYWwpIHtcbiAgICBjb25zdCB0ZXJtaW5hbE5hbWUgPSB0ZXJtaW5hbC50ZXJtaW5hbFR5cGUubmFtZTtcbiAgICByZXR1cm4gdGVybWluYWxOYW1lICsgdGVybWluYWwuaWR4ICsgSU47XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb2xsb3cuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/follow.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/gast/gast_resolver_public.js":
/*!**************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/gast/gast_resolver_public.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resolveGrammar: () => (/* binding */ resolveGrammar),\n/* harmony export */   validateGrammar: () => (/* binding */ validateGrammar)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/defaults.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var _resolver_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resolver.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/resolver.js\");\n/* harmony import */ var _checks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../checks.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/checks.js\");\n/* harmony import */ var _errors_public_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../errors_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/errors_public.js\");\n\n\n\n\nfunction resolveGrammar(options) {\n    const actualOptions = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(options, {\n        errMsgProvider: _errors_public_js__WEBPACK_IMPORTED_MODULE_2__.defaultGrammarResolverErrorProvider,\n    });\n    const topRulesTable = {};\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(options.rules, (rule) => {\n        topRulesTable[rule.name] = rule;\n    });\n    return (0,_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveGrammar)(topRulesTable, actualOptions.errMsgProvider);\n}\nfunction validateGrammar(options) {\n    options = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(options, {\n        errMsgProvider: _errors_public_js__WEBPACK_IMPORTED_MODULE_2__.defaultGrammarValidatorErrorProvider,\n    });\n    return (0,_checks_js__WEBPACK_IMPORTED_MODULE_1__.validateGrammar)(options.rules, options.tokenTypes, options.errMsgProvider, options.grammarName);\n}\n//# sourceMappingURL=gast_resolver_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9nYXN0L2dhc3RfcmVzb2x2ZXJfcHVibGljLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEM7QUFDdUI7QUFDQTtBQUMrQztBQUM3RztBQUNQLDBCQUEwQixxREFBUTtBQUNsQyx3QkFBd0Isa0ZBQW1DO0FBQzNELEtBQUs7QUFDTDtBQUNBLElBQUkscURBQU87QUFDWDtBQUNBLEtBQUs7QUFDTCxXQUFXLDREQUFpQjtBQUM1QjtBQUNPO0FBQ1AsY0FBYyxxREFBUTtBQUN0Qix3QkFBd0IsbUZBQW9DO0FBQzVELEtBQUs7QUFDTCxXQUFXLDJEQUFrQjtBQUM3QjtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZXRoYW5raW0vTmVzdG9yL21lZGZldGNoLmpzL25vZGVfbW9kdWxlcy8ucG5wbS9jaGV2cm90YWluQDExLjAuMy9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvZ2FzdC9nYXN0X3Jlc29sdmVyX3B1YmxpYy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZhdWx0cywgZm9yRWFjaCB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IHJlc29sdmVHcmFtbWFyIGFzIG9yZ1Jlc29sdmVHcmFtbWFyIH0gZnJvbSBcIi4uL3Jlc29sdmVyLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUdyYW1tYXIgYXMgb3JnVmFsaWRhdGVHcmFtbWFyIH0gZnJvbSBcIi4uL2NoZWNrcy5qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdEdyYW1tYXJSZXNvbHZlckVycm9yUHJvdmlkZXIsIGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlciwgfSBmcm9tIFwiLi4vLi4vZXJyb3JzX3B1YmxpYy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVHcmFtbWFyKG9wdGlvbnMpIHtcbiAgICBjb25zdCBhY3R1YWxPcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgICBlcnJNc2dQcm92aWRlcjogZGVmYXVsdEdyYW1tYXJSZXNvbHZlckVycm9yUHJvdmlkZXIsXG4gICAgfSk7XG4gICAgY29uc3QgdG9wUnVsZXNUYWJsZSA9IHt9O1xuICAgIGZvckVhY2gob3B0aW9ucy5ydWxlcywgKHJ1bGUpID0+IHtcbiAgICAgICAgdG9wUnVsZXNUYWJsZVtydWxlLm5hbWVdID0gcnVsZTtcbiAgICB9KTtcbiAgICByZXR1cm4gb3JnUmVzb2x2ZUdyYW1tYXIodG9wUnVsZXNUYWJsZSwgYWN0dWFsT3B0aW9ucy5lcnJNc2dQcm92aWRlcik7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVHcmFtbWFyKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgICBlcnJNc2dQcm92aWRlcjogZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyLFxuICAgIH0pO1xuICAgIHJldHVybiBvcmdWYWxpZGF0ZUdyYW1tYXIob3B0aW9ucy5ydWxlcywgb3B0aW9ucy50b2tlblR5cGVzLCBvcHRpb25zLmVyck1zZ1Byb3ZpZGVyLCBvcHRpb25zLmdyYW1tYXJOYW1lKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdhc3RfcmVzb2x2ZXJfcHVibGljLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/gast/gast_resolver_public.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/interpreter.js":
/*!************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/interpreter.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractNextPossibleTokensWalker: () => (/* binding */ AbstractNextPossibleTokensWalker),\n/* harmony export */   AbstractNextTerminalAfterProductionWalker: () => (/* binding */ AbstractNextTerminalAfterProductionWalker),\n/* harmony export */   NextAfterTokenWalker: () => (/* binding */ NextAfterTokenWalker),\n/* harmony export */   NextTerminalAfterAtLeastOneSepWalker: () => (/* binding */ NextTerminalAfterAtLeastOneSepWalker),\n/* harmony export */   NextTerminalAfterAtLeastOneWalker: () => (/* binding */ NextTerminalAfterAtLeastOneWalker),\n/* harmony export */   NextTerminalAfterManySepWalker: () => (/* binding */ NextTerminalAfterManySepWalker),\n/* harmony export */   NextTerminalAfterManyWalker: () => (/* binding */ NextTerminalAfterManyWalker),\n/* harmony export */   nextPossibleTokensAfter: () => (/* binding */ nextPossibleTokensAfter),\n/* harmony export */   possiblePathsFrom: () => (/* binding */ possiblePathsFrom)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/clone.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/head.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/drop.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/last.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/dropRight.js\");\n/* harmony import */ var _first_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./first.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/first.js\");\n/* harmony import */ var _rest_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rest.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/rest.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n\n\nclass AbstractNextPossibleTokensWalker extends _rest_js__WEBPACK_IMPORTED_MODULE_1__.RestWalker {\n    constructor(topProd, path) {\n        super();\n        this.topProd = topProd;\n        this.path = path;\n        this.possibleTokTypes = [];\n        this.nextProductionName = \"\";\n        this.nextProductionOccurrence = 0;\n        this.found = false;\n        this.isAtEndOfPath = false;\n    }\n    startWalking() {\n        this.found = false;\n        if (this.path.ruleStack[0] !== this.topProd.name) {\n            throw Error(\"The path does not start with the walker's top Rule!\");\n        }\n        // immutable for the win\n        this.ruleStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.path.ruleStack).reverse(); // intelij bug requires assertion\n        this.occurrenceStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.path.occurrenceStack).reverse(); // intelij bug requires assertion\n        // already verified that the first production is valid, we now seek the 2nd production\n        this.ruleStack.pop();\n        this.occurrenceStack.pop();\n        this.updateExpectedNext();\n        this.walk(this.topProd);\n        return this.possibleTokTypes;\n    }\n    walk(prod, prevRest = []) {\n        // stop scanning once we found the path\n        if (!this.found) {\n            super.walk(prod, prevRest);\n        }\n    }\n    walkProdRef(refProd, currRest, prevRest) {\n        // found the next production, need to keep walking in it\n        if (refProd.referencedRule.name === this.nextProductionName &&\n            refProd.idx === this.nextProductionOccurrence) {\n            const fullRest = currRest.concat(prevRest);\n            this.updateExpectedNext();\n            this.walk(refProd.referencedRule, fullRest);\n        }\n    }\n    updateExpectedNext() {\n        // need to consume the Terminal\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.ruleStack)) {\n            // must reset nextProductionXXX to avoid walking down another Top Level production while what we are\n            // really seeking is the last Terminal...\n            this.nextProductionName = \"\";\n            this.nextProductionOccurrence = 0;\n            this.isAtEndOfPath = true;\n        }\n        else {\n            this.nextProductionName = this.ruleStack.pop();\n            this.nextProductionOccurrence = this.occurrenceStack.pop();\n        }\n    }\n}\nclass NextAfterTokenWalker extends AbstractNextPossibleTokensWalker {\n    constructor(topProd, path) {\n        super(topProd, path);\n        this.path = path;\n        this.nextTerminalName = \"\";\n        this.nextTerminalOccurrence = 0;\n        this.nextTerminalName = this.path.lastTok.name;\n        this.nextTerminalOccurrence = this.path.lastTokOccurrence;\n    }\n    walkTerminal(terminal, currRest, prevRest) {\n        if (this.isAtEndOfPath &&\n            terminal.terminalType.name === this.nextTerminalName &&\n            terminal.idx === this.nextTerminalOccurrence &&\n            !this.found) {\n            const fullRest = currRest.concat(prevRest);\n            const restProd = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Alternative({ definition: fullRest });\n            this.possibleTokTypes = (0,_first_js__WEBPACK_IMPORTED_MODULE_0__.first)(restProd);\n            this.found = true;\n        }\n    }\n}\n/**\n * This walker only \"walks\" a single \"TOP\" level in the Grammar Ast, this means\n * it never \"follows\" production refs\n */\nclass AbstractNextTerminalAfterProductionWalker extends _rest_js__WEBPACK_IMPORTED_MODULE_1__.RestWalker {\n    constructor(topRule, occurrence) {\n        super();\n        this.topRule = topRule;\n        this.occurrence = occurrence;\n        this.result = {\n            token: undefined,\n            occurrence: undefined,\n            isEndOfRule: undefined,\n        };\n    }\n    startWalking() {\n        this.walk(this.topRule);\n        return this.result;\n    }\n}\nclass NextTerminalAfterManyWalker extends AbstractNextTerminalAfterProductionWalker {\n    walkMany(manyProd, currRest, prevRest) {\n        if (manyProd.idx === this.occurrence) {\n            const firstAfterMany = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currRest.concat(prevRest));\n            this.result.isEndOfRule = firstAfterMany === undefined;\n            if (firstAfterMany instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal) {\n                this.result.token = firstAfterMany.terminalType;\n                this.result.occurrence = firstAfterMany.idx;\n            }\n        }\n        else {\n            super.walkMany(manyProd, currRest, prevRest);\n        }\n    }\n}\nclass NextTerminalAfterManySepWalker extends AbstractNextTerminalAfterProductionWalker {\n    walkManySep(manySepProd, currRest, prevRest) {\n        if (manySepProd.idx === this.occurrence) {\n            const firstAfterManySep = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currRest.concat(prevRest));\n            this.result.isEndOfRule = firstAfterManySep === undefined;\n            if (firstAfterManySep instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal) {\n                this.result.token = firstAfterManySep.terminalType;\n                this.result.occurrence = firstAfterManySep.idx;\n            }\n        }\n        else {\n            super.walkManySep(manySepProd, currRest, prevRest);\n        }\n    }\n}\nclass NextTerminalAfterAtLeastOneWalker extends AbstractNextTerminalAfterProductionWalker {\n    walkAtLeastOne(atLeastOneProd, currRest, prevRest) {\n        if (atLeastOneProd.idx === this.occurrence) {\n            const firstAfterAtLeastOne = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currRest.concat(prevRest));\n            this.result.isEndOfRule = firstAfterAtLeastOne === undefined;\n            if (firstAfterAtLeastOne instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal) {\n                this.result.token = firstAfterAtLeastOne.terminalType;\n                this.result.occurrence = firstAfterAtLeastOne.idx;\n            }\n        }\n        else {\n            super.walkAtLeastOne(atLeastOneProd, currRest, prevRest);\n        }\n    }\n}\n// TODO: reduce code duplication in the AfterWalkers\nclass NextTerminalAfterAtLeastOneSepWalker extends AbstractNextTerminalAfterProductionWalker {\n    walkAtLeastOneSep(atleastOneSepProd, currRest, prevRest) {\n        if (atleastOneSepProd.idx === this.occurrence) {\n            const firstAfterfirstAfterAtLeastOneSep = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currRest.concat(prevRest));\n            this.result.isEndOfRule = firstAfterfirstAfterAtLeastOneSep === undefined;\n            if (firstAfterfirstAfterAtLeastOneSep instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal) {\n                this.result.token = firstAfterfirstAfterAtLeastOneSep.terminalType;\n                this.result.occurrence = firstAfterfirstAfterAtLeastOneSep.idx;\n            }\n        }\n        else {\n            super.walkAtLeastOneSep(atleastOneSepProd, currRest, prevRest);\n        }\n    }\n}\nfunction possiblePathsFrom(targetDef, maxLength, currPath = []) {\n    // avoid side effects\n    currPath = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(currPath);\n    let result = [];\n    let i = 0;\n    // TODO: avoid inner funcs\n    function remainingPathWith(nextDef) {\n        return nextDef.concat((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(targetDef, i + 1));\n    }\n    // TODO: avoid inner funcs\n    function getAlternativesForProd(definition) {\n        const alternatives = possiblePathsFrom(remainingPathWith(definition), maxLength, currPath);\n        return result.concat(alternatives);\n    }\n    /**\n     * Mandatory productions will halt the loop as the paths computed from their recursive calls will already contain the\n     * following (rest) of the targetDef.\n     *\n     * For optional productions (Option/Repetition/...) the loop will continue to represent the paths that do not include the\n     * the optional production.\n     */\n    while (currPath.length < maxLength && i < targetDef.length) {\n        const prod = targetDef[i];\n        /* istanbul ignore else */\n        if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Alternative) {\n            return getAlternativesForProd(prod.definition);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.NonTerminal) {\n            return getAlternativesForProd(prod.definition);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Option) {\n            result = getAlternativesForProd(prod.definition);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.RepetitionMandatory) {\n            const newDef = prod.definition.concat([\n                new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                    definition: prod.definition,\n                }),\n            ]);\n            return getAlternativesForProd(newDef);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.RepetitionMandatoryWithSeparator) {\n            const newDef = [\n                new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Alternative({ definition: prod.definition }),\n                new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                    definition: [new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal({ terminalType: prod.separator })].concat(prod.definition),\n                }),\n            ];\n            return getAlternativesForProd(newDef);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.RepetitionWithSeparator) {\n            const newDef = prod.definition.concat([\n                new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                    definition: [new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal({ terminalType: prod.separator })].concat(prod.definition),\n                }),\n            ]);\n            result = getAlternativesForProd(newDef);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition) {\n            const newDef = prod.definition.concat([\n                new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                    definition: prod.definition,\n                }),\n            ]);\n            result = getAlternativesForProd(newDef);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Alternation) {\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(prod.definition, (currAlt) => {\n                // TODO: this is a limited check for empty alternatives\n                //   It would prevent a common case of infinite loops during parser initialization.\n                //   However **in-directly** empty alternatives may still cause issues.\n                if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currAlt.definition) === false) {\n                    result = getAlternativesForProd(currAlt.definition);\n                }\n            });\n            return result;\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal) {\n            currPath.push(prod.terminalType);\n        }\n        else {\n            throw Error(\"non exhaustive match\");\n        }\n        i++;\n    }\n    result.push({\n        partialPath: currPath,\n        suffixDef: (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(targetDef, i),\n    });\n    return result;\n}\nfunction nextPossibleTokensAfter(initialDef, tokenVector, tokMatcher, maxLookAhead) {\n    const EXIT_NON_TERMINAL = \"EXIT_NONE_TERMINAL\";\n    // to avoid creating a new Array each time.\n    const EXIT_NON_TERMINAL_ARR = [EXIT_NON_TERMINAL];\n    const EXIT_ALTERNATIVE = \"EXIT_ALTERNATIVE\";\n    let foundCompletePath = false;\n    const tokenVectorLength = tokenVector.length;\n    const minimalAlternativesIndex = tokenVectorLength - maxLookAhead - 1;\n    const result = [];\n    const possiblePaths = [];\n    possiblePaths.push({\n        idx: -1,\n        def: initialDef,\n        ruleStack: [],\n        occurrenceStack: [],\n    });\n    while (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(possiblePaths)) {\n        const currPath = possiblePaths.pop();\n        // skip alternatives if no more results can be found (assuming deterministic grammar with fixed lookahead)\n        if (currPath === EXIT_ALTERNATIVE) {\n            if (foundCompletePath &&\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(possiblePaths).idx <= minimalAlternativesIndex) {\n                // remove irrelevant alternative\n                possiblePaths.pop();\n            }\n            continue;\n        }\n        const currDef = currPath.def;\n        const currIdx = currPath.idx;\n        const currRuleStack = currPath.ruleStack;\n        const currOccurrenceStack = currPath.occurrenceStack;\n        // For Example: an empty path could exist in a valid grammar in the case of an EMPTY_ALT\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currDef)) {\n            continue;\n        }\n        const prod = currDef[0];\n        /* istanbul ignore else */\n        if (prod === EXIT_NON_TERMINAL) {\n            const nextPath = {\n                idx: currIdx,\n                def: (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef),\n                ruleStack: (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(currRuleStack),\n                occurrenceStack: (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(currOccurrenceStack),\n            };\n            possiblePaths.push(nextPath);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal) {\n            /* istanbul ignore else */\n            if (currIdx < tokenVectorLength - 1) {\n                const nextIdx = currIdx + 1;\n                const actualToken = tokenVector[nextIdx];\n                if (tokMatcher(actualToken, prod.terminalType)) {\n                    const nextPath = {\n                        idx: nextIdx,\n                        def: (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef),\n                        ruleStack: currRuleStack,\n                        occurrenceStack: currOccurrenceStack,\n                    };\n                    possiblePaths.push(nextPath);\n                }\n                // end of the line\n            }\n            else if (currIdx === tokenVectorLength - 1) {\n                // IGNORE ABOVE ELSE\n                result.push({\n                    nextTokenType: prod.terminalType,\n                    nextTokenOccurrence: prod.idx,\n                    ruleStack: currRuleStack,\n                    occurrenceStack: currOccurrenceStack,\n                });\n                foundCompletePath = true;\n            }\n            else {\n                throw Error(\"non exhaustive match\");\n            }\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.NonTerminal) {\n            const newRuleStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(currRuleStack);\n            newRuleStack.push(prod.nonTerminalName);\n            const newOccurrenceStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(currOccurrenceStack);\n            newOccurrenceStack.push(prod.idx);\n            const nextPath = {\n                idx: currIdx,\n                def: prod.definition.concat(EXIT_NON_TERMINAL_ARR, (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef)),\n                ruleStack: newRuleStack,\n                occurrenceStack: newOccurrenceStack,\n            };\n            possiblePaths.push(nextPath);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Option) {\n            // the order of alternatives is meaningful, FILO (Last path will be traversed first).\n            const nextPathWithout = {\n                idx: currIdx,\n                def: (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWithout);\n            // required marker to avoid backtracking paths whose higher priority alternatives already matched\n            possiblePaths.push(EXIT_ALTERNATIVE);\n            const nextPathWith = {\n                idx: currIdx,\n                def: prod.definition.concat((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef)),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWith);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.RepetitionMandatory) {\n            // TODO:(THE NEW operators here take a while...) (convert once?)\n            const secondIteration = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                definition: prod.definition,\n                idx: prod.idx,\n            });\n            const nextDef = prod.definition.concat([secondIteration], (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef));\n            const nextPath = {\n                idx: currIdx,\n                def: nextDef,\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPath);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.RepetitionMandatoryWithSeparator) {\n            // TODO:(THE NEW operators here take a while...) (convert once?)\n            const separatorGast = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal({\n                terminalType: prod.separator,\n            });\n            const secondIteration = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                definition: [separatorGast].concat(prod.definition),\n                idx: prod.idx,\n            });\n            const nextDef = prod.definition.concat([secondIteration], (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef));\n            const nextPath = {\n                idx: currIdx,\n                def: nextDef,\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPath);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.RepetitionWithSeparator) {\n            // the order of alternatives is meaningful, FILO (Last path will be traversed first).\n            const nextPathWithout = {\n                idx: currIdx,\n                def: (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWithout);\n            // required marker to avoid backtracking paths whose higher priority alternatives already matched\n            possiblePaths.push(EXIT_ALTERNATIVE);\n            const separatorGast = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal({\n                terminalType: prod.separator,\n            });\n            const nthRepetition = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                definition: [separatorGast].concat(prod.definition),\n                idx: prod.idx,\n            });\n            const nextDef = prod.definition.concat([nthRepetition], (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef));\n            const nextPathWith = {\n                idx: currIdx,\n                def: nextDef,\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWith);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition) {\n            // the order of alternatives is meaningful, FILO (Last path will be traversed first).\n            const nextPathWithout = {\n                idx: currIdx,\n                def: (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWithout);\n            // required marker to avoid backtracking paths whose higher priority alternatives already matched\n            possiblePaths.push(EXIT_ALTERNATIVE);\n            // TODO: an empty repetition will cause infinite loops here, will the parser detect this in selfAnalysis?\n            const nthRepetition = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                definition: prod.definition,\n                idx: prod.idx,\n            });\n            const nextDef = prod.definition.concat([nthRepetition], (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef));\n            const nextPathWith = {\n                idx: currIdx,\n                def: nextDef,\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWith);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Alternation) {\n            // the order of alternatives is meaningful, FILO (Last path will be traversed first).\n            for (let i = prod.definition.length - 1; i >= 0; i--) {\n                const currAlt = prod.definition[i];\n                const currAltPath = {\n                    idx: currIdx,\n                    def: currAlt.definition.concat((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef)),\n                    ruleStack: currRuleStack,\n                    occurrenceStack: currOccurrenceStack,\n                };\n                possiblePaths.push(currAltPath);\n                possiblePaths.push(EXIT_ALTERNATIVE);\n            }\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Alternative) {\n            possiblePaths.push({\n                idx: currIdx,\n                def: prod.definition.concat((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef)),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            });\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Rule) {\n            // last because we should only encounter at most a single one of these per invocation.\n            possiblePaths.push(expandTopLevelRule(prod, currIdx, currRuleStack, currOccurrenceStack));\n        }\n        else {\n            throw Error(\"non exhaustive match\");\n        }\n    }\n    return result;\n}\nfunction expandTopLevelRule(topRule, currIdx, currRuleStack, currOccurrenceStack) {\n    const newRuleStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(currRuleStack);\n    newRuleStack.push(topRule.name);\n    const newCurrOccurrenceStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(currOccurrenceStack);\n    // top rule is always assumed to have been called with occurrence index 1\n    newCurrOccurrenceStack.push(1);\n    return {\n        idx: currIdx,\n        def: topRule.definition,\n        ruleStack: newRuleStack,\n        occurrenceStack: newCurrOccurrenceStack,\n    };\n}\n//# sourceMappingURL=interpreter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9pbnRlcnByZXRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTZGO0FBQzFEO0FBQ0k7QUFDdUo7QUFDdkwsK0NBQStDLGdEQUFVO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFEQUFLLGlDQUFpQztBQUMvRCwrQkFBK0IscURBQUssdUNBQXVDO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUFXLEdBQUcsc0JBQXNCO0FBQ3JFLG9DQUFvQyxnREFBSztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sd0RBQXdELGdEQUFVO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLG1DQUFtQyxxREFBTTtBQUN6QztBQUNBLDBDQUEwQyxzREFBUTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxzQ0FBc0MscURBQU07QUFDNUM7QUFDQSw2Q0FBNkMsc0RBQVE7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EseUNBQXlDLHFEQUFNO0FBQy9DO0FBQ0EsZ0RBQWdELHNEQUFRO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esc0RBQXNELHFEQUFNO0FBQzVEO0FBQ0EsNkRBQTZELHNEQUFRO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxlQUFlLHFEQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHFEQUFJO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlEQUFXO0FBQ3ZDO0FBQ0E7QUFDQSxpQ0FBaUMseURBQVc7QUFDNUM7QUFDQTtBQUNBLGlDQUFpQyxvREFBTTtBQUN2QztBQUNBO0FBQ0EsaUNBQWlDLGlFQUFtQjtBQUNwRDtBQUNBLG9CQUFvQix3REFBVTtBQUM5QjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsOEVBQWdDO0FBQ2pFO0FBQ0Esb0JBQW9CLHlEQUFXLEdBQUcsNkJBQTZCO0FBQy9ELG9CQUFvQix3REFBVTtBQUM5QixxQ0FBcUMsc0RBQVEsR0FBRyw4QkFBOEI7QUFDOUUsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxxRUFBdUI7QUFDeEQ7QUFDQSxvQkFBb0Isd0RBQVU7QUFDOUIscUNBQXFDLHNEQUFRLEdBQUcsOEJBQThCO0FBQzlFLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsd0RBQVU7QUFDM0M7QUFDQSxvQkFBb0Isd0RBQVU7QUFDOUI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUFXO0FBQzVDLFlBQVkscURBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFEQUFPO0FBQzNCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGlDQUFpQyxzREFBUTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIscURBQUk7QUFDdkIsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxxREFBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBSTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscURBQUk7QUFDekIsMkJBQTJCLHFEQUFTO0FBQ3BDLGlDQUFpQyxxREFBUztBQUMxQztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsc0RBQVE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQUk7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMseURBQVc7QUFDNUMsaUNBQWlDLHFEQUFLO0FBQ3RDO0FBQ0EsdUNBQXVDLHFEQUFLO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxxREFBSTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLG9EQUFNO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBSTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHFEQUFJO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsaUVBQW1CO0FBQ3BEO0FBQ0Esd0NBQXdDLHdEQUFVO0FBQ2xEO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isc0VBQXNFLHFEQUFJO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsOEVBQWdDO0FBQ2pFO0FBQ0Esc0NBQXNDLHNEQUFRO0FBQzlDO0FBQ0EsYUFBYTtBQUNiLHdDQUF3Qyx3REFBVTtBQUNsRDtBQUNBO0FBQ0EsYUFBYTtBQUNiLHNFQUFzRSxxREFBSTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHFFQUF1QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscURBQUk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHNEQUFRO0FBQzlDO0FBQ0EsYUFBYTtBQUNiLHNDQUFzQyx3REFBVTtBQUNoRDtBQUNBO0FBQ0EsYUFBYTtBQUNiLG9FQUFvRSxxREFBSTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHdEQUFVO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBSTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx3REFBVTtBQUNoRDtBQUNBO0FBQ0EsYUFBYTtBQUNiLG9FQUFvRSxxREFBSTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUFXO0FBQzVDO0FBQ0EscURBQXFELFFBQVE7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHFEQUFJO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUFXO0FBQzVDO0FBQ0E7QUFDQSw0Q0FBNEMscURBQUk7QUFDaEQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGlDQUFpQyxrREFBSTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxREFBSztBQUM5QjtBQUNBLG1DQUFtQyxxREFBSztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9ncmFtbWFyL2ludGVycHJldGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb25lLCBkcm9wLCBkcm9wUmlnaHQsIGZpcnN0IGFzIF9maXJzdCwgZm9yRWFjaCwgaXNFbXB0eSwgbGFzdCwgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBmaXJzdCB9IGZyb20gXCIuL2ZpcnN0LmpzXCI7XG5pbXBvcnQgeyBSZXN0V2Fsa2VyIH0gZnJvbSBcIi4vcmVzdC5qc1wiO1xuaW1wb3J0IHsgQWx0ZXJuYXRpb24sIEFsdGVybmF0aXZlLCBOb25UZXJtaW5hbCwgT3B0aW9uLCBSZXBldGl0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIFJ1bGUsIFRlcm1pbmFsLCB9IGZyb20gXCJAY2hldnJvdGFpbi9nYXN0XCI7XG5leHBvcnQgY2xhc3MgQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIgZXh0ZW5kcyBSZXN0V2Fsa2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih0b3BQcm9kLCBwYXRoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudG9wUHJvZCA9IHRvcFByb2Q7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMucG9zc2libGVUb2tUeXBlcyA9IFtdO1xuICAgICAgICB0aGlzLm5leHRQcm9kdWN0aW9uTmFtZSA9IFwiXCI7XG4gICAgICAgIHRoaXMubmV4dFByb2R1Y3Rpb25PY2N1cnJlbmNlID0gMDtcbiAgICAgICAgdGhpcy5mb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzQXRFbmRPZlBhdGggPSBmYWxzZTtcbiAgICB9XG4gICAgc3RhcnRXYWxraW5nKCkge1xuICAgICAgICB0aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnBhdGgucnVsZVN0YWNrWzBdICE9PSB0aGlzLnRvcFByb2QubmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgcGF0aCBkb2VzIG5vdCBzdGFydCB3aXRoIHRoZSB3YWxrZXIncyB0b3AgUnVsZSFcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW1tdXRhYmxlIGZvciB0aGUgd2luXG4gICAgICAgIHRoaXMucnVsZVN0YWNrID0gY2xvbmUodGhpcy5wYXRoLnJ1bGVTdGFjaykucmV2ZXJzZSgpOyAvLyBpbnRlbGlqIGJ1ZyByZXF1aXJlcyBhc3NlcnRpb25cbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlU3RhY2sgPSBjbG9uZSh0aGlzLnBhdGgub2NjdXJyZW5jZVN0YWNrKS5yZXZlcnNlKCk7IC8vIGludGVsaWogYnVnIHJlcXVpcmVzIGFzc2VydGlvblxuICAgICAgICAvLyBhbHJlYWR5IHZlcmlmaWVkIHRoYXQgdGhlIGZpcnN0IHByb2R1Y3Rpb24gaXMgdmFsaWQsIHdlIG5vdyBzZWVrIHRoZSAybmQgcHJvZHVjdGlvblxuICAgICAgICB0aGlzLnJ1bGVTdGFjay5wb3AoKTtcbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlU3RhY2sucG9wKCk7XG4gICAgICAgIHRoaXMudXBkYXRlRXhwZWN0ZWROZXh0KCk7XG4gICAgICAgIHRoaXMud2Fsayh0aGlzLnRvcFByb2QpO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZVRva1R5cGVzO1xuICAgIH1cbiAgICB3YWxrKHByb2QsIHByZXZSZXN0ID0gW10pIHtcbiAgICAgICAgLy8gc3RvcCBzY2FubmluZyBvbmNlIHdlIGZvdW5kIHRoZSBwYXRoXG4gICAgICAgIGlmICghdGhpcy5mb3VuZCkge1xuICAgICAgICAgICAgc3VwZXIud2Fsayhwcm9kLCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2Fsa1Byb2RSZWYocmVmUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIGZvdW5kIHRoZSBuZXh0IHByb2R1Y3Rpb24sIG5lZWQgdG8ga2VlcCB3YWxraW5nIGluIGl0XG4gICAgICAgIGlmIChyZWZQcm9kLnJlZmVyZW5jZWRSdWxlLm5hbWUgPT09IHRoaXMubmV4dFByb2R1Y3Rpb25OYW1lICYmXG4gICAgICAgICAgICByZWZQcm9kLmlkeCA9PT0gdGhpcy5uZXh0UHJvZHVjdGlvbk9jY3VycmVuY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRXhwZWN0ZWROZXh0KCk7XG4gICAgICAgICAgICB0aGlzLndhbGsocmVmUHJvZC5yZWZlcmVuY2VkUnVsZSwgZnVsbFJlc3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZUV4cGVjdGVkTmV4dCgpIHtcbiAgICAgICAgLy8gbmVlZCB0byBjb25zdW1lIHRoZSBUZXJtaW5hbFxuICAgICAgICBpZiAoaXNFbXB0eSh0aGlzLnJ1bGVTdGFjaykpIHtcbiAgICAgICAgICAgIC8vIG11c3QgcmVzZXQgbmV4dFByb2R1Y3Rpb25YWFggdG8gYXZvaWQgd2Fsa2luZyBkb3duIGFub3RoZXIgVG9wIExldmVsIHByb2R1Y3Rpb24gd2hpbGUgd2hhdCB3ZSBhcmVcbiAgICAgICAgICAgIC8vIHJlYWxseSBzZWVraW5nIGlzIHRoZSBsYXN0IFRlcm1pbmFsLi4uXG4gICAgICAgICAgICB0aGlzLm5leHRQcm9kdWN0aW9uTmFtZSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLm5leHRQcm9kdWN0aW9uT2NjdXJyZW5jZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmlzQXRFbmRPZlBhdGggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5uZXh0UHJvZHVjdGlvbk5hbWUgPSB0aGlzLnJ1bGVTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMubmV4dFByb2R1Y3Rpb25PY2N1cnJlbmNlID0gdGhpcy5vY2N1cnJlbmNlU3RhY2sucG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTmV4dEFmdGVyVG9rZW5XYWxrZXIgZXh0ZW5kcyBBYnN0cmFjdE5leHRQb3NzaWJsZVRva2Vuc1dhbGtlciB7XG4gICAgY29uc3RydWN0b3IodG9wUHJvZCwgcGF0aCkge1xuICAgICAgICBzdXBlcih0b3BQcm9kLCBwYXRoKTtcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy5uZXh0VGVybWluYWxOYW1lID0gXCJcIjtcbiAgICAgICAgdGhpcy5uZXh0VGVybWluYWxPY2N1cnJlbmNlID0gMDtcbiAgICAgICAgdGhpcy5uZXh0VGVybWluYWxOYW1lID0gdGhpcy5wYXRoLmxhc3RUb2submFtZTtcbiAgICAgICAgdGhpcy5uZXh0VGVybWluYWxPY2N1cnJlbmNlID0gdGhpcy5wYXRoLmxhc3RUb2tPY2N1cnJlbmNlO1xuICAgIH1cbiAgICB3YWxrVGVybWluYWwodGVybWluYWwsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAodGhpcy5pc0F0RW5kT2ZQYXRoICYmXG4gICAgICAgICAgICB0ZXJtaW5hbC50ZXJtaW5hbFR5cGUubmFtZSA9PT0gdGhpcy5uZXh0VGVybWluYWxOYW1lICYmXG4gICAgICAgICAgICB0ZXJtaW5hbC5pZHggPT09IHRoaXMubmV4dFRlcm1pbmFsT2NjdXJyZW5jZSAmJlxuICAgICAgICAgICAgIXRoaXMuZm91bmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3RQcm9kID0gbmV3IEFsdGVybmF0aXZlKHsgZGVmaW5pdGlvbjogZnVsbFJlc3QgfSk7XG4gICAgICAgICAgICB0aGlzLnBvc3NpYmxlVG9rVHlwZXMgPSBmaXJzdChyZXN0UHJvZCk7XG4gICAgICAgICAgICB0aGlzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogVGhpcyB3YWxrZXIgb25seSBcIndhbGtzXCIgYSBzaW5nbGUgXCJUT1BcIiBsZXZlbCBpbiB0aGUgR3JhbW1hciBBc3QsIHRoaXMgbWVhbnNcbiAqIGl0IG5ldmVyIFwiZm9sbG93c1wiIHByb2R1Y3Rpb24gcmVmc1xuICovXG5leHBvcnQgY2xhc3MgQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIgZXh0ZW5kcyBSZXN0V2Fsa2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih0b3BSdWxlLCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudG9wUnVsZSA9IHRvcFJ1bGU7XG4gICAgICAgIHRoaXMub2NjdXJyZW5jZSA9IG9jY3VycmVuY2U7XG4gICAgICAgIHRoaXMucmVzdWx0ID0ge1xuICAgICAgICAgICAgdG9rZW46IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9jY3VycmVuY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGlzRW5kT2ZSdWxlOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXJ0V2Fsa2luZygpIHtcbiAgICAgICAgdGhpcy53YWxrKHRoaXMudG9wUnVsZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTmV4dFRlcm1pbmFsQWZ0ZXJNYW55V2Fsa2VyIGV4dGVuZHMgQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIge1xuICAgIHdhbGtNYW55KG1hbnlQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKG1hbnlQcm9kLmlkeCA9PT0gdGhpcy5vY2N1cnJlbmNlKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEFmdGVyTWFueSA9IF9maXJzdChjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LmlzRW5kT2ZSdWxlID0gZmlyc3RBZnRlck1hbnkgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChmaXJzdEFmdGVyTWFueSBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQudG9rZW4gPSBmaXJzdEFmdGVyTWFueS50ZXJtaW5hbFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQub2NjdXJyZW5jZSA9IGZpcnN0QWZ0ZXJNYW55LmlkeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLndhbGtNYW55KG1hbnlQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlciBleHRlbmRzIEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyIHtcbiAgICB3YWxrTWFueVNlcChtYW55U2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmIChtYW55U2VwUHJvZC5pZHggPT09IHRoaXMub2NjdXJyZW5jZSkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RBZnRlck1hbnlTZXAgPSBfZmlyc3QoY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KSk7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5pc0VuZE9mUnVsZSA9IGZpcnN0QWZ0ZXJNYW55U2VwID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoZmlyc3RBZnRlck1hbnlTZXAgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0LnRva2VuID0gZmlyc3RBZnRlck1hbnlTZXAudGVybWluYWxUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0Lm9jY3VycmVuY2UgPSBmaXJzdEFmdGVyTWFueVNlcC5pZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdXBlci53YWxrTWFueVNlcChtYW55U2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVXYWxrZXIgZXh0ZW5kcyBBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlciB7XG4gICAgd2Fsa0F0TGVhc3RPbmUoYXRMZWFzdE9uZVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAoYXRMZWFzdE9uZVByb2QuaWR4ID09PSB0aGlzLm9jY3VycmVuY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0QWZ0ZXJBdExlYXN0T25lID0gX2ZpcnN0KGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCkpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQuaXNFbmRPZlJ1bGUgPSBmaXJzdEFmdGVyQXRMZWFzdE9uZSA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGZpcnN0QWZ0ZXJBdExlYXN0T25lIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC50b2tlbiA9IGZpcnN0QWZ0ZXJBdExlYXN0T25lLnRlcm1pbmFsVHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5vY2N1cnJlbmNlID0gZmlyc3RBZnRlckF0TGVhc3RPbmUuaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIud2Fsa0F0TGVhc3RPbmUoYXRMZWFzdE9uZVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBUT0RPOiByZWR1Y2UgY29kZSBkdXBsaWNhdGlvbiBpbiB0aGUgQWZ0ZXJXYWxrZXJzXG5leHBvcnQgY2xhc3MgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lU2VwV2Fsa2VyIGV4dGVuZHMgQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIge1xuICAgIHdhbGtBdExlYXN0T25lU2VwKGF0bGVhc3RPbmVTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKGF0bGVhc3RPbmVTZXBQcm9kLmlkeCA9PT0gdGhpcy5vY2N1cnJlbmNlKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEFmdGVyZmlyc3RBZnRlckF0TGVhc3RPbmVTZXAgPSBfZmlyc3QoY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KSk7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5pc0VuZE9mUnVsZSA9IGZpcnN0QWZ0ZXJmaXJzdEFmdGVyQXRMZWFzdE9uZVNlcCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGZpcnN0QWZ0ZXJmaXJzdEFmdGVyQXRMZWFzdE9uZVNlcCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQudG9rZW4gPSBmaXJzdEFmdGVyZmlyc3RBZnRlckF0TGVhc3RPbmVTZXAudGVybWluYWxUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0Lm9jY3VycmVuY2UgPSBmaXJzdEFmdGVyZmlyc3RBZnRlckF0TGVhc3RPbmVTZXAuaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIud2Fsa0F0TGVhc3RPbmVTZXAoYXRsZWFzdE9uZVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcG9zc2libGVQYXRoc0Zyb20odGFyZ2V0RGVmLCBtYXhMZW5ndGgsIGN1cnJQYXRoID0gW10pIHtcbiAgICAvLyBhdm9pZCBzaWRlIGVmZmVjdHNcbiAgICBjdXJyUGF0aCA9IGNsb25lKGN1cnJQYXRoKTtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIC8vIFRPRE86IGF2b2lkIGlubmVyIGZ1bmNzXG4gICAgZnVuY3Rpb24gcmVtYWluaW5nUGF0aFdpdGgobmV4dERlZikge1xuICAgICAgICByZXR1cm4gbmV4dERlZi5jb25jYXQoZHJvcCh0YXJnZXREZWYsIGkgKyAxKSk7XG4gICAgfVxuICAgIC8vIFRPRE86IGF2b2lkIGlubmVyIGZ1bmNzXG4gICAgZnVuY3Rpb24gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChkZWZpbml0aW9uKSB7XG4gICAgICAgIGNvbnN0IGFsdGVybmF0aXZlcyA9IHBvc3NpYmxlUGF0aHNGcm9tKHJlbWFpbmluZ1BhdGhXaXRoKGRlZmluaXRpb24pLCBtYXhMZW5ndGgsIGN1cnJQYXRoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoYWx0ZXJuYXRpdmVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFuZGF0b3J5IHByb2R1Y3Rpb25zIHdpbGwgaGFsdCB0aGUgbG9vcCBhcyB0aGUgcGF0aHMgY29tcHV0ZWQgZnJvbSB0aGVpciByZWN1cnNpdmUgY2FsbHMgd2lsbCBhbHJlYWR5IGNvbnRhaW4gdGhlXG4gICAgICogZm9sbG93aW5nIChyZXN0KSBvZiB0aGUgdGFyZ2V0RGVmLlxuICAgICAqXG4gICAgICogRm9yIG9wdGlvbmFsIHByb2R1Y3Rpb25zIChPcHRpb24vUmVwZXRpdGlvbi8uLi4pIHRoZSBsb29wIHdpbGwgY29udGludWUgdG8gcmVwcmVzZW50IHRoZSBwYXRocyB0aGF0IGRvIG5vdCBpbmNsdWRlIHRoZVxuICAgICAqIHRoZSBvcHRpb25hbCBwcm9kdWN0aW9uLlxuICAgICAqL1xuICAgIHdoaWxlIChjdXJyUGF0aC5sZW5ndGggPCBtYXhMZW5ndGggJiYgaSA8IHRhcmdldERlZi5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcHJvZCA9IHRhcmdldERlZltpXTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEFsdGVybmF0aXZlc0ZvclByb2QocHJvZC5kZWZpbml0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKHByb2QuZGVmaW5pdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIE9wdGlvbikge1xuICAgICAgICAgICAgcmVzdWx0ID0gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChwcm9kLmRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5KSB7XG4gICAgICAgICAgICBjb25zdCBuZXdEZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtcbiAgICAgICAgICAgICAgICBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb246IHByb2QuZGVmaW5pdGlvbixcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuIGdldEFsdGVybmF0aXZlc0ZvclByb2QobmV3RGVmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0RlZiA9IFtcbiAgICAgICAgICAgICAgICBuZXcgQWx0ZXJuYXRpdmUoeyBkZWZpbml0aW9uOiBwcm9kLmRlZmluaXRpb24gfSksXG4gICAgICAgICAgICAgICAgbmV3IFJlcGV0aXRpb24oe1xuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uOiBbbmV3IFRlcm1pbmFsKHsgdGVybWluYWxUeXBlOiBwcm9kLnNlcGFyYXRvciB9KV0uY29uY2F0KHByb2QuZGVmaW5pdGlvbiksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgcmV0dXJuIGdldEFsdGVybmF0aXZlc0ZvclByb2QobmV3RGVmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0RlZiA9IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoW1xuICAgICAgICAgICAgICAgIG5ldyBSZXBldGl0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogW25ldyBUZXJtaW5hbCh7IHRlcm1pbmFsVHlwZTogcHJvZC5zZXBhcmF0b3IgfSldLmNvbmNhdChwcm9kLmRlZmluaXRpb24pLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXN1bHQgPSBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKG5ld0RlZik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0RlZiA9IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoW1xuICAgICAgICAgICAgICAgIG5ldyBSZXBldGl0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogcHJvZC5kZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXN1bHQgPSBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKG5ld0RlZik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgICAgICBmb3JFYWNoKHByb2QuZGVmaW5pdGlvbiwgKGN1cnJBbHQpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgbGltaXRlZCBjaGVjayBmb3IgZW1wdHkgYWx0ZXJuYXRpdmVzXG4gICAgICAgICAgICAgICAgLy8gICBJdCB3b3VsZCBwcmV2ZW50IGEgY29tbW9uIGNhc2Ugb2YgaW5maW5pdGUgbG9vcHMgZHVyaW5nIHBhcnNlciBpbml0aWFsaXphdGlvbi5cbiAgICAgICAgICAgICAgICAvLyAgIEhvd2V2ZXIgKippbi1kaXJlY3RseSoqIGVtcHR5IGFsdGVybmF0aXZlcyBtYXkgc3RpbGwgY2F1c2UgaXNzdWVzLlxuICAgICAgICAgICAgICAgIGlmIChpc0VtcHR5KGN1cnJBbHQuZGVmaW5pdGlvbikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGdldEFsdGVybmF0aXZlc0ZvclByb2QoY3VyckFsdC5kZWZpbml0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICBjdXJyUGF0aC5wdXNoKHByb2QudGVybWluYWxUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIHBhcnRpYWxQYXRoOiBjdXJyUGF0aCxcbiAgICAgICAgc3VmZml4RGVmOiBkcm9wKHRhcmdldERlZiwgaSksXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXh0UG9zc2libGVUb2tlbnNBZnRlcihpbml0aWFsRGVmLCB0b2tlblZlY3RvciwgdG9rTWF0Y2hlciwgbWF4TG9va0FoZWFkKSB7XG4gICAgY29uc3QgRVhJVF9OT05fVEVSTUlOQUwgPSBcIkVYSVRfTk9ORV9URVJNSU5BTFwiO1xuICAgIC8vIHRvIGF2b2lkIGNyZWF0aW5nIGEgbmV3IEFycmF5IGVhY2ggdGltZS5cbiAgICBjb25zdCBFWElUX05PTl9URVJNSU5BTF9BUlIgPSBbRVhJVF9OT05fVEVSTUlOQUxdO1xuICAgIGNvbnN0IEVYSVRfQUxURVJOQVRJVkUgPSBcIkVYSVRfQUxURVJOQVRJVkVcIjtcbiAgICBsZXQgZm91bmRDb21wbGV0ZVBhdGggPSBmYWxzZTtcbiAgICBjb25zdCB0b2tlblZlY3Rvckxlbmd0aCA9IHRva2VuVmVjdG9yLmxlbmd0aDtcbiAgICBjb25zdCBtaW5pbWFsQWx0ZXJuYXRpdmVzSW5kZXggPSB0b2tlblZlY3Rvckxlbmd0aCAtIG1heExvb2tBaGVhZCAtIDE7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgY29uc3QgcG9zc2libGVQYXRocyA9IFtdO1xuICAgIHBvc3NpYmxlUGF0aHMucHVzaCh7XG4gICAgICAgIGlkeDogLTEsXG4gICAgICAgIGRlZjogaW5pdGlhbERlZixcbiAgICAgICAgcnVsZVN0YWNrOiBbXSxcbiAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBbXSxcbiAgICB9KTtcbiAgICB3aGlsZSAoIWlzRW1wdHkocG9zc2libGVQYXRocykpIHtcbiAgICAgICAgY29uc3QgY3VyclBhdGggPSBwb3NzaWJsZVBhdGhzLnBvcCgpO1xuICAgICAgICAvLyBza2lwIGFsdGVybmF0aXZlcyBpZiBubyBtb3JlIHJlc3VsdHMgY2FuIGJlIGZvdW5kIChhc3N1bWluZyBkZXRlcm1pbmlzdGljIGdyYW1tYXIgd2l0aCBmaXhlZCBsb29rYWhlYWQpXG4gICAgICAgIGlmIChjdXJyUGF0aCA9PT0gRVhJVF9BTFRFUk5BVElWRSkge1xuICAgICAgICAgICAgaWYgKGZvdW5kQ29tcGxldGVQYXRoICYmXG4gICAgICAgICAgICAgICAgbGFzdChwb3NzaWJsZVBhdGhzKS5pZHggPD0gbWluaW1hbEFsdGVybmF0aXZlc0luZGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGlycmVsZXZhbnQgYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VyckRlZiA9IGN1cnJQYXRoLmRlZjtcbiAgICAgICAgY29uc3QgY3VycklkeCA9IGN1cnJQYXRoLmlkeDtcbiAgICAgICAgY29uc3QgY3VyclJ1bGVTdGFjayA9IGN1cnJQYXRoLnJ1bGVTdGFjaztcbiAgICAgICAgY29uc3QgY3Vyck9jY3VycmVuY2VTdGFjayA9IGN1cnJQYXRoLm9jY3VycmVuY2VTdGFjaztcbiAgICAgICAgLy8gRm9yIEV4YW1wbGU6IGFuIGVtcHR5IHBhdGggY291bGQgZXhpc3QgaW4gYSB2YWxpZCBncmFtbWFyIGluIHRoZSBjYXNlIG9mIGFuIEVNUFRZX0FMVFxuICAgICAgICBpZiAoaXNFbXB0eShjdXJyRGVmKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvZCA9IGN1cnJEZWZbMF07XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChwcm9kID09PSBFWElUX05PTl9URVJNSU5BTCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFBhdGggPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogZHJvcChjdXJyRGVmKSxcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGRyb3BSaWdodChjdXJyUnVsZVN0YWNrKSxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGRyb3BSaWdodChjdXJyT2NjdXJyZW5jZVN0YWNrKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChjdXJySWR4IDwgdG9rZW5WZWN0b3JMZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dElkeCA9IGN1cnJJZHggKyAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdHVhbFRva2VuID0gdG9rZW5WZWN0b3JbbmV4dElkeF07XG4gICAgICAgICAgICAgICAgaWYgKHRva01hdGNoZXIoYWN0dWFsVG9rZW4sIHByb2QudGVybWluYWxUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeDogbmV4dElkeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogZHJvcChjdXJyRGVmKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKG5leHRQYXRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZW5kIG9mIHRoZSBsaW5lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdXJySWR4ID09PSB0b2tlblZlY3Rvckxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAvLyBJR05PUkUgQUJPVkUgRUxTRVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRva2VuVHlwZTogcHJvZC50ZXJtaW5hbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG5leHRUb2tlbk9jY3VycmVuY2U6IHByb2QuaWR4LFxuICAgICAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmb3VuZENvbXBsZXRlUGF0aCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICAgICAgY29uc3QgbmV3UnVsZVN0YWNrID0gY2xvbmUoY3VyclJ1bGVTdGFjayk7XG4gICAgICAgICAgICBuZXdSdWxlU3RhY2sucHVzaChwcm9kLm5vblRlcm1pbmFsTmFtZSk7XG4gICAgICAgICAgICBjb25zdCBuZXdPY2N1cnJlbmNlU3RhY2sgPSBjbG9uZShjdXJyT2NjdXJyZW5jZVN0YWNrKTtcbiAgICAgICAgICAgIG5ld09jY3VycmVuY2VTdGFjay5wdXNoKHByb2QuaWR4KTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRQYXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoRVhJVF9OT05fVEVSTUlOQUxfQVJSLCBkcm9wKGN1cnJEZWYpKSxcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IG5ld1J1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IG5ld09jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBPcHRpb24pIHtcbiAgICAgICAgICAgIC8vIHRoZSBvcmRlciBvZiBhbHRlcm5hdGl2ZXMgaXMgbWVhbmluZ2Z1bCwgRklMTyAoTGFzdCBwYXRoIHdpbGwgYmUgdHJhdmVyc2VkIGZpcnN0KS5cbiAgICAgICAgICAgIGNvbnN0IG5leHRQYXRoV2l0aG91dCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBkcm9wKGN1cnJEZWYpLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2ssXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKG5leHRQYXRoV2l0aG91dCk7XG4gICAgICAgICAgICAvLyByZXF1aXJlZCBtYXJrZXIgdG8gYXZvaWQgYmFja3RyYWNraW5nIHBhdGhzIHdob3NlIGhpZ2hlciBwcmlvcml0eSBhbHRlcm5hdGl2ZXMgYWxyZWFkeSBtYXRjaGVkXG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2goRVhJVF9BTFRFUk5BVElWRSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0UGF0aFdpdGggPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogcHJvZC5kZWZpbml0aW9uLmNvbmNhdChkcm9wKGN1cnJEZWYpKSxcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aFdpdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5KSB7XG4gICAgICAgICAgICAvLyBUT0RPOihUSEUgTkVXIG9wZXJhdG9ycyBoZXJlIHRha2UgYSB3aGlsZS4uLikgKGNvbnZlcnQgb25jZT8pXG4gICAgICAgICAgICBjb25zdCBzZWNvbmRJdGVyYXRpb24gPSBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogcHJvZC5kZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgIGlkeDogcHJvZC5pZHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG5leHREZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtzZWNvbmRJdGVyYXRpb25dLCBkcm9wKGN1cnJEZWYpKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRQYXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IG5leHREZWYsXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgLy8gVE9ETzooVEhFIE5FVyBvcGVyYXRvcnMgaGVyZSB0YWtlIGEgd2hpbGUuLi4pIChjb252ZXJ0IG9uY2U/KVxuICAgICAgICAgICAgY29uc3Qgc2VwYXJhdG9yR2FzdCA9IG5ldyBUZXJtaW5hbCh7XG4gICAgICAgICAgICAgICAgdGVybWluYWxUeXBlOiBwcm9kLnNlcGFyYXRvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kSXRlcmF0aW9uID0gbmV3IFJlcGV0aXRpb24oe1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb246IFtzZXBhcmF0b3JHYXN0XS5jb25jYXQocHJvZC5kZWZpbml0aW9uKSxcbiAgICAgICAgICAgICAgICBpZHg6IHByb2QuaWR4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0RGVmID0gcHJvZC5kZWZpbml0aW9uLmNvbmNhdChbc2Vjb25kSXRlcmF0aW9uXSwgZHJvcChjdXJyRGVmKSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBuZXh0RGVmLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2ssXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKG5leHRQYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIC8vIHRoZSBvcmRlciBvZiBhbHRlcm5hdGl2ZXMgaXMgbWVhbmluZ2Z1bCwgRklMTyAoTGFzdCBwYXRoIHdpbGwgYmUgdHJhdmVyc2VkIGZpcnN0KS5cbiAgICAgICAgICAgIGNvbnN0IG5leHRQYXRoV2l0aG91dCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBkcm9wKGN1cnJEZWYpLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2ssXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKG5leHRQYXRoV2l0aG91dCk7XG4gICAgICAgICAgICAvLyByZXF1aXJlZCBtYXJrZXIgdG8gYXZvaWQgYmFja3RyYWNraW5nIHBhdGhzIHdob3NlIGhpZ2hlciBwcmlvcml0eSBhbHRlcm5hdGl2ZXMgYWxyZWFkeSBtYXRjaGVkXG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2goRVhJVF9BTFRFUk5BVElWRSk7XG4gICAgICAgICAgICBjb25zdCBzZXBhcmF0b3JHYXN0ID0gbmV3IFRlcm1pbmFsKHtcbiAgICAgICAgICAgICAgICB0ZXJtaW5hbFR5cGU6IHByb2Quc2VwYXJhdG9yLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBudGhSZXBldGl0aW9uID0gbmV3IFJlcGV0aXRpb24oe1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb246IFtzZXBhcmF0b3JHYXN0XS5jb25jYXQocHJvZC5kZWZpbml0aW9uKSxcbiAgICAgICAgICAgICAgICBpZHg6IHByb2QuaWR4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0RGVmID0gcHJvZC5kZWZpbml0aW9uLmNvbmNhdChbbnRoUmVwZXRpdGlvbl0sIGRyb3AoY3VyckRlZikpO1xuICAgICAgICAgICAgY29uc3QgbmV4dFBhdGhXaXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IG5leHREZWYsXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGhXaXRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICAgICAgLy8gdGhlIG9yZGVyIG9mIGFsdGVybmF0aXZlcyBpcyBtZWFuaW5nZnVsLCBGSUxPIChMYXN0IHBhdGggd2lsbCBiZSB0cmF2ZXJzZWQgZmlyc3QpLlxuICAgICAgICAgICAgY29uc3QgbmV4dFBhdGhXaXRob3V0ID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IGRyb3AoY3VyckRlZiksXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGhXaXRob3V0KTtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIG1hcmtlciB0byBhdm9pZCBiYWNrdHJhY2tpbmcgcGF0aHMgd2hvc2UgaGlnaGVyIHByaW9yaXR5IGFsdGVybmF0aXZlcyBhbHJlYWR5IG1hdGNoZWRcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChFWElUX0FMVEVSTkFUSVZFKTtcbiAgICAgICAgICAgIC8vIFRPRE86IGFuIGVtcHR5IHJlcGV0aXRpb24gd2lsbCBjYXVzZSBpbmZpbml0ZSBsb29wcyBoZXJlLCB3aWxsIHRoZSBwYXJzZXIgZGV0ZWN0IHRoaXMgaW4gc2VsZkFuYWx5c2lzP1xuICAgICAgICAgICAgY29uc3QgbnRoUmVwZXRpdGlvbiA9IG5ldyBSZXBldGl0aW9uKHtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uOiBwcm9kLmRlZmluaXRpb24sXG4gICAgICAgICAgICAgICAgaWR4OiBwcm9kLmlkeCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbmV4dERlZiA9IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoW250aFJlcGV0aXRpb25dLCBkcm9wKGN1cnJEZWYpKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRQYXRoV2l0aCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBuZXh0RGVmLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2ssXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKG5leHRQYXRoV2l0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgICAgICAvLyB0aGUgb3JkZXIgb2YgYWx0ZXJuYXRpdmVzIGlzIG1lYW5pbmdmdWwsIEZJTE8gKExhc3QgcGF0aCB3aWxsIGJlIHRyYXZlcnNlZCBmaXJzdCkuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gcHJvZC5kZWZpbml0aW9uLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyckFsdCA9IHByb2QuZGVmaW5pdGlvbltpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyQWx0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgICAgICBkZWY6IGN1cnJBbHQuZGVmaW5pdGlvbi5jb25jYXQoZHJvcChjdXJyRGVmKSksXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKGN1cnJBbHRQYXRoKTtcbiAgICAgICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2goRVhJVF9BTFRFUk5BVElWRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aXZlKSB7XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoZHJvcChjdXJyRGVmKSksXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSdWxlKSB7XG4gICAgICAgICAgICAvLyBsYXN0IGJlY2F1c2Ugd2Ugc2hvdWxkIG9ubHkgZW5jb3VudGVyIGF0IG1vc3QgYSBzaW5nbGUgb25lIG9mIHRoZXNlIHBlciBpbnZvY2F0aW9uLlxuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKGV4cGFuZFRvcExldmVsUnVsZShwcm9kLCBjdXJySWR4LCBjdXJyUnVsZVN0YWNrLCBjdXJyT2NjdXJyZW5jZVN0YWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBleHBhbmRUb3BMZXZlbFJ1bGUodG9wUnVsZSwgY3VycklkeCwgY3VyclJ1bGVTdGFjaywgY3Vyck9jY3VycmVuY2VTdGFjaykge1xuICAgIGNvbnN0IG5ld1J1bGVTdGFjayA9IGNsb25lKGN1cnJSdWxlU3RhY2spO1xuICAgIG5ld1J1bGVTdGFjay5wdXNoKHRvcFJ1bGUubmFtZSk7XG4gICAgY29uc3QgbmV3Q3Vyck9jY3VycmVuY2VTdGFjayA9IGNsb25lKGN1cnJPY2N1cnJlbmNlU3RhY2spO1xuICAgIC8vIHRvcCBydWxlIGlzIGFsd2F5cyBhc3N1bWVkIHRvIGhhdmUgYmVlbiBjYWxsZWQgd2l0aCBvY2N1cnJlbmNlIGluZGV4IDFcbiAgICBuZXdDdXJyT2NjdXJyZW5jZVN0YWNrLnB1c2goMSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICBkZWY6IHRvcFJ1bGUuZGVmaW5pdGlvbixcbiAgICAgICAgcnVsZVN0YWNrOiBuZXdSdWxlU3RhY2ssXG4gICAgICAgIG9jY3VycmVuY2VTdGFjazogbmV3Q3Vyck9jY3VycmVuY2VTdGFjayxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJwcmV0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/interpreter.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/keys.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/keys.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AT_LEAST_ONE_IDX: () => (/* binding */ AT_LEAST_ONE_IDX),\n/* harmony export */   AT_LEAST_ONE_SEP_IDX: () => (/* binding */ AT_LEAST_ONE_SEP_IDX),\n/* harmony export */   BITS_FOR_ALT_IDX: () => (/* binding */ BITS_FOR_ALT_IDX),\n/* harmony export */   BITS_FOR_METHOD_TYPE: () => (/* binding */ BITS_FOR_METHOD_TYPE),\n/* harmony export */   BITS_FOR_OCCURRENCE_IDX: () => (/* binding */ BITS_FOR_OCCURRENCE_IDX),\n/* harmony export */   BITS_FOR_RULE_IDX: () => (/* binding */ BITS_FOR_RULE_IDX),\n/* harmony export */   MANY_IDX: () => (/* binding */ MANY_IDX),\n/* harmony export */   MANY_SEP_IDX: () => (/* binding */ MANY_SEP_IDX),\n/* harmony export */   OPTION_IDX: () => (/* binding */ OPTION_IDX),\n/* harmony export */   OR_IDX: () => (/* binding */ OR_IDX),\n/* harmony export */   getKeyForAutomaticLookahead: () => (/* binding */ getKeyForAutomaticLookahead)\n/* harmony export */ });\n// Lookahead keys are 32Bit integers in the form\n// TTTTTTTT-ZZZZZZZZZZZZ-YYYY-XXXXXXXX\n// XXXX -> Occurrence Index bitmap.\n// YYYY -> DSL Method Type bitmap.\n// ZZZZZZZZZZZZZZZ -> Rule short Index bitmap.\n// TTTTTTTTT -> alternation alternative index bitmap\nconst BITS_FOR_METHOD_TYPE = 4;\nconst BITS_FOR_OCCURRENCE_IDX = 8;\nconst BITS_FOR_RULE_IDX = 12;\n// TODO: validation, this means that there may at most 2^8 --> 256 alternatives for an alternation.\nconst BITS_FOR_ALT_IDX = 8;\n// short string used as part of mapping keys.\n// being short improves the performance when composing KEYS for maps out of these\n// The 5 - 8 bits (16 possible values, are reserved for the DSL method indices)\nconst OR_IDX = 1 << BITS_FOR_OCCURRENCE_IDX;\nconst OPTION_IDX = 2 << BITS_FOR_OCCURRENCE_IDX;\nconst MANY_IDX = 3 << BITS_FOR_OCCURRENCE_IDX;\nconst AT_LEAST_ONE_IDX = 4 << BITS_FOR_OCCURRENCE_IDX;\nconst MANY_SEP_IDX = 5 << BITS_FOR_OCCURRENCE_IDX;\nconst AT_LEAST_ONE_SEP_IDX = 6 << BITS_FOR_OCCURRENCE_IDX;\n// this actually returns a number, but it is always used as a string (object prop key)\nfunction getKeyForAutomaticLookahead(ruleIdx, dslMethodIdx, occurrence) {\n    return occurrence | dslMethodIdx | ruleIdx;\n}\nconst BITS_START_FOR_ALT_IDX = 32 - BITS_FOR_ALT_IDX;\n//# sourceMappingURL=keys.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9rZXlzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ1A7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNQO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9ncmFtbWFyL2tleXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTG9va2FoZWFkIGtleXMgYXJlIDMyQml0IGludGVnZXJzIGluIHRoZSBmb3JtXG4vLyBUVFRUVFRUVC1aWlpaWlpaWlpaWlotWVlZWS1YWFhYWFhYWFxuLy8gWFhYWCAtPiBPY2N1cnJlbmNlIEluZGV4IGJpdG1hcC5cbi8vIFlZWVkgLT4gRFNMIE1ldGhvZCBUeXBlIGJpdG1hcC5cbi8vIFpaWlpaWlpaWlpaWlpaWiAtPiBSdWxlIHNob3J0IEluZGV4IGJpdG1hcC5cbi8vIFRUVFRUVFRUVCAtPiBhbHRlcm5hdGlvbiBhbHRlcm5hdGl2ZSBpbmRleCBiaXRtYXBcbmV4cG9ydCBjb25zdCBCSVRTX0ZPUl9NRVRIT0RfVFlQRSA9IDQ7XG5leHBvcnQgY29uc3QgQklUU19GT1JfT0NDVVJSRU5DRV9JRFggPSA4O1xuZXhwb3J0IGNvbnN0IEJJVFNfRk9SX1JVTEVfSURYID0gMTI7XG4vLyBUT0RPOiB2YWxpZGF0aW9uLCB0aGlzIG1lYW5zIHRoYXQgdGhlcmUgbWF5IGF0IG1vc3QgMl44IC0tPiAyNTYgYWx0ZXJuYXRpdmVzIGZvciBhbiBhbHRlcm5hdGlvbi5cbmV4cG9ydCBjb25zdCBCSVRTX0ZPUl9BTFRfSURYID0gODtcbi8vIHNob3J0IHN0cmluZyB1c2VkIGFzIHBhcnQgb2YgbWFwcGluZyBrZXlzLlxuLy8gYmVpbmcgc2hvcnQgaW1wcm92ZXMgdGhlIHBlcmZvcm1hbmNlIHdoZW4gY29tcG9zaW5nIEtFWVMgZm9yIG1hcHMgb3V0IG9mIHRoZXNlXG4vLyBUaGUgNSAtIDggYml0cyAoMTYgcG9zc2libGUgdmFsdWVzLCBhcmUgcmVzZXJ2ZWQgZm9yIHRoZSBEU0wgbWV0aG9kIGluZGljZXMpXG5leHBvcnQgY29uc3QgT1JfSURYID0gMSA8PCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWDtcbmV4cG9ydCBjb25zdCBPUFRJT05fSURYID0gMiA8PCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWDtcbmV4cG9ydCBjb25zdCBNQU5ZX0lEWCA9IDMgPDwgQklUU19GT1JfT0NDVVJSRU5DRV9JRFg7XG5leHBvcnQgY29uc3QgQVRfTEVBU1RfT05FX0lEWCA9IDQgPDwgQklUU19GT1JfT0NDVVJSRU5DRV9JRFg7XG5leHBvcnQgY29uc3QgTUFOWV9TRVBfSURYID0gNSA8PCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWDtcbmV4cG9ydCBjb25zdCBBVF9MRUFTVF9PTkVfU0VQX0lEWCA9IDYgPDwgQklUU19GT1JfT0NDVVJSRU5DRV9JRFg7XG4vLyB0aGlzIGFjdHVhbGx5IHJldHVybnMgYSBudW1iZXIsIGJ1dCBpdCBpcyBhbHdheXMgdXNlZCBhcyBhIHN0cmluZyAob2JqZWN0IHByb3Aga2V5KVxuZXhwb3J0IGZ1bmN0aW9uIGdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChydWxlSWR4LCBkc2xNZXRob2RJZHgsIG9jY3VycmVuY2UpIHtcbiAgICByZXR1cm4gb2NjdXJyZW5jZSB8IGRzbE1ldGhvZElkeCB8IHJ1bGVJZHg7XG59XG5jb25zdCBCSVRTX1NUQVJUX0ZPUl9BTFRfSURYID0gMzIgLSBCSVRTX0ZPUl9BTFRfSURYO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2V5cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/keys.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/llk_lookahead.js":
/*!**************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/llk_lookahead.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LLkLookaheadStrategy: () => (/* binding */ LLkLookaheadStrategy)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/flatMap.js\");\n/* harmony import */ var _errors_public_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/errors_public.js\");\n/* harmony import */ var _parser_parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parser/parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _checks_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./checks.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/checks.js\");\n/* harmony import */ var _lookahead_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lookahead.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/lookahead.js\");\n\n\n\n\n\nclass LLkLookaheadStrategy {\n    constructor(options) {\n        var _a;\n        this.maxLookahead =\n            (_a = options === null || options === void 0 ? void 0 : options.maxLookahead) !== null && _a !== void 0 ? _a : _parser_parser_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_PARSER_CONFIG.maxLookahead;\n    }\n    validate(options) {\n        const leftRecursionErrors = this.validateNoLeftRecursion(options.rules);\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(leftRecursionErrors)) {\n            const emptyAltErrors = this.validateEmptyOrAlternatives(options.rules);\n            const ambiguousAltsErrors = this.validateAmbiguousAlternationAlternatives(options.rules, this.maxLookahead);\n            const emptyRepetitionErrors = this.validateSomeNonEmptyLookaheadPath(options.rules, this.maxLookahead);\n            const allErrors = [\n                ...leftRecursionErrors,\n                ...emptyAltErrors,\n                ...ambiguousAltsErrors,\n                ...emptyRepetitionErrors,\n            ];\n            return allErrors;\n        }\n        return leftRecursionErrors;\n    }\n    validateNoLeftRecursion(rules) {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(rules, (currTopRule) => (0,_checks_js__WEBPACK_IMPORTED_MODULE_2__.validateNoLeftRecursion)(currTopRule, currTopRule, _errors_public_js__WEBPACK_IMPORTED_MODULE_0__.defaultGrammarValidatorErrorProvider));\n    }\n    validateEmptyOrAlternatives(rules) {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(rules, (currTopRule) => (0,_checks_js__WEBPACK_IMPORTED_MODULE_2__.validateEmptyOrAlternative)(currTopRule, _errors_public_js__WEBPACK_IMPORTED_MODULE_0__.defaultGrammarValidatorErrorProvider));\n    }\n    validateAmbiguousAlternationAlternatives(rules, maxLookahead) {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(rules, (currTopRule) => (0,_checks_js__WEBPACK_IMPORTED_MODULE_2__.validateAmbiguousAlternationAlternatives)(currTopRule, maxLookahead, _errors_public_js__WEBPACK_IMPORTED_MODULE_0__.defaultGrammarValidatorErrorProvider));\n    }\n    validateSomeNonEmptyLookaheadPath(rules, maxLookahead) {\n        return (0,_checks_js__WEBPACK_IMPORTED_MODULE_2__.validateSomeNonEmptyLookaheadPath)(rules, maxLookahead, _errors_public_js__WEBPACK_IMPORTED_MODULE_0__.defaultGrammarValidatorErrorProvider);\n    }\n    buildLookaheadForAlternation(options) {\n        return (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_3__.buildLookaheadFuncForOr)(options.prodOccurrence, options.rule, options.maxLookahead, options.hasPredicates, options.dynamicTokensEnabled, _lookahead_js__WEBPACK_IMPORTED_MODULE_3__.buildAlternativesLookAheadFunc);\n    }\n    buildLookaheadForOptional(options) {\n        return (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_3__.buildLookaheadFuncForOptionalProd)(options.prodOccurrence, options.rule, options.maxLookahead, options.dynamicTokensEnabled, (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_3__.getProdType)(options.prodType), _lookahead_js__WEBPACK_IMPORTED_MODULE_3__.buildSingleAlternativeLookaheadFunction);\n    }\n}\n//# sourceMappingURL=llk_lookahead.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9sbGtfbG9va2FoZWFkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBNkM7QUFDOEI7QUFDZjtBQUNvRztBQUNtQjtBQUM1SztBQUNQO0FBQ0E7QUFDQTtBQUNBLDJIQUEySCxvRUFBcUI7QUFDaEo7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBTyx5QkFBeUIsbUVBQXVCLDJCQUEyQixtRkFBb0M7QUFDckk7QUFDQTtBQUNBLGVBQWUscURBQU8seUJBQXlCLHNFQUEwQixjQUFjLG1GQUFvQztBQUMzSDtBQUNBO0FBQ0EsZUFBZSxxREFBTyx5QkFBeUIsb0ZBQXdDLDRCQUE0QixtRkFBb0M7QUFDdko7QUFDQTtBQUNBLGVBQWUsNkVBQWlDLHNCQUFzQixtRkFBb0M7QUFDMUc7QUFDQTtBQUNBLGVBQWUsc0VBQXVCLGtIQUFrSCx5RUFBOEI7QUFDdEw7QUFDQTtBQUNBLGVBQWUsZ0ZBQWlDLDJGQUEyRiwwREFBVyxvQkFBb0Isa0ZBQXVDO0FBQ2pOO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9ncmFtbWFyL2xsa19sb29rYWhlYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmxhdE1hcCwgaXNFbXB0eSB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlciB9IGZyb20gXCIuLi9lcnJvcnNfcHVibGljLmpzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BBUlNFUl9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyL3BhcnNlci5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVBbWJpZ3VvdXNBbHRlcm5hdGlvbkFsdGVybmF0aXZlcywgdmFsaWRhdGVFbXB0eU9yQWx0ZXJuYXRpdmUsIHZhbGlkYXRlTm9MZWZ0UmVjdXJzaW9uLCB2YWxpZGF0ZVNvbWVOb25FbXB0eUxvb2thaGVhZFBhdGgsIH0gZnJvbSBcIi4vY2hlY2tzLmpzXCI7XG5pbXBvcnQgeyBidWlsZEFsdGVybmF0aXZlc0xvb2tBaGVhZEZ1bmMsIGJ1aWxkTG9va2FoZWFkRnVuY0Zvck9wdGlvbmFsUHJvZCwgYnVpbGRMb29rYWhlYWRGdW5jRm9yT3IsIGJ1aWxkU2luZ2xlQWx0ZXJuYXRpdmVMb29rYWhlYWRGdW5jdGlvbiwgZ2V0UHJvZFR5cGUsIH0gZnJvbSBcIi4vbG9va2FoZWFkLmpzXCI7XG5leHBvcnQgY2xhc3MgTExrTG9va2FoZWFkU3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLm1heExvb2thaGVhZCA9XG4gICAgICAgICAgICAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWF4TG9va2FoZWFkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBERUZBVUxUX1BBUlNFUl9DT05GSUcubWF4TG9va2FoZWFkO1xuICAgIH1cbiAgICB2YWxpZGF0ZShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGxlZnRSZWN1cnNpb25FcnJvcnMgPSB0aGlzLnZhbGlkYXRlTm9MZWZ0UmVjdXJzaW9uKG9wdGlvbnMucnVsZXMpO1xuICAgICAgICBpZiAoaXNFbXB0eShsZWZ0UmVjdXJzaW9uRXJyb3JzKSkge1xuICAgICAgICAgICAgY29uc3QgZW1wdHlBbHRFcnJvcnMgPSB0aGlzLnZhbGlkYXRlRW1wdHlPckFsdGVybmF0aXZlcyhvcHRpb25zLnJ1bGVzKTtcbiAgICAgICAgICAgIGNvbnN0IGFtYmlndW91c0FsdHNFcnJvcnMgPSB0aGlzLnZhbGlkYXRlQW1iaWd1b3VzQWx0ZXJuYXRpb25BbHRlcm5hdGl2ZXMob3B0aW9ucy5ydWxlcywgdGhpcy5tYXhMb29rYWhlYWQpO1xuICAgICAgICAgICAgY29uc3QgZW1wdHlSZXBldGl0aW9uRXJyb3JzID0gdGhpcy52YWxpZGF0ZVNvbWVOb25FbXB0eUxvb2thaGVhZFBhdGgob3B0aW9ucy5ydWxlcywgdGhpcy5tYXhMb29rYWhlYWQpO1xuICAgICAgICAgICAgY29uc3QgYWxsRXJyb3JzID0gW1xuICAgICAgICAgICAgICAgIC4uLmxlZnRSZWN1cnNpb25FcnJvcnMsXG4gICAgICAgICAgICAgICAgLi4uZW1wdHlBbHRFcnJvcnMsXG4gICAgICAgICAgICAgICAgLi4uYW1iaWd1b3VzQWx0c0Vycm9ycyxcbiAgICAgICAgICAgICAgICAuLi5lbXB0eVJlcGV0aXRpb25FcnJvcnMsXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgcmV0dXJuIGFsbEVycm9ycztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGVmdFJlY3Vyc2lvbkVycm9ycztcbiAgICB9XG4gICAgdmFsaWRhdGVOb0xlZnRSZWN1cnNpb24ocnVsZXMpIHtcbiAgICAgICAgcmV0dXJuIGZsYXRNYXAocnVsZXMsIChjdXJyVG9wUnVsZSkgPT4gdmFsaWRhdGVOb0xlZnRSZWN1cnNpb24oY3VyclRvcFJ1bGUsIGN1cnJUb3BSdWxlLCBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIpKTtcbiAgICB9XG4gICAgdmFsaWRhdGVFbXB0eU9yQWx0ZXJuYXRpdmVzKHJ1bGVzKSB7XG4gICAgICAgIHJldHVybiBmbGF0TWFwKHJ1bGVzLCAoY3VyclRvcFJ1bGUpID0+IHZhbGlkYXRlRW1wdHlPckFsdGVybmF0aXZlKGN1cnJUb3BSdWxlLCBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIpKTtcbiAgICB9XG4gICAgdmFsaWRhdGVBbWJpZ3VvdXNBbHRlcm5hdGlvbkFsdGVybmF0aXZlcyhydWxlcywgbWF4TG9va2FoZWFkKSB7XG4gICAgICAgIHJldHVybiBmbGF0TWFwKHJ1bGVzLCAoY3VyclRvcFJ1bGUpID0+IHZhbGlkYXRlQW1iaWd1b3VzQWx0ZXJuYXRpb25BbHRlcm5hdGl2ZXMoY3VyclRvcFJ1bGUsIG1heExvb2thaGVhZCwgZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyKSk7XG4gICAgfVxuICAgIHZhbGlkYXRlU29tZU5vbkVtcHR5TG9va2FoZWFkUGF0aChydWxlcywgbWF4TG9va2FoZWFkKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZVNvbWVOb25FbXB0eUxvb2thaGVhZFBhdGgocnVsZXMsIG1heExvb2thaGVhZCwgZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyKTtcbiAgICB9XG4gICAgYnVpbGRMb29rYWhlYWRGb3JBbHRlcm5hdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBidWlsZExvb2thaGVhZEZ1bmNGb3JPcihvcHRpb25zLnByb2RPY2N1cnJlbmNlLCBvcHRpb25zLnJ1bGUsIG9wdGlvbnMubWF4TG9va2FoZWFkLCBvcHRpb25zLmhhc1ByZWRpY2F0ZXMsIG9wdGlvbnMuZHluYW1pY1Rva2Vuc0VuYWJsZWQsIGJ1aWxkQWx0ZXJuYXRpdmVzTG9va0FoZWFkRnVuYyk7XG4gICAgfVxuICAgIGJ1aWxkTG9va2FoZWFkRm9yT3B0aW9uYWwob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gYnVpbGRMb29rYWhlYWRGdW5jRm9yT3B0aW9uYWxQcm9kKG9wdGlvbnMucHJvZE9jY3VycmVuY2UsIG9wdGlvbnMucnVsZSwgb3B0aW9ucy5tYXhMb29rYWhlYWQsIG9wdGlvbnMuZHluYW1pY1Rva2Vuc0VuYWJsZWQsIGdldFByb2RUeXBlKG9wdGlvbnMucHJvZFR5cGUpLCBidWlsZFNpbmdsZUFsdGVybmF0aXZlTG9va2FoZWFkRnVuY3Rpb24pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxsa19sb29rYWhlYWQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/llk_lookahead.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/lookahead.js":
/*!**********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/lookahead.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PROD_TYPE: () => (/* binding */ PROD_TYPE),\n/* harmony export */   areTokenCategoriesNotUsed: () => (/* binding */ areTokenCategoriesNotUsed),\n/* harmony export */   buildAlternativesLookAheadFunc: () => (/* binding */ buildAlternativesLookAheadFunc),\n/* harmony export */   buildLookaheadFuncForOptionalProd: () => (/* binding */ buildLookaheadFuncForOptionalProd),\n/* harmony export */   buildLookaheadFuncForOr: () => (/* binding */ buildLookaheadFuncForOr),\n/* harmony export */   buildSingleAlternativeLookaheadFunction: () => (/* binding */ buildSingleAlternativeLookaheadFunction),\n/* harmony export */   containsPath: () => (/* binding */ containsPath),\n/* harmony export */   getLookaheadPaths: () => (/* binding */ getLookaheadPaths),\n/* harmony export */   getLookaheadPathsForOptionalProd: () => (/* binding */ getLookaheadPathsForOptionalProd),\n/* harmony export */   getLookaheadPathsForOr: () => (/* binding */ getLookaheadPathsForOr),\n/* harmony export */   getProdType: () => (/* binding */ getProdType),\n/* harmony export */   isStrictPrefixOfPath: () => (/* binding */ isStrictPrefixOfPath),\n/* harmony export */   lookAheadSequenceFromAlternatives: () => (/* binding */ lookAheadSequenceFromAlternatives)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/every.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/flatten.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/reduce.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var _interpreter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./interpreter.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/interpreter.js\");\n/* harmony import */ var _rest_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rest.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/rest.js\");\n/* harmony import */ var _scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scan/tokens.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n\n\n\nvar PROD_TYPE;\n(function (PROD_TYPE) {\n    PROD_TYPE[PROD_TYPE[\"OPTION\"] = 0] = \"OPTION\";\n    PROD_TYPE[PROD_TYPE[\"REPETITION\"] = 1] = \"REPETITION\";\n    PROD_TYPE[PROD_TYPE[\"REPETITION_MANDATORY\"] = 2] = \"REPETITION_MANDATORY\";\n    PROD_TYPE[PROD_TYPE[\"REPETITION_MANDATORY_WITH_SEPARATOR\"] = 3] = \"REPETITION_MANDATORY_WITH_SEPARATOR\";\n    PROD_TYPE[PROD_TYPE[\"REPETITION_WITH_SEPARATOR\"] = 4] = \"REPETITION_WITH_SEPARATOR\";\n    PROD_TYPE[PROD_TYPE[\"ALTERNATION\"] = 5] = \"ALTERNATION\";\n})(PROD_TYPE || (PROD_TYPE = {}));\nfunction getProdType(prod) {\n    /* istanbul ignore else */\n    if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.Option || prod === \"Option\") {\n        return PROD_TYPE.OPTION;\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.Repetition || prod === \"Repetition\") {\n        return PROD_TYPE.REPETITION;\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.RepetitionMandatory ||\n        prod === \"RepetitionMandatory\") {\n        return PROD_TYPE.REPETITION_MANDATORY;\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.RepetitionMandatoryWithSeparator ||\n        prod === \"RepetitionMandatoryWithSeparator\") {\n        return PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR;\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.RepetitionWithSeparator ||\n        prod === \"RepetitionWithSeparator\") {\n        return PROD_TYPE.REPETITION_WITH_SEPARATOR;\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.Alternation || prod === \"Alternation\") {\n        return PROD_TYPE.ALTERNATION;\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction getLookaheadPaths(options) {\n    const { occurrence, rule, prodType, maxLookahead } = options;\n    const type = getProdType(prodType);\n    if (type === PROD_TYPE.ALTERNATION) {\n        return getLookaheadPathsForOr(occurrence, rule, maxLookahead);\n    }\n    else {\n        return getLookaheadPathsForOptionalProd(occurrence, rule, type, maxLookahead);\n    }\n}\nfunction buildLookaheadFuncForOr(occurrence, ruleGrammar, maxLookahead, hasPredicates, dynamicTokensEnabled, laFuncBuilder) {\n    const lookAheadPaths = getLookaheadPathsForOr(occurrence, ruleGrammar, maxLookahead);\n    const tokenMatcher = areTokenCategoriesNotUsed(lookAheadPaths)\n        ? _scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__.tokenStructuredMatcherNoCategories\n        : _scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__.tokenStructuredMatcher;\n    return laFuncBuilder(lookAheadPaths, hasPredicates, tokenMatcher, dynamicTokensEnabled);\n}\n/**\n *  When dealing with an Optional production (OPTION/MANY/2nd iteration of AT_LEAST_ONE/...) we need to compare\n *  the lookahead \"inside\" the production and the lookahead immediately \"after\" it in the same top level rule (context free).\n *\n *  Example: given a production:\n *  ABC(DE)?DF\n *\n *  The optional '(DE)?' should only be entered if we see 'DE'. a single Token 'D' is not sufficient to distinguish between the two\n *  alternatives.\n *\n *  @returns A Lookahead function which will return true IFF the parser should parse the Optional production.\n */\nfunction buildLookaheadFuncForOptionalProd(occurrence, ruleGrammar, k, dynamicTokensEnabled, prodType, lookaheadBuilder) {\n    const lookAheadPaths = getLookaheadPathsForOptionalProd(occurrence, ruleGrammar, prodType, k);\n    const tokenMatcher = areTokenCategoriesNotUsed(lookAheadPaths)\n        ? _scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__.tokenStructuredMatcherNoCategories\n        : _scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__.tokenStructuredMatcher;\n    return lookaheadBuilder(lookAheadPaths[0], tokenMatcher, dynamicTokensEnabled);\n}\nfunction buildAlternativesLookAheadFunc(alts, hasPredicates, tokenMatcher, dynamicTokensEnabled) {\n    const numOfAlts = alts.length;\n    const areAllOneTokenLookahead = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(alts, (currAlt) => {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currAlt, (currPath) => {\n            return currPath.length === 1;\n        });\n    });\n    // This version takes into account the predicates as well.\n    if (hasPredicates) {\n        /**\n         * @returns {number} - The chosen alternative index\n         */\n        return function (orAlts) {\n            // unfortunately the predicates must be extracted every single time\n            // as they cannot be cached due to references to parameters(vars) which are no longer valid.\n            // note that in the common case of no predicates, no cpu time will be wasted on this (see else block)\n            const predicates = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(orAlts, (currAlt) => currAlt.GATE);\n            for (let t = 0; t < numOfAlts; t++) {\n                const currAlt = alts[t];\n                const currNumOfPaths = currAlt.length;\n                const currPredicate = predicates[t];\n                if (currPredicate !== undefined && currPredicate.call(this) === false) {\n                    // if the predicate does not match there is no point in checking the paths\n                    continue;\n                }\n                nextPath: for (let j = 0; j < currNumOfPaths; j++) {\n                    const currPath = currAlt[j];\n                    const currPathLength = currPath.length;\n                    for (let i = 0; i < currPathLength; i++) {\n                        const nextToken = this.LA(i + 1);\n                        if (tokenMatcher(nextToken, currPath[i]) === false) {\n                            // mismatch in current path\n                            // try the next pth\n                            continue nextPath;\n                        }\n                    }\n                    // found a full path that matches.\n                    // this will also work for an empty ALT as the loop will be skipped\n                    return t;\n                }\n                // none of the paths for the current alternative matched\n                // try the next alternative\n            }\n            // none of the alternatives could be matched\n            return undefined;\n        };\n    }\n    else if (areAllOneTokenLookahead && !dynamicTokensEnabled) {\n        // optimized (common) case of all the lookaheads paths requiring only\n        // a single token lookahead. These Optimizations cannot work if dynamically defined Tokens are used.\n        const singleTokenAlts = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(alts, (currAlt) => {\n            return (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currAlt);\n        });\n        const choiceToAlt = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(singleTokenAlts, (result, currAlt, idx) => {\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currAlt, (currTokType) => {\n                if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(result, currTokType.tokenTypeIdx)) {\n                    result[currTokType.tokenTypeIdx] = idx;\n                }\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currTokType.categoryMatches, (currExtendingType) => {\n                    if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(result, currExtendingType)) {\n                        result[currExtendingType] = idx;\n                    }\n                });\n            });\n            return result;\n        }, {});\n        /**\n         * @returns {number} - The chosen alternative index\n         */\n        return function () {\n            const nextToken = this.LA(1);\n            return choiceToAlt[nextToken.tokenTypeIdx];\n        };\n    }\n    else {\n        // optimized lookahead without needing to check the predicates at all.\n        // this causes code duplication which is intentional to improve performance.\n        /**\n         * @returns {number} - The chosen alternative index\n         */\n        return function () {\n            for (let t = 0; t < numOfAlts; t++) {\n                const currAlt = alts[t];\n                const currNumOfPaths = currAlt.length;\n                nextPath: for (let j = 0; j < currNumOfPaths; j++) {\n                    const currPath = currAlt[j];\n                    const currPathLength = currPath.length;\n                    for (let i = 0; i < currPathLength; i++) {\n                        const nextToken = this.LA(i + 1);\n                        if (tokenMatcher(nextToken, currPath[i]) === false) {\n                            // mismatch in current path\n                            // try the next pth\n                            continue nextPath;\n                        }\n                    }\n                    // found a full path that matches.\n                    // this will also work for an empty ALT as the loop will be skipped\n                    return t;\n                }\n                // none of the paths for the current alternative matched\n                // try the next alternative\n            }\n            // none of the alternatives could be matched\n            return undefined;\n        };\n    }\n}\nfunction buildSingleAlternativeLookaheadFunction(alt, tokenMatcher, dynamicTokensEnabled) {\n    const areAllOneTokenLookahead = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(alt, (currPath) => {\n        return currPath.length === 1;\n    });\n    const numOfPaths = alt.length;\n    // optimized (common) case of all the lookaheads paths requiring only\n    // a single token lookahead.\n    if (areAllOneTokenLookahead && !dynamicTokensEnabled) {\n        const singleTokensTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(alt);\n        if (singleTokensTypes.length === 1 &&\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(singleTokensTypes[0].categoryMatches)) {\n            const expectedTokenType = singleTokensTypes[0];\n            const expectedTokenUniqueKey = expectedTokenType.tokenTypeIdx;\n            return function () {\n                return this.LA(1).tokenTypeIdx === expectedTokenUniqueKey;\n            };\n        }\n        else {\n            const choiceToAlt = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(singleTokensTypes, (result, currTokType, idx) => {\n                result[currTokType.tokenTypeIdx] = true;\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currTokType.categoryMatches, (currExtendingType) => {\n                    result[currExtendingType] = true;\n                });\n                return result;\n            }, []);\n            return function () {\n                const nextToken = this.LA(1);\n                return choiceToAlt[nextToken.tokenTypeIdx] === true;\n            };\n        }\n    }\n    else {\n        return function () {\n            nextPath: for (let j = 0; j < numOfPaths; j++) {\n                const currPath = alt[j];\n                const currPathLength = currPath.length;\n                for (let i = 0; i < currPathLength; i++) {\n                    const nextToken = this.LA(i + 1);\n                    if (tokenMatcher(nextToken, currPath[i]) === false) {\n                        // mismatch in current path\n                        // try the next pth\n                        continue nextPath;\n                    }\n                }\n                // found a full path that matches.\n                return true;\n            }\n            // none of the paths matched\n            return false;\n        };\n    }\n}\nclass RestDefinitionFinderWalker extends _rest_js__WEBPACK_IMPORTED_MODULE_1__.RestWalker {\n    constructor(topProd, targetOccurrence, targetProdType) {\n        super();\n        this.topProd = topProd;\n        this.targetOccurrence = targetOccurrence;\n        this.targetProdType = targetProdType;\n    }\n    startWalking() {\n        this.walk(this.topProd);\n        return this.restDef;\n    }\n    checkIsTarget(node, expectedProdType, currRest, prevRest) {\n        if (node.idx === this.targetOccurrence &&\n            this.targetProdType === expectedProdType) {\n            this.restDef = currRest.concat(prevRest);\n            return true;\n        }\n        // performance optimization, do not iterate over the entire Grammar ast after we have found the target\n        return false;\n    }\n    walkOption(optionProd, currRest, prevRest) {\n        if (!this.checkIsTarget(optionProd, PROD_TYPE.OPTION, currRest, prevRest)) {\n            super.walkOption(optionProd, currRest, prevRest);\n        }\n    }\n    walkAtLeastOne(atLeastOneProd, currRest, prevRest) {\n        if (!this.checkIsTarget(atLeastOneProd, PROD_TYPE.REPETITION_MANDATORY, currRest, prevRest)) {\n            super.walkOption(atLeastOneProd, currRest, prevRest);\n        }\n    }\n    walkAtLeastOneSep(atLeastOneSepProd, currRest, prevRest) {\n        if (!this.checkIsTarget(atLeastOneSepProd, PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR, currRest, prevRest)) {\n            super.walkOption(atLeastOneSepProd, currRest, prevRest);\n        }\n    }\n    walkMany(manyProd, currRest, prevRest) {\n        if (!this.checkIsTarget(manyProd, PROD_TYPE.REPETITION, currRest, prevRest)) {\n            super.walkOption(manyProd, currRest, prevRest);\n        }\n    }\n    walkManySep(manySepProd, currRest, prevRest) {\n        if (!this.checkIsTarget(manySepProd, PROD_TYPE.REPETITION_WITH_SEPARATOR, currRest, prevRest)) {\n            super.walkOption(manySepProd, currRest, prevRest);\n        }\n    }\n}\n/**\n * Returns the definition of a target production in a top level level rule.\n */\nclass InsideDefinitionFinderVisitor extends _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.GAstVisitor {\n    constructor(targetOccurrence, targetProdType, targetRef) {\n        super();\n        this.targetOccurrence = targetOccurrence;\n        this.targetProdType = targetProdType;\n        this.targetRef = targetRef;\n        this.result = [];\n    }\n    checkIsTarget(node, expectedProdName) {\n        if (node.idx === this.targetOccurrence &&\n            this.targetProdType === expectedProdName &&\n            (this.targetRef === undefined || node === this.targetRef)) {\n            this.result = node.definition;\n        }\n    }\n    visitOption(node) {\n        this.checkIsTarget(node, PROD_TYPE.OPTION);\n    }\n    visitRepetition(node) {\n        this.checkIsTarget(node, PROD_TYPE.REPETITION);\n    }\n    visitRepetitionMandatory(node) {\n        this.checkIsTarget(node, PROD_TYPE.REPETITION_MANDATORY);\n    }\n    visitRepetitionMandatoryWithSeparator(node) {\n        this.checkIsTarget(node, PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR);\n    }\n    visitRepetitionWithSeparator(node) {\n        this.checkIsTarget(node, PROD_TYPE.REPETITION_WITH_SEPARATOR);\n    }\n    visitAlternation(node) {\n        this.checkIsTarget(node, PROD_TYPE.ALTERNATION);\n    }\n}\nfunction initializeArrayOfArrays(size) {\n    const result = new Array(size);\n    for (let i = 0; i < size; i++) {\n        result[i] = [];\n    }\n    return result;\n}\n/**\n * A sort of hash function between a Path in the grammar and a string.\n * Note that this returns multiple \"hashes\" to support the scenario of token categories.\n * -  A single path with categories may match multiple **actual** paths.\n */\nfunction pathToHashKeys(path) {\n    let keys = [\"\"];\n    for (let i = 0; i < path.length; i++) {\n        const tokType = path[i];\n        const longerKeys = [];\n        for (let j = 0; j < keys.length; j++) {\n            const currShorterKey = keys[j];\n            longerKeys.push(currShorterKey + \"_\" + tokType.tokenTypeIdx);\n            for (let t = 0; t < tokType.categoryMatches.length; t++) {\n                const categoriesKeySuffix = \"_\" + tokType.categoryMatches[t];\n                longerKeys.push(currShorterKey + categoriesKeySuffix);\n            }\n        }\n        keys = longerKeys;\n    }\n    return keys;\n}\n/**\n * Imperative style due to being called from a hot spot\n */\nfunction isUniquePrefixHash(altKnownPathsKeys, searchPathKeys, idx) {\n    for (let currAltIdx = 0; currAltIdx < altKnownPathsKeys.length; currAltIdx++) {\n        // We only want to test vs the other alternatives\n        if (currAltIdx === idx) {\n            continue;\n        }\n        const otherAltKnownPathsKeys = altKnownPathsKeys[currAltIdx];\n        for (let searchIdx = 0; searchIdx < searchPathKeys.length; searchIdx++) {\n            const searchKey = searchPathKeys[searchIdx];\n            if (otherAltKnownPathsKeys[searchKey] === true) {\n                return false;\n            }\n        }\n    }\n    // None of the SearchPathKeys were found in any of the other alternatives\n    return true;\n}\nfunction lookAheadSequenceFromAlternatives(altsDefs, k) {\n    const partialAlts = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(altsDefs, (currAlt) => (0,_interpreter_js__WEBPACK_IMPORTED_MODULE_0__.possiblePathsFrom)([currAlt], 1));\n    const finalResult = initializeArrayOfArrays(partialAlts.length);\n    const altsHashes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(partialAlts, (currAltPaths) => {\n        const dict = {};\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currAltPaths, (item) => {\n            const keys = pathToHashKeys(item.partialPath);\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(keys, (currKey) => {\n                dict[currKey] = true;\n            });\n        });\n        return dict;\n    });\n    let newData = partialAlts;\n    // maxLookahead loop\n    for (let pathLength = 1; pathLength <= k; pathLength++) {\n        const currDataset = newData;\n        newData = initializeArrayOfArrays(currDataset.length);\n        // alternatives loop\n        for (let altIdx = 0; altIdx < currDataset.length; altIdx++) {\n            const currAltPathsAndSuffixes = currDataset[altIdx];\n            // paths in current alternative loop\n            for (let currPathIdx = 0; currPathIdx < currAltPathsAndSuffixes.length; currPathIdx++) {\n                const currPathPrefix = currAltPathsAndSuffixes[currPathIdx].partialPath;\n                const suffixDef = currAltPathsAndSuffixes[currPathIdx].suffixDef;\n                const prefixKeys = pathToHashKeys(currPathPrefix);\n                const isUnique = isUniquePrefixHash(altsHashes, prefixKeys, altIdx);\n                // End of the line for this path.\n                if (isUnique || (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(suffixDef) || currPathPrefix.length === k) {\n                    const currAltResult = finalResult[altIdx];\n                    // TODO: Can we implement a containsPath using Maps/Dictionaries?\n                    if (containsPath(currAltResult, currPathPrefix) === false) {\n                        currAltResult.push(currPathPrefix);\n                        // Update all new  keys for the current path.\n                        for (let j = 0; j < prefixKeys.length; j++) {\n                            const currKey = prefixKeys[j];\n                            altsHashes[altIdx][currKey] = true;\n                        }\n                    }\n                }\n                // Expand longer paths\n                else {\n                    const newPartialPathsAndSuffixes = (0,_interpreter_js__WEBPACK_IMPORTED_MODULE_0__.possiblePathsFrom)(suffixDef, pathLength + 1, currPathPrefix);\n                    newData[altIdx] = newData[altIdx].concat(newPartialPathsAndSuffixes);\n                    // Update keys for new known paths\n                    (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(newPartialPathsAndSuffixes, (item) => {\n                        const prefixKeys = pathToHashKeys(item.partialPath);\n                        (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(prefixKeys, (key) => {\n                            altsHashes[altIdx][key] = true;\n                        });\n                    });\n                }\n            }\n        }\n    }\n    return finalResult;\n}\nfunction getLookaheadPathsForOr(occurrence, ruleGrammar, k, orProd) {\n    const visitor = new InsideDefinitionFinderVisitor(occurrence, PROD_TYPE.ALTERNATION, orProd);\n    ruleGrammar.accept(visitor);\n    return lookAheadSequenceFromAlternatives(visitor.result, k);\n}\nfunction getLookaheadPathsForOptionalProd(occurrence, ruleGrammar, prodType, k) {\n    const insideDefVisitor = new InsideDefinitionFinderVisitor(occurrence, prodType);\n    ruleGrammar.accept(insideDefVisitor);\n    const insideDef = insideDefVisitor.result;\n    const afterDefWalker = new RestDefinitionFinderWalker(ruleGrammar, occurrence, prodType);\n    const afterDef = afterDefWalker.startWalking();\n    const insideFlat = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.Alternative({ definition: insideDef });\n    const afterFlat = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.Alternative({ definition: afterDef });\n    return lookAheadSequenceFromAlternatives([insideFlat, afterFlat], k);\n}\nfunction containsPath(alternative, searchPath) {\n    compareOtherPath: for (let i = 0; i < alternative.length; i++) {\n        const otherPath = alternative[i];\n        if (otherPath.length !== searchPath.length) {\n            continue;\n        }\n        for (let j = 0; j < otherPath.length; j++) {\n            const searchTok = searchPath[j];\n            const otherTok = otherPath[j];\n            const matchingTokens = searchTok === otherTok ||\n                otherTok.categoryMatchesMap[searchTok.tokenTypeIdx] !== undefined;\n            if (matchingTokens === false) {\n                continue compareOtherPath;\n            }\n        }\n        return true;\n    }\n    return false;\n}\nfunction isStrictPrefixOfPath(prefix, other) {\n    return (prefix.length < other.length &&\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(prefix, (tokType, idx) => {\n            const otherTokType = other[idx];\n            return (tokType === otherTokType ||\n                otherTokType.categoryMatchesMap[tokType.tokenTypeIdx]);\n        }));\n}\nfunction areTokenCategoriesNotUsed(lookAheadPaths) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(lookAheadPaths, (singleAltPaths) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(singleAltPaths, (singlePath) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(singlePath, (token) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(token.categoryMatches))));\n}\n//# sourceMappingURL=lookahead.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9sb29rYWhlYWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStFO0FBQzFCO0FBQ2Q7QUFDNEQ7QUFDOEY7QUFDMUw7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOEJBQThCO0FBQ3hCO0FBQ1A7QUFDQSx3QkFBd0Isb0RBQU07QUFDOUI7QUFDQTtBQUNBLDZCQUE2Qix3REFBVTtBQUN2QztBQUNBO0FBQ0EsNkJBQTZCLGlFQUFtQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsOEVBQWdDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxRUFBdUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlEQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSwyQ0FBMkM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLFVBQVUsK0VBQWtDO0FBQzVDLFVBQVUsbUVBQXNCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxVQUFVLCtFQUFrQztBQUM1QyxVQUFVLG1FQUFzQjtBQUNoQztBQUNBO0FBQ087QUFDUDtBQUNBLG9DQUFvQyxxREFBSztBQUN6QyxlQUFlLHFEQUFLO0FBQ3BCO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsUUFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFEQUFHO0FBQ2xDLDRCQUE0QixlQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLG9CQUFvQjtBQUM5RDtBQUNBO0FBQ0Esb0NBQW9DLG9CQUFvQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MscURBQUc7QUFDbkMsbUJBQW1CLHFEQUFPO0FBQzFCLFNBQVM7QUFDVCw0QkFBNEIscURBQU07QUFDbEMsWUFBWSxxREFBTztBQUNuQixxQkFBcUIscURBQUc7QUFDeEI7QUFDQTtBQUNBLGdCQUFnQixxREFBTztBQUN2Qix5QkFBeUIscURBQUc7QUFDNUI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQSxTQUFTLElBQUk7QUFDYjtBQUNBLHFCQUFxQixRQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFFBQVE7QUFDN0I7QUFDQTtBQUNBLDRCQUE0QixlQUFlO0FBQzNDO0FBQ0E7QUFDQSwwQ0FBMEMsb0JBQW9CO0FBQzlEO0FBQ0E7QUFDQSxvQ0FBb0Msb0JBQW9CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxvQ0FBb0MscURBQUs7QUFDekM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MscURBQU87QUFDekM7QUFDQSxZQUFZLHNEQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFEQUFNO0FBQ3RDO0FBQ0EsZ0JBQWdCLHFEQUFPO0FBQ3ZCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsZ0JBQWdCO0FBQ3REO0FBQ0E7QUFDQSxnQ0FBZ0Msb0JBQW9CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxnREFBVTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMseURBQVc7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQSw0QkFBNEIsb0NBQW9DO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1Q0FBdUM7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxtQ0FBbUM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx3QkFBd0IscURBQUcsd0JBQXdCLGtFQUFpQjtBQUNwRTtBQUNBLHVCQUF1QixxREFBRztBQUMxQjtBQUNBLFFBQVEscURBQU87QUFDZjtBQUNBLFlBQVkscURBQU87QUFDbkI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw2QkFBNkIsaUJBQWlCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw2QkFBNkI7QUFDMUQ7QUFDQTtBQUNBLHNDQUFzQyw4Q0FBOEM7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzREFBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHVCQUF1QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxrRUFBaUI7QUFDeEU7QUFDQTtBQUNBLG9CQUFvQixxREFBTztBQUMzQjtBQUNBLHdCQUF3QixxREFBTztBQUMvQjtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix5REFBZSxHQUFHLHVCQUF1QjtBQUNwRSwwQkFBMEIseURBQWUsR0FBRyxzQkFBc0I7QUFDbEU7QUFDQTtBQUNPO0FBQ1Asc0NBQXNDLHdCQUF3QjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzQkFBc0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFFBQVEscURBQUs7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDTztBQUNQLFdBQVcscURBQUsscUNBQXFDLHFEQUFLLGlDQUFpQyxxREFBSyx3QkFBd0Isc0RBQU87QUFDL0g7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9ncmFtbWFyL2xvb2thaGVhZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBldmVyeSwgZmxhdHRlbiwgZm9yRWFjaCwgaGFzLCBpc0VtcHR5LCBtYXAsIHJlZHVjZSB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IHBvc3NpYmxlUGF0aHNGcm9tIH0gZnJvbSBcIi4vaW50ZXJwcmV0ZXIuanNcIjtcbmltcG9ydCB7IFJlc3RXYWxrZXIgfSBmcm9tIFwiLi9yZXN0LmpzXCI7XG5pbXBvcnQgeyB0b2tlblN0cnVjdHVyZWRNYXRjaGVyLCB0b2tlblN0cnVjdHVyZWRNYXRjaGVyTm9DYXRlZ29yaWVzLCB9IGZyb20gXCIuLi8uLi9zY2FuL3Rva2Vucy5qc1wiO1xuaW1wb3J0IHsgQWx0ZXJuYXRpb24sIEFsdGVybmF0aXZlIGFzIEFsdGVybmF0aXZlR0FTVCwgR0FzdFZpc2l0b3IsIE9wdGlvbiwgUmVwZXRpdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeSwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCB9IGZyb20gXCJAY2hldnJvdGFpbi9nYXN0XCI7XG5leHBvcnQgdmFyIFBST0RfVFlQRTtcbihmdW5jdGlvbiAoUFJPRF9UWVBFKSB7XG4gICAgUFJPRF9UWVBFW1BST0RfVFlQRVtcIk9QVElPTlwiXSA9IDBdID0gXCJPUFRJT05cIjtcbiAgICBQUk9EX1RZUEVbUFJPRF9UWVBFW1wiUkVQRVRJVElPTlwiXSA9IDFdID0gXCJSRVBFVElUSU9OXCI7XG4gICAgUFJPRF9UWVBFW1BST0RfVFlQRVtcIlJFUEVUSVRJT05fTUFOREFUT1JZXCJdID0gMl0gPSBcIlJFUEVUSVRJT05fTUFOREFUT1JZXCI7XG4gICAgUFJPRF9UWVBFW1BST0RfVFlQRVtcIlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SXCJdID0gM10gPSBcIlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SXCI7XG4gICAgUFJPRF9UWVBFW1BST0RfVFlQRVtcIlJFUEVUSVRJT05fV0lUSF9TRVBBUkFUT1JcIl0gPSA0XSA9IFwiUkVQRVRJVElPTl9XSVRIX1NFUEFSQVRPUlwiO1xuICAgIFBST0RfVFlQRVtQUk9EX1RZUEVbXCJBTFRFUk5BVElPTlwiXSA9IDVdID0gXCJBTFRFUk5BVElPTlwiO1xufSkoUFJPRF9UWVBFIHx8IChQUk9EX1RZUEUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2RUeXBlKHByb2QpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChwcm9kIGluc3RhbmNlb2YgT3B0aW9uIHx8IHByb2QgPT09IFwiT3B0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIFBST0RfVFlQRS5PUFRJT047XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uIHx8IHByb2QgPT09IFwiUmVwZXRpdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBQUk9EX1RZUEUuUkVQRVRJVElPTjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkgfHxcbiAgICAgICAgcHJvZCA9PT0gXCJSZXBldGl0aW9uTWFuZGF0b3J5XCIpIHtcbiAgICAgICAgcmV0dXJuIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yIHx8XG4gICAgICAgIHByb2QgPT09IFwiUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3JcIikge1xuICAgICAgICByZXR1cm4gUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgfHxcbiAgICAgICAgcHJvZCA9PT0gXCJSZXBldGl0aW9uV2l0aFNlcGFyYXRvclwiKSB7XG4gICAgICAgIHJldHVybiBQUk9EX1RZUEUuUkVQRVRJVElPTl9XSVRIX1NFUEFSQVRPUjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uIHx8IHByb2QgPT09IFwiQWx0ZXJuYXRpb25cIikge1xuICAgICAgICByZXR1cm4gUFJPRF9UWVBFLkFMVEVSTkFUSU9OO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9va2FoZWFkUGF0aHMob3B0aW9ucykge1xuICAgIGNvbnN0IHsgb2NjdXJyZW5jZSwgcnVsZSwgcHJvZFR5cGUsIG1heExvb2thaGVhZCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB0eXBlID0gZ2V0UHJvZFR5cGUocHJvZFR5cGUpO1xuICAgIGlmICh0eXBlID09PSBQUk9EX1RZUEUuQUxURVJOQVRJT04pIHtcbiAgICAgICAgcmV0dXJuIGdldExvb2thaGVhZFBhdGhzRm9yT3Iob2NjdXJyZW5jZSwgcnVsZSwgbWF4TG9va2FoZWFkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXRMb29rYWhlYWRQYXRoc0Zvck9wdGlvbmFsUHJvZChvY2N1cnJlbmNlLCBydWxlLCB0eXBlLCBtYXhMb29rYWhlYWQpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZExvb2thaGVhZEZ1bmNGb3JPcihvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgbWF4TG9va2FoZWFkLCBoYXNQcmVkaWNhdGVzLCBkeW5hbWljVG9rZW5zRW5hYmxlZCwgbGFGdW5jQnVpbGRlcikge1xuICAgIGNvbnN0IGxvb2tBaGVhZFBhdGhzID0gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcihvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgbWF4TG9va2FoZWFkKTtcbiAgICBjb25zdCB0b2tlbk1hdGNoZXIgPSBhcmVUb2tlbkNhdGVnb3JpZXNOb3RVc2VkKGxvb2tBaGVhZFBhdGhzKVxuICAgICAgICA/IHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXNcbiAgICAgICAgOiB0b2tlblN0cnVjdHVyZWRNYXRjaGVyO1xuICAgIHJldHVybiBsYUZ1bmNCdWlsZGVyKGxvb2tBaGVhZFBhdGhzLCBoYXNQcmVkaWNhdGVzLCB0b2tlbk1hdGNoZXIsIGR5bmFtaWNUb2tlbnNFbmFibGVkKTtcbn1cbi8qKlxuICogIFdoZW4gZGVhbGluZyB3aXRoIGFuIE9wdGlvbmFsIHByb2R1Y3Rpb24gKE9QVElPTi9NQU5ZLzJuZCBpdGVyYXRpb24gb2YgQVRfTEVBU1RfT05FLy4uLikgd2UgbmVlZCB0byBjb21wYXJlXG4gKiAgdGhlIGxvb2thaGVhZCBcImluc2lkZVwiIHRoZSBwcm9kdWN0aW9uIGFuZCB0aGUgbG9va2FoZWFkIGltbWVkaWF0ZWx5IFwiYWZ0ZXJcIiBpdCBpbiB0aGUgc2FtZSB0b3AgbGV2ZWwgcnVsZSAoY29udGV4dCBmcmVlKS5cbiAqXG4gKiAgRXhhbXBsZTogZ2l2ZW4gYSBwcm9kdWN0aW9uOlxuICogIEFCQyhERSk/REZcbiAqXG4gKiAgVGhlIG9wdGlvbmFsICcoREUpPycgc2hvdWxkIG9ubHkgYmUgZW50ZXJlZCBpZiB3ZSBzZWUgJ0RFJy4gYSBzaW5nbGUgVG9rZW4gJ0QnIGlzIG5vdCBzdWZmaWNpZW50IHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gdGhlIHR3b1xuICogIGFsdGVybmF0aXZlcy5cbiAqXG4gKiAgQHJldHVybnMgQSBMb29rYWhlYWQgZnVuY3Rpb24gd2hpY2ggd2lsbCByZXR1cm4gdHJ1ZSBJRkYgdGhlIHBhcnNlciBzaG91bGQgcGFyc2UgdGhlIE9wdGlvbmFsIHByb2R1Y3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZExvb2thaGVhZEZ1bmNGb3JPcHRpb25hbFByb2Qob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIGssIGR5bmFtaWNUb2tlbnNFbmFibGVkLCBwcm9kVHlwZSwgbG9va2FoZWFkQnVpbGRlcikge1xuICAgIGNvbnN0IGxvb2tBaGVhZFBhdGhzID0gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2Qob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIHByb2RUeXBlLCBrKTtcbiAgICBjb25zdCB0b2tlbk1hdGNoZXIgPSBhcmVUb2tlbkNhdGVnb3JpZXNOb3RVc2VkKGxvb2tBaGVhZFBhdGhzKVxuICAgICAgICA/IHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXNcbiAgICAgICAgOiB0b2tlblN0cnVjdHVyZWRNYXRjaGVyO1xuICAgIHJldHVybiBsb29rYWhlYWRCdWlsZGVyKGxvb2tBaGVhZFBhdGhzWzBdLCB0b2tlbk1hdGNoZXIsIGR5bmFtaWNUb2tlbnNFbmFibGVkKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEFsdGVybmF0aXZlc0xvb2tBaGVhZEZ1bmMoYWx0cywgaGFzUHJlZGljYXRlcywgdG9rZW5NYXRjaGVyLCBkeW5hbWljVG9rZW5zRW5hYmxlZCkge1xuICAgIGNvbnN0IG51bU9mQWx0cyA9IGFsdHMubGVuZ3RoO1xuICAgIGNvbnN0IGFyZUFsbE9uZVRva2VuTG9va2FoZWFkID0gZXZlcnkoYWx0cywgKGN1cnJBbHQpID0+IHtcbiAgICAgICAgcmV0dXJuIGV2ZXJ5KGN1cnJBbHQsIChjdXJyUGF0aCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJQYXRoLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgLy8gVGhpcyB2ZXJzaW9uIHRha2VzIGludG8gYWNjb3VudCB0aGUgcHJlZGljYXRlcyBhcyB3ZWxsLlxuICAgIGlmIChoYXNQcmVkaWNhdGVzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBjaG9zZW4gYWx0ZXJuYXRpdmUgaW5kZXhcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAob3JBbHRzKSB7XG4gICAgICAgICAgICAvLyB1bmZvcnR1bmF0ZWx5IHRoZSBwcmVkaWNhdGVzIG11c3QgYmUgZXh0cmFjdGVkIGV2ZXJ5IHNpbmdsZSB0aW1lXG4gICAgICAgICAgICAvLyBhcyB0aGV5IGNhbm5vdCBiZSBjYWNoZWQgZHVlIHRvIHJlZmVyZW5jZXMgdG8gcGFyYW1ldGVycyh2YXJzKSB3aGljaCBhcmUgbm8gbG9uZ2VyIHZhbGlkLlxuICAgICAgICAgICAgLy8gbm90ZSB0aGF0IGluIHRoZSBjb21tb24gY2FzZSBvZiBubyBwcmVkaWNhdGVzLCBubyBjcHUgdGltZSB3aWxsIGJlIHdhc3RlZCBvbiB0aGlzIChzZWUgZWxzZSBibG9jaylcbiAgICAgICAgICAgIGNvbnN0IHByZWRpY2F0ZXMgPSBtYXAob3JBbHRzLCAoY3VyckFsdCkgPT4gY3VyckFsdC5HQVRFKTtcbiAgICAgICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgbnVtT2ZBbHRzOyB0KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyQWx0ID0gYWx0c1t0XTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyTnVtT2ZQYXRocyA9IGN1cnJBbHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJQcmVkaWNhdGUgPSBwcmVkaWNhdGVzW3RdO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyUHJlZGljYXRlICE9PSB1bmRlZmluZWQgJiYgY3VyclByZWRpY2F0ZS5jYWxsKHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcHJlZGljYXRlIGRvZXMgbm90IG1hdGNoIHRoZXJlIGlzIG5vIHBvaW50IGluIGNoZWNraW5nIHRoZSBwYXRoc1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dFBhdGg6IGZvciAobGV0IGogPSAwOyBqIDwgY3Vyck51bU9mUGF0aHM7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyUGF0aCA9IGN1cnJBbHRbal07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJQYXRoTGVuZ3RoID0gY3VyclBhdGgubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJQYXRoTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUb2tlbiA9IHRoaXMuTEEoaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuTWF0Y2hlcihuZXh0VG9rZW4sIGN1cnJQYXRoW2ldKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtaXNtYXRjaCBpbiBjdXJyZW50IHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnkgdGhlIG5leHQgcHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgbmV4dFBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZm91bmQgYSBmdWxsIHBhdGggdGhhdCBtYXRjaGVzLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgYWxzbyB3b3JrIGZvciBhbiBlbXB0eSBBTFQgYXMgdGhlIGxvb3Agd2lsbCBiZSBza2lwcGVkXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBub25lIG9mIHRoZSBwYXRocyBmb3IgdGhlIGN1cnJlbnQgYWx0ZXJuYXRpdmUgbWF0Y2hlZFxuICAgICAgICAgICAgICAgIC8vIHRyeSB0aGUgbmV4dCBhbHRlcm5hdGl2ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm9uZSBvZiB0aGUgYWx0ZXJuYXRpdmVzIGNvdWxkIGJlIG1hdGNoZWRcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZUFsbE9uZVRva2VuTG9va2FoZWFkICYmICFkeW5hbWljVG9rZW5zRW5hYmxlZCkge1xuICAgICAgICAvLyBvcHRpbWl6ZWQgKGNvbW1vbikgY2FzZSBvZiBhbGwgdGhlIGxvb2thaGVhZHMgcGF0aHMgcmVxdWlyaW5nIG9ubHlcbiAgICAgICAgLy8gYSBzaW5nbGUgdG9rZW4gbG9va2FoZWFkLiBUaGVzZSBPcHRpbWl6YXRpb25zIGNhbm5vdCB3b3JrIGlmIGR5bmFtaWNhbGx5IGRlZmluZWQgVG9rZW5zIGFyZSB1c2VkLlxuICAgICAgICBjb25zdCBzaW5nbGVUb2tlbkFsdHMgPSBtYXAoYWx0cywgKGN1cnJBbHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBmbGF0dGVuKGN1cnJBbHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY2hvaWNlVG9BbHQgPSByZWR1Y2Uoc2luZ2xlVG9rZW5BbHRzLCAocmVzdWx0LCBjdXJyQWx0LCBpZHgpID0+IHtcbiAgICAgICAgICAgIGZvckVhY2goY3VyckFsdCwgKGN1cnJUb2tUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXMocmVzdWx0LCBjdXJyVG9rVHlwZS50b2tlblR5cGVJZHgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtjdXJyVG9rVHlwZS50b2tlblR5cGVJZHhdID0gaWR4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3JFYWNoKGN1cnJUb2tUeXBlLmNhdGVnb3J5TWF0Y2hlcywgKGN1cnJFeHRlbmRpbmdUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzKHJlc3VsdCwgY3VyckV4dGVuZGluZ1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbY3VyckV4dGVuZGluZ1R5cGVdID0gaWR4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIGNob3NlbiBhbHRlcm5hdGl2ZSBpbmRleFxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgICAgICByZXR1cm4gY2hvaWNlVG9BbHRbbmV4dFRva2VuLnRva2VuVHlwZUlkeF07XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBvcHRpbWl6ZWQgbG9va2FoZWFkIHdpdGhvdXQgbmVlZGluZyB0byBjaGVjayB0aGUgcHJlZGljYXRlcyBhdCBhbGwuXG4gICAgICAgIC8vIHRoaXMgY2F1c2VzIGNvZGUgZHVwbGljYXRpb24gd2hpY2ggaXMgaW50ZW50aW9uYWwgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZS5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIGNob3NlbiBhbHRlcm5hdGl2ZSBpbmRleFxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgbnVtT2ZBbHRzOyB0KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyQWx0ID0gYWx0c1t0XTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyTnVtT2ZQYXRocyA9IGN1cnJBbHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgIG5leHRQYXRoOiBmb3IgKGxldCBqID0gMDsgaiA8IGN1cnJOdW1PZlBhdGhzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyclBhdGggPSBjdXJyQWx0W2pdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyUGF0aExlbmd0aCA9IGN1cnJQYXRoLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyUGF0aExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0VG9rZW4gPSB0aGlzLkxBKGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbk1hdGNoZXIobmV4dFRva2VuLCBjdXJyUGF0aFtpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWlzbWF0Y2ggaW4gY3VycmVudCBwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHRoZSBuZXh0IHB0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG5leHRQYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgZnVsbCBwYXRoIHRoYXQgbWF0Y2hlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFsc28gd29yayBmb3IgYW4gZW1wdHkgQUxUIGFzIHRoZSBsb29wIHdpbGwgYmUgc2tpcHBlZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbm9uZSBvZiB0aGUgcGF0aHMgZm9yIHRoZSBjdXJyZW50IGFsdGVybmF0aXZlIG1hdGNoZWRcbiAgICAgICAgICAgICAgICAvLyB0cnkgdGhlIG5leHQgYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vbmUgb2YgdGhlIGFsdGVybmF0aXZlcyBjb3VsZCBiZSBtYXRjaGVkXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFNpbmdsZUFsdGVybmF0aXZlTG9va2FoZWFkRnVuY3Rpb24oYWx0LCB0b2tlbk1hdGNoZXIsIGR5bmFtaWNUb2tlbnNFbmFibGVkKSB7XG4gICAgY29uc3QgYXJlQWxsT25lVG9rZW5Mb29rYWhlYWQgPSBldmVyeShhbHQsIChjdXJyUGF0aCkgPT4ge1xuICAgICAgICByZXR1cm4gY3VyclBhdGgubGVuZ3RoID09PSAxO1xuICAgIH0pO1xuICAgIGNvbnN0IG51bU9mUGF0aHMgPSBhbHQubGVuZ3RoO1xuICAgIC8vIG9wdGltaXplZCAoY29tbW9uKSBjYXNlIG9mIGFsbCB0aGUgbG9va2FoZWFkcyBwYXRocyByZXF1aXJpbmcgb25seVxuICAgIC8vIGEgc2luZ2xlIHRva2VuIGxvb2thaGVhZC5cbiAgICBpZiAoYXJlQWxsT25lVG9rZW5Mb29rYWhlYWQgJiYgIWR5bmFtaWNUb2tlbnNFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHNpbmdsZVRva2Vuc1R5cGVzID0gZmxhdHRlbihhbHQpO1xuICAgICAgICBpZiAoc2luZ2xlVG9rZW5zVHlwZXMubGVuZ3RoID09PSAxICYmXG4gICAgICAgICAgICBpc0VtcHR5KHNpbmdsZVRva2Vuc1R5cGVzWzBdLmNhdGVnb3J5TWF0Y2hlcykpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVG9rZW5UeXBlID0gc2luZ2xlVG9rZW5zVHlwZXNbMF07XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFRva2VuVW5pcXVlS2V5ID0gZXhwZWN0ZWRUb2tlblR5cGUudG9rZW5UeXBlSWR4O1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5MQSgxKS50b2tlblR5cGVJZHggPT09IGV4cGVjdGVkVG9rZW5VbmlxdWVLZXk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2hvaWNlVG9BbHQgPSByZWR1Y2Uoc2luZ2xlVG9rZW5zVHlwZXMsIChyZXN1bHQsIGN1cnJUb2tUeXBlLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICByZXN1bHRbY3VyclRva1R5cGUudG9rZW5UeXBlSWR4XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZm9yRWFjaChjdXJyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMsIChjdXJyRXh0ZW5kaW5nVHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbY3VyckV4dGVuZGluZ1R5cGVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VG9rZW4gPSB0aGlzLkxBKDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjaG9pY2VUb0FsdFtuZXh0VG9rZW4udG9rZW5UeXBlSWR4XSA9PT0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBuZXh0UGF0aDogZm9yIChsZXQgaiA9IDA7IGogPCBudW1PZlBhdGhzOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyUGF0aCA9IGFsdFtqXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyUGF0aExlbmd0aCA9IGN1cnJQYXRoLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJQYXRoTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFRva2VuID0gdGhpcy5MQShpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbk1hdGNoZXIobmV4dFRva2VuLCBjdXJyUGF0aFtpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtaXNtYXRjaCBpbiBjdXJyZW50IHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyeSB0aGUgbmV4dCBwdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG5leHRQYXRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgZnVsbCBwYXRoIHRoYXQgbWF0Y2hlcy5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vbmUgb2YgdGhlIHBhdGhzIG1hdGNoZWRcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5jbGFzcyBSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlciBleHRlbmRzIFJlc3RXYWxrZXIge1xuICAgIGNvbnN0cnVjdG9yKHRvcFByb2QsIHRhcmdldE9jY3VycmVuY2UsIHRhcmdldFByb2RUeXBlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudG9wUHJvZCA9IHRvcFByb2Q7XG4gICAgICAgIHRoaXMudGFyZ2V0T2NjdXJyZW5jZSA9IHRhcmdldE9jY3VycmVuY2U7XG4gICAgICAgIHRoaXMudGFyZ2V0UHJvZFR5cGUgPSB0YXJnZXRQcm9kVHlwZTtcbiAgICB9XG4gICAgc3RhcnRXYWxraW5nKCkge1xuICAgICAgICB0aGlzLndhbGsodGhpcy50b3BQcm9kKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdERlZjtcbiAgICB9XG4gICAgY2hlY2tJc1RhcmdldChub2RlLCBleHBlY3RlZFByb2RUeXBlLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKG5vZGUuaWR4ID09PSB0aGlzLnRhcmdldE9jY3VycmVuY2UgJiZcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0UHJvZFR5cGUgPT09IGV4cGVjdGVkUHJvZFR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdERlZiA9IGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24sIGRvIG5vdCBpdGVyYXRlIG92ZXIgdGhlIGVudGlyZSBHcmFtbWFyIGFzdCBhZnRlciB3ZSBoYXZlIGZvdW5kIHRoZSB0YXJnZXRcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB3YWxrT3B0aW9uKG9wdGlvblByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tJc1RhcmdldChvcHRpb25Qcm9kLCBQUk9EX1RZUEUuT1BUSU9OLCBjdXJyUmVzdCwgcHJldlJlc3QpKSB7XG4gICAgICAgICAgICBzdXBlci53YWxrT3B0aW9uKG9wdGlvblByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2Fsa0F0TGVhc3RPbmUoYXRMZWFzdE9uZVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tJc1RhcmdldChhdExlYXN0T25lUHJvZCwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZLCBjdXJyUmVzdCwgcHJldlJlc3QpKSB7XG4gICAgICAgICAgICBzdXBlci53YWxrT3B0aW9uKGF0TGVhc3RPbmVQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdhbGtBdExlYXN0T25lU2VwKGF0TGVhc3RPbmVTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrSXNUYXJnZXQoYXRMZWFzdE9uZVNlcFByb2QsIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWV9XSVRIX1NFUEFSQVRPUiwgY3VyclJlc3QsIHByZXZSZXN0KSkge1xuICAgICAgICAgICAgc3VwZXIud2Fsa09wdGlvbihhdExlYXN0T25lU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3YWxrTWFueShtYW55UHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja0lzVGFyZ2V0KG1hbnlQcm9kLCBQUk9EX1RZUEUuUkVQRVRJVElPTiwgY3VyclJlc3QsIHByZXZSZXN0KSkge1xuICAgICAgICAgICAgc3VwZXIud2Fsa09wdGlvbihtYW55UHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3YWxrTWFueVNlcChtYW55U2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja0lzVGFyZ2V0KG1hbnlTZXBQcm9kLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9XSVRIX1NFUEFSQVRPUiwgY3VyclJlc3QsIHByZXZSZXN0KSkge1xuICAgICAgICAgICAgc3VwZXIud2Fsa09wdGlvbihtYW55U2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmaW5pdGlvbiBvZiBhIHRhcmdldCBwcm9kdWN0aW9uIGluIGEgdG9wIGxldmVsIGxldmVsIHJ1bGUuXG4gKi9cbmNsYXNzIEluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yIGV4dGVuZHMgR0FzdFZpc2l0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldE9jY3VycmVuY2UsIHRhcmdldFByb2RUeXBlLCB0YXJnZXRSZWYpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50YXJnZXRPY2N1cnJlbmNlID0gdGFyZ2V0T2NjdXJyZW5jZTtcbiAgICAgICAgdGhpcy50YXJnZXRQcm9kVHlwZSA9IHRhcmdldFByb2RUeXBlO1xuICAgICAgICB0aGlzLnRhcmdldFJlZiA9IHRhcmdldFJlZjtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSBbXTtcbiAgICB9XG4gICAgY2hlY2tJc1RhcmdldChub2RlLCBleHBlY3RlZFByb2ROYW1lKSB7XG4gICAgICAgIGlmIChub2RlLmlkeCA9PT0gdGhpcy50YXJnZXRPY2N1cnJlbmNlICYmXG4gICAgICAgICAgICB0aGlzLnRhcmdldFByb2RUeXBlID09PSBleHBlY3RlZFByb2ROYW1lICYmXG4gICAgICAgICAgICAodGhpcy50YXJnZXRSZWYgPT09IHVuZGVmaW5lZCB8fCBub2RlID09PSB0aGlzLnRhcmdldFJlZikpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gbm9kZS5kZWZpbml0aW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0T3B0aW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy5jaGVja0lzVGFyZ2V0KG5vZGUsIFBST0RfVFlQRS5PUFRJT04pO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb24obm9kZSkge1xuICAgICAgICB0aGlzLmNoZWNrSXNUYXJnZXQobm9kZSwgUFJPRF9UWVBFLlJFUEVUSVRJT04pO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb25NYW5kYXRvcnkobm9kZSkge1xuICAgICAgICB0aGlzLmNoZWNrSXNUYXJnZXQobm9kZSwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZKTtcbiAgICB9XG4gICAgdmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcihub2RlKSB7XG4gICAgICAgIHRoaXMuY2hlY2tJc1RhcmdldChub2RlLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUllfV0lUSF9TRVBBUkFUT1IpO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKG5vZGUpIHtcbiAgICAgICAgdGhpcy5jaGVja0lzVGFyZ2V0KG5vZGUsIFBST0RfVFlQRS5SRVBFVElUSU9OX1dJVEhfU0VQQVJBVE9SKTtcbiAgICB9XG4gICAgdmlzaXRBbHRlcm5hdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMuY2hlY2tJc1RhcmdldChub2RlLCBQUk9EX1RZUEUuQUxURVJOQVRJT04pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluaXRpYWxpemVBcnJheU9mQXJyYXlzKHNpemUpIHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXkoc2l6ZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgcmVzdWx0W2ldID0gW107XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEEgc29ydCBvZiBoYXNoIGZ1bmN0aW9uIGJldHdlZW4gYSBQYXRoIGluIHRoZSBncmFtbWFyIGFuZCBhIHN0cmluZy5cbiAqIE5vdGUgdGhhdCB0aGlzIHJldHVybnMgbXVsdGlwbGUgXCJoYXNoZXNcIiB0byBzdXBwb3J0IHRoZSBzY2VuYXJpbyBvZiB0b2tlbiBjYXRlZ29yaWVzLlxuICogLSAgQSBzaW5nbGUgcGF0aCB3aXRoIGNhdGVnb3JpZXMgbWF5IG1hdGNoIG11bHRpcGxlICoqYWN0dWFsKiogcGF0aHMuXG4gKi9cbmZ1bmN0aW9uIHBhdGhUb0hhc2hLZXlzKHBhdGgpIHtcbiAgICBsZXQga2V5cyA9IFtcIlwiXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdG9rVHlwZSA9IHBhdGhbaV07XG4gICAgICAgIGNvbnN0IGxvbmdlcktleXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyU2hvcnRlcktleSA9IGtleXNbal07XG4gICAgICAgICAgICBsb25nZXJLZXlzLnB1c2goY3VyclNob3J0ZXJLZXkgKyBcIl9cIiArIHRva1R5cGUudG9rZW5UeXBlSWR4KTtcbiAgICAgICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgdG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yaWVzS2V5U3VmZml4ID0gXCJfXCIgKyB0b2tUeXBlLmNhdGVnb3J5TWF0Y2hlc1t0XTtcbiAgICAgICAgICAgICAgICBsb25nZXJLZXlzLnB1c2goY3VyclNob3J0ZXJLZXkgKyBjYXRlZ29yaWVzS2V5U3VmZml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBrZXlzID0gbG9uZ2VyS2V5cztcbiAgICB9XG4gICAgcmV0dXJuIGtleXM7XG59XG4vKipcbiAqIEltcGVyYXRpdmUgc3R5bGUgZHVlIHRvIGJlaW5nIGNhbGxlZCBmcm9tIGEgaG90IHNwb3RcbiAqL1xuZnVuY3Rpb24gaXNVbmlxdWVQcmVmaXhIYXNoKGFsdEtub3duUGF0aHNLZXlzLCBzZWFyY2hQYXRoS2V5cywgaWR4KSB7XG4gICAgZm9yIChsZXQgY3VyckFsdElkeCA9IDA7IGN1cnJBbHRJZHggPCBhbHRLbm93blBhdGhzS2V5cy5sZW5ndGg7IGN1cnJBbHRJZHgrKykge1xuICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gdGVzdCB2cyB0aGUgb3RoZXIgYWx0ZXJuYXRpdmVzXG4gICAgICAgIGlmIChjdXJyQWx0SWR4ID09PSBpZHgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG90aGVyQWx0S25vd25QYXRoc0tleXMgPSBhbHRLbm93blBhdGhzS2V5c1tjdXJyQWx0SWR4XTtcbiAgICAgICAgZm9yIChsZXQgc2VhcmNoSWR4ID0gMDsgc2VhcmNoSWR4IDwgc2VhcmNoUGF0aEtleXMubGVuZ3RoOyBzZWFyY2hJZHgrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoS2V5ID0gc2VhcmNoUGF0aEtleXNbc2VhcmNoSWR4XTtcbiAgICAgICAgICAgIGlmIChvdGhlckFsdEtub3duUGF0aHNLZXlzW3NlYXJjaEtleV0gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTm9uZSBvZiB0aGUgU2VhcmNoUGF0aEtleXMgd2VyZSBmb3VuZCBpbiBhbnkgb2YgdGhlIG90aGVyIGFsdGVybmF0aXZlc1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGxvb2tBaGVhZFNlcXVlbmNlRnJvbUFsdGVybmF0aXZlcyhhbHRzRGVmcywgaykge1xuICAgIGNvbnN0IHBhcnRpYWxBbHRzID0gbWFwKGFsdHNEZWZzLCAoY3VyckFsdCkgPT4gcG9zc2libGVQYXRoc0Zyb20oW2N1cnJBbHRdLCAxKSk7XG4gICAgY29uc3QgZmluYWxSZXN1bHQgPSBpbml0aWFsaXplQXJyYXlPZkFycmF5cyhwYXJ0aWFsQWx0cy5sZW5ndGgpO1xuICAgIGNvbnN0IGFsdHNIYXNoZXMgPSBtYXAocGFydGlhbEFsdHMsIChjdXJyQWx0UGF0aHMpID0+IHtcbiAgICAgICAgY29uc3QgZGljdCA9IHt9O1xuICAgICAgICBmb3JFYWNoKGN1cnJBbHRQYXRocywgKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBwYXRoVG9IYXNoS2V5cyhpdGVtLnBhcnRpYWxQYXRoKTtcbiAgICAgICAgICAgIGZvckVhY2goa2V5cywgKGN1cnJLZXkpID0+IHtcbiAgICAgICAgICAgICAgICBkaWN0W2N1cnJLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRpY3Q7XG4gICAgfSk7XG4gICAgbGV0IG5ld0RhdGEgPSBwYXJ0aWFsQWx0cztcbiAgICAvLyBtYXhMb29rYWhlYWQgbG9vcFxuICAgIGZvciAobGV0IHBhdGhMZW5ndGggPSAxOyBwYXRoTGVuZ3RoIDw9IGs7IHBhdGhMZW5ndGgrKykge1xuICAgICAgICBjb25zdCBjdXJyRGF0YXNldCA9IG5ld0RhdGE7XG4gICAgICAgIG5ld0RhdGEgPSBpbml0aWFsaXplQXJyYXlPZkFycmF5cyhjdXJyRGF0YXNldC5sZW5ndGgpO1xuICAgICAgICAvLyBhbHRlcm5hdGl2ZXMgbG9vcFxuICAgICAgICBmb3IgKGxldCBhbHRJZHggPSAwOyBhbHRJZHggPCBjdXJyRGF0YXNldC5sZW5ndGg7IGFsdElkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyQWx0UGF0aHNBbmRTdWZmaXhlcyA9IGN1cnJEYXRhc2V0W2FsdElkeF07XG4gICAgICAgICAgICAvLyBwYXRocyBpbiBjdXJyZW50IGFsdGVybmF0aXZlIGxvb3BcbiAgICAgICAgICAgIGZvciAobGV0IGN1cnJQYXRoSWR4ID0gMDsgY3VyclBhdGhJZHggPCBjdXJyQWx0UGF0aHNBbmRTdWZmaXhlcy5sZW5ndGg7IGN1cnJQYXRoSWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyUGF0aFByZWZpeCA9IGN1cnJBbHRQYXRoc0FuZFN1ZmZpeGVzW2N1cnJQYXRoSWR4XS5wYXJ0aWFsUGF0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWZmaXhEZWYgPSBjdXJyQWx0UGF0aHNBbmRTdWZmaXhlc1tjdXJyUGF0aElkeF0uc3VmZml4RGVmO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZWZpeEtleXMgPSBwYXRoVG9IYXNoS2V5cyhjdXJyUGF0aFByZWZpeCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNVbmlxdWUgPSBpc1VuaXF1ZVByZWZpeEhhc2goYWx0c0hhc2hlcywgcHJlZml4S2V5cywgYWx0SWR4KTtcbiAgICAgICAgICAgICAgICAvLyBFbmQgb2YgdGhlIGxpbmUgZm9yIHRoaXMgcGF0aC5cbiAgICAgICAgICAgICAgICBpZiAoaXNVbmlxdWUgfHwgaXNFbXB0eShzdWZmaXhEZWYpIHx8IGN1cnJQYXRoUHJlZml4Lmxlbmd0aCA9PT0gaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyQWx0UmVzdWx0ID0gZmluYWxSZXN1bHRbYWx0SWR4XTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogQ2FuIHdlIGltcGxlbWVudCBhIGNvbnRhaW5zUGF0aCB1c2luZyBNYXBzL0RpY3Rpb25hcmllcz9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5zUGF0aChjdXJyQWx0UmVzdWx0LCBjdXJyUGF0aFByZWZpeCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyQWx0UmVzdWx0LnB1c2goY3VyclBhdGhQcmVmaXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCBuZXcgIGtleXMgZm9yIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHByZWZpeEtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyS2V5ID0gcHJlZml4S2V5c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRzSGFzaGVzW2FsdElkeF1bY3VycktleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEV4cGFuZCBsb25nZXIgcGF0aHNcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGFydGlhbFBhdGhzQW5kU3VmZml4ZXMgPSBwb3NzaWJsZVBhdGhzRnJvbShzdWZmaXhEZWYsIHBhdGhMZW5ndGggKyAxLCBjdXJyUGF0aFByZWZpeCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld0RhdGFbYWx0SWR4XSA9IG5ld0RhdGFbYWx0SWR4XS5jb25jYXQobmV3UGFydGlhbFBhdGhzQW5kU3VmZml4ZXMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUga2V5cyBmb3IgbmV3IGtub3duIHBhdGhzXG4gICAgICAgICAgICAgICAgICAgIGZvckVhY2gobmV3UGFydGlhbFBhdGhzQW5kU3VmZml4ZXMsIChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVmaXhLZXlzID0gcGF0aFRvSGFzaEtleXMoaXRlbS5wYXJ0aWFsUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKHByZWZpeEtleXMsIChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRzSGFzaGVzW2FsdElkeF1ba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmaW5hbFJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb29rYWhlYWRQYXRoc0Zvck9yKG9jY3VycmVuY2UsIHJ1bGVHcmFtbWFyLCBrLCBvclByb2QpIHtcbiAgICBjb25zdCB2aXNpdG9yID0gbmV3IEluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yKG9jY3VycmVuY2UsIFBST0RfVFlQRS5BTFRFUk5BVElPTiwgb3JQcm9kKTtcbiAgICBydWxlR3JhbW1hci5hY2NlcHQodmlzaXRvcik7XG4gICAgcmV0dXJuIGxvb2tBaGVhZFNlcXVlbmNlRnJvbUFsdGVybmF0aXZlcyh2aXNpdG9yLnJlc3VsdCwgayk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2Qob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIHByb2RUeXBlLCBrKSB7XG4gICAgY29uc3QgaW5zaWRlRGVmVmlzaXRvciA9IG5ldyBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvcihvY2N1cnJlbmNlLCBwcm9kVHlwZSk7XG4gICAgcnVsZUdyYW1tYXIuYWNjZXB0KGluc2lkZURlZlZpc2l0b3IpO1xuICAgIGNvbnN0IGluc2lkZURlZiA9IGluc2lkZURlZlZpc2l0b3IucmVzdWx0O1xuICAgIGNvbnN0IGFmdGVyRGVmV2Fsa2VyID0gbmV3IFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyKHJ1bGVHcmFtbWFyLCBvY2N1cnJlbmNlLCBwcm9kVHlwZSk7XG4gICAgY29uc3QgYWZ0ZXJEZWYgPSBhZnRlckRlZldhbGtlci5zdGFydFdhbGtpbmcoKTtcbiAgICBjb25zdCBpbnNpZGVGbGF0ID0gbmV3IEFsdGVybmF0aXZlR0FTVCh7IGRlZmluaXRpb246IGluc2lkZURlZiB9KTtcbiAgICBjb25zdCBhZnRlckZsYXQgPSBuZXcgQWx0ZXJuYXRpdmVHQVNUKHsgZGVmaW5pdGlvbjogYWZ0ZXJEZWYgfSk7XG4gICAgcmV0dXJuIGxvb2tBaGVhZFNlcXVlbmNlRnJvbUFsdGVybmF0aXZlcyhbaW5zaWRlRmxhdCwgYWZ0ZXJGbGF0XSwgayk7XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNQYXRoKGFsdGVybmF0aXZlLCBzZWFyY2hQYXRoKSB7XG4gICAgY29tcGFyZU90aGVyUGF0aDogZm9yIChsZXQgaSA9IDA7IGkgPCBhbHRlcm5hdGl2ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBvdGhlclBhdGggPSBhbHRlcm5hdGl2ZVtpXTtcbiAgICAgICAgaWYgKG90aGVyUGF0aC5sZW5ndGggIT09IHNlYXJjaFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG90aGVyUGF0aC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoVG9rID0gc2VhcmNoUGF0aFtqXTtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyVG9rID0gb3RoZXJQYXRoW2pdO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdUb2tlbnMgPSBzZWFyY2hUb2sgPT09IG90aGVyVG9rIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJUb2suY2F0ZWdvcnlNYXRjaGVzTWFwW3NlYXJjaFRvay50b2tlblR5cGVJZHhdICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdUb2tlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWUgY29tcGFyZU90aGVyUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaWN0UHJlZml4T2ZQYXRoKHByZWZpeCwgb3RoZXIpIHtcbiAgICByZXR1cm4gKHByZWZpeC5sZW5ndGggPCBvdGhlci5sZW5ndGggJiZcbiAgICAgICAgZXZlcnkocHJlZml4LCAodG9rVHlwZSwgaWR4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvdGhlclRva1R5cGUgPSBvdGhlcltpZHhdO1xuICAgICAgICAgICAgcmV0dXJuICh0b2tUeXBlID09PSBvdGhlclRva1R5cGUgfHxcbiAgICAgICAgICAgICAgICBvdGhlclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzTWFwW3Rva1R5cGUudG9rZW5UeXBlSWR4XSk7XG4gICAgICAgIH0pKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhcmVUb2tlbkNhdGVnb3JpZXNOb3RVc2VkKGxvb2tBaGVhZFBhdGhzKSB7XG4gICAgcmV0dXJuIGV2ZXJ5KGxvb2tBaGVhZFBhdGhzLCAoc2luZ2xlQWx0UGF0aHMpID0+IGV2ZXJ5KHNpbmdsZUFsdFBhdGhzLCAoc2luZ2xlUGF0aCkgPT4gZXZlcnkoc2luZ2xlUGF0aCwgKHRva2VuKSA9PiBpc0VtcHR5KHRva2VuLmNhdGVnb3J5TWF0Y2hlcykpKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb29rYWhlYWQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/lookahead.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/resolver.js":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/resolver.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GastRefResolverVisitor: () => (/* binding */ GastRefResolverVisitor),\n/* harmony export */   resolveGrammar: () => (/* binding */ resolveGrammar)\n/* harmony export */ });\n/* harmony import */ var _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parser/parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/values.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n\nfunction resolveGrammar(topLevels, errMsgProvider) {\n    const refResolver = new GastRefResolverVisitor(topLevels, errMsgProvider);\n    refResolver.resolveRefs();\n    return refResolver.errors;\n}\nclass GastRefResolverVisitor extends _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.GAstVisitor {\n    constructor(nameToTopRule, errMsgProvider) {\n        super();\n        this.nameToTopRule = nameToTopRule;\n        this.errMsgProvider = errMsgProvider;\n        this.errors = [];\n    }\n    resolveRefs() {\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.nameToTopRule), (prod) => {\n            this.currTopLevel = prod;\n            prod.accept(this);\n        });\n    }\n    visitNonTerminal(node) {\n        const ref = this.nameToTopRule[node.nonTerminalName];\n        if (!ref) {\n            const msg = this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel, node);\n            this.errors.push({\n                message: msg,\n                type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,\n                ruleName: this.currTopLevel.name,\n                unresolvedRefName: node.nonTerminalName,\n            });\n        }\n        else {\n            node.referencedRule = ref;\n        }\n    }\n}\n//# sourceMappingURL=resolver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9yZXNvbHZlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUU7QUFDckI7QUFDRztBQUN4QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUNBQXFDLHlEQUFXO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBTyxDQUFDLHFEQUFNO0FBQ3RCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0VBQXlCO0FBQy9DO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9yZXNvbHZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLCB9IGZyb20gXCIuLi9wYXJzZXIvcGFyc2VyLmpzXCI7XG5pbXBvcnQgeyBmb3JFYWNoLCB2YWx1ZXMgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBHQXN0VmlzaXRvciB9IGZyb20gXCJAY2hldnJvdGFpbi9nYXN0XCI7XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUdyYW1tYXIodG9wTGV2ZWxzLCBlcnJNc2dQcm92aWRlcikge1xuICAgIGNvbnN0IHJlZlJlc29sdmVyID0gbmV3IEdhc3RSZWZSZXNvbHZlclZpc2l0b3IodG9wTGV2ZWxzLCBlcnJNc2dQcm92aWRlcik7XG4gICAgcmVmUmVzb2x2ZXIucmVzb2x2ZVJlZnMoKTtcbiAgICByZXR1cm4gcmVmUmVzb2x2ZXIuZXJyb3JzO1xufVxuZXhwb3J0IGNsYXNzIEdhc3RSZWZSZXNvbHZlclZpc2l0b3IgZXh0ZW5kcyBHQXN0VmlzaXRvciB7XG4gICAgY29uc3RydWN0b3IobmFtZVRvVG9wUnVsZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uYW1lVG9Ub3BSdWxlID0gbmFtZVRvVG9wUnVsZTtcbiAgICAgICAgdGhpcy5lcnJNc2dQcm92aWRlciA9IGVyck1zZ1Byb3ZpZGVyO1xuICAgICAgICB0aGlzLmVycm9ycyA9IFtdO1xuICAgIH1cbiAgICByZXNvbHZlUmVmcygpIHtcbiAgICAgICAgZm9yRWFjaCh2YWx1ZXModGhpcy5uYW1lVG9Ub3BSdWxlKSwgKHByb2QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY3VyclRvcExldmVsID0gcHJvZDtcbiAgICAgICAgICAgIHByb2QuYWNjZXB0KHRoaXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmlzaXROb25UZXJtaW5hbChub2RlKSB7XG4gICAgICAgIGNvbnN0IHJlZiA9IHRoaXMubmFtZVRvVG9wUnVsZVtub2RlLm5vblRlcm1pbmFsTmFtZV07XG4gICAgICAgIGlmICghcmVmKSB7XG4gICAgICAgICAgICBjb25zdCBtc2cgPSB0aGlzLmVyck1zZ1Byb3ZpZGVyLmJ1aWxkUnVsZU5vdEZvdW5kRXJyb3IodGhpcy5jdXJyVG9wTGV2ZWwsIG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbXNnLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuVU5SRVNPTFZFRF9TVUJSVUxFX1JFRixcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogdGhpcy5jdXJyVG9wTGV2ZWwubmFtZSxcbiAgICAgICAgICAgICAgICB1bnJlc29sdmVkUmVmTmFtZTogbm9kZS5ub25UZXJtaW5hbE5hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5vZGUucmVmZXJlbmNlZFJ1bGUgPSByZWY7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/resolver.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/rest.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/rest.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RestWalker: () => (/* binding */ RestWalker)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/drop.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n/**\n *  A Grammar Walker that computes the \"remaining\" grammar \"after\" a productions in the grammar.\n */\nclass RestWalker {\n    walk(prod, prevRest = []) {\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(prod.definition, (subProd, index) => {\n            const currRest = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(prod.definition, index + 1);\n            /* istanbul ignore else */\n            if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.NonTerminal) {\n                this.walkProdRef(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Terminal) {\n                this.walkTerminal(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Alternative) {\n                this.walkFlat(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Option) {\n                this.walkOption(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.RepetitionMandatory) {\n                this.walkAtLeastOne(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.RepetitionMandatoryWithSeparator) {\n                this.walkAtLeastOneSep(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.RepetitionWithSeparator) {\n                this.walkManySep(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Repetition) {\n                this.walkMany(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Alternation) {\n                this.walkOr(subProd, currRest, prevRest);\n            }\n            else {\n                throw Error(\"non exhaustive match\");\n            }\n        });\n    }\n    walkTerminal(terminal, currRest, prevRest) { }\n    walkProdRef(refProd, currRest, prevRest) { }\n    walkFlat(flatProd, currRest, prevRest) {\n        // ABCDEF => after the D the rest is EF\n        const fullOrRest = currRest.concat(prevRest);\n        this.walk(flatProd, fullOrRest);\n    }\n    walkOption(optionProd, currRest, prevRest) {\n        // ABC(DE)?F => after the (DE)? the rest is F\n        const fullOrRest = currRest.concat(prevRest);\n        this.walk(optionProd, fullOrRest);\n    }\n    walkAtLeastOne(atLeastOneProd, currRest, prevRest) {\n        // ABC(DE)+F => after the (DE)+ the rest is (DE)?F\n        const fullAtLeastOneRest = [\n            new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Option({ definition: atLeastOneProd.definition }),\n        ].concat(currRest, prevRest);\n        this.walk(atLeastOneProd, fullAtLeastOneRest);\n    }\n    walkAtLeastOneSep(atLeastOneSepProd, currRest, prevRest) {\n        // ABC DE(,DE)* F => after the (,DE)+ the rest is (,DE)?F\n        const fullAtLeastOneSepRest = restForRepetitionWithSeparator(atLeastOneSepProd, currRest, prevRest);\n        this.walk(atLeastOneSepProd, fullAtLeastOneSepRest);\n    }\n    walkMany(manyProd, currRest, prevRest) {\n        // ABC(DE)*F => after the (DE)* the rest is (DE)?F\n        const fullManyRest = [\n            new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Option({ definition: manyProd.definition }),\n        ].concat(currRest, prevRest);\n        this.walk(manyProd, fullManyRest);\n    }\n    walkManySep(manySepProd, currRest, prevRest) {\n        // ABC (DE(,DE)*)? F => after the (,DE)* the rest is (,DE)?F\n        const fullManySepRest = restForRepetitionWithSeparator(manySepProd, currRest, prevRest);\n        this.walk(manySepProd, fullManySepRest);\n    }\n    walkOr(orProd, currRest, prevRest) {\n        // ABC(D|E|F)G => when finding the (D|E|F) the rest is G\n        const fullOrRest = currRest.concat(prevRest);\n        // walk all different alternatives\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(orProd.definition, (alt) => {\n            // wrapping each alternative in a single definition wrapper\n            // to avoid errors in computing the rest of that alternative in the invocation to computeInProdFollows\n            // (otherwise for OR([alt1,alt2]) alt2 will be considered in 'rest' of alt1\n            const prodWrapper = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Alternative({ definition: [alt] });\n            this.walk(prodWrapper, fullOrRest);\n        });\n    }\n}\nfunction restForRepetitionWithSeparator(repSepProd, currRest, prevRest) {\n    const repSepRest = [\n        new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Option({\n            definition: [\n                new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Terminal({ terminalType: repSepProd.separator }),\n            ].concat(repSepProd.definition),\n        }),\n    ];\n    const fullRepSepRest = repSepRest.concat(currRest, prevRest);\n    return fullRepSepRest;\n}\n//# sourceMappingURL=rest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9yZXN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMEM7QUFDOEk7QUFDeEw7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFFBQVEscURBQU87QUFDZiw2QkFBNkIscURBQUk7QUFDakM7QUFDQSxtQ0FBbUMseURBQVc7QUFDOUM7QUFDQTtBQUNBLHdDQUF3QyxzREFBUTtBQUNoRDtBQUNBO0FBQ0Esd0NBQXdDLHlEQUFXO0FBQ25EO0FBQ0E7QUFDQSx3Q0FBd0Msb0RBQU07QUFDOUM7QUFDQTtBQUNBLHdDQUF3QyxpRUFBbUI7QUFDM0Q7QUFDQTtBQUNBLHdDQUF3Qyw4RUFBZ0M7QUFDeEU7QUFDQTtBQUNBLHdDQUF3QyxxRUFBdUI7QUFDL0Q7QUFDQTtBQUNBLHdDQUF3Qyx3REFBVTtBQUNsRDtBQUNBO0FBQ0Esd0NBQXdDLHlEQUFXO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0RBQU0sR0FBRyx1Q0FBdUM7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvREFBTSxHQUFHLGlDQUFpQztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHlEQUFXLEdBQUcsbUJBQW1CO0FBQ3JFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvREFBTTtBQUNsQjtBQUNBLG9CQUFvQixzREFBUSxHQUFHLG9DQUFvQztBQUNuRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZXRoYW5raW0vTmVzdG9yL21lZGZldGNoLmpzL25vZGVfbW9kdWxlcy8ucG5wbS9jaGV2cm90YWluQDExLjAuMy9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvcmVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkcm9wLCBmb3JFYWNoIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgQWx0ZXJuYXRpb24sIEFsdGVybmF0aXZlLCBOb25UZXJtaW5hbCwgT3B0aW9uLCBSZXBldGl0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIFRlcm1pbmFsLCB9IGZyb20gXCJAY2hldnJvdGFpbi9nYXN0XCI7XG4vKipcbiAqICBBIEdyYW1tYXIgV2Fsa2VyIHRoYXQgY29tcHV0ZXMgdGhlIFwicmVtYWluaW5nXCIgZ3JhbW1hciBcImFmdGVyXCIgYSBwcm9kdWN0aW9ucyBpbiB0aGUgZ3JhbW1hci5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlc3RXYWxrZXIge1xuICAgIHdhbGsocHJvZCwgcHJldlJlc3QgPSBbXSkge1xuICAgICAgICBmb3JFYWNoKHByb2QuZGVmaW5pdGlvbiwgKHN1YlByb2QsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyUmVzdCA9IGRyb3AocHJvZC5kZWZpbml0aW9uLCBpbmRleCArIDEpO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndhbGtQcm9kUmVmKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndhbGtUZXJtaW5hbChzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53YWxrRmxhdChzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIE9wdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMud2Fsa09wdGlvbihzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndhbGtBdExlYXN0T25lKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndhbGtBdExlYXN0T25lU2VwKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndhbGtNYW55U2VwKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMud2Fsa01hbnkoc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMud2Fsa09yKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgd2Fsa1Rlcm1pbmFsKHRlcm1pbmFsLCBjdXJyUmVzdCwgcHJldlJlc3QpIHsgfVxuICAgIHdhbGtQcm9kUmVmKHJlZlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkgeyB9XG4gICAgd2Fsa0ZsYXQoZmxhdFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkNERUYgPT4gYWZ0ZXIgdGhlIEQgdGhlIHJlc3QgaXMgRUZcbiAgICAgICAgY29uc3QgZnVsbE9yUmVzdCA9IGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCk7XG4gICAgICAgIHRoaXMud2FsayhmbGF0UHJvZCwgZnVsbE9yUmVzdCk7XG4gICAgfVxuICAgIHdhbGtPcHRpb24ob3B0aW9uUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIEFCQyhERSk/RiA9PiBhZnRlciB0aGUgKERFKT8gdGhlIHJlc3QgaXMgRlxuICAgICAgICBjb25zdCBmdWxsT3JSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKG9wdGlvblByb2QsIGZ1bGxPclJlc3QpO1xuICAgIH1cbiAgICB3YWxrQXRMZWFzdE9uZShhdExlYXN0T25lUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIEFCQyhERSkrRiA9PiBhZnRlciB0aGUgKERFKSsgdGhlIHJlc3QgaXMgKERFKT9GXG4gICAgICAgIGNvbnN0IGZ1bGxBdExlYXN0T25lUmVzdCA9IFtcbiAgICAgICAgICAgIG5ldyBPcHRpb24oeyBkZWZpbml0aW9uOiBhdExlYXN0T25lUHJvZC5kZWZpbml0aW9uIH0pLFxuICAgICAgICBdLmNvbmNhdChjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB0aGlzLndhbGsoYXRMZWFzdE9uZVByb2QsIGZ1bGxBdExlYXN0T25lUmVzdCk7XG4gICAgfVxuICAgIHdhbGtBdExlYXN0T25lU2VwKGF0TGVhc3RPbmVTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gQUJDIERFKCxERSkqIEYgPT4gYWZ0ZXIgdGhlICgsREUpKyB0aGUgcmVzdCBpcyAoLERFKT9GXG4gICAgICAgIGNvbnN0IGZ1bGxBdExlYXN0T25lU2VwUmVzdCA9IHJlc3RGb3JSZXBldGl0aW9uV2l0aFNlcGFyYXRvcihhdExlYXN0T25lU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKGF0TGVhc3RPbmVTZXBQcm9kLCBmdWxsQXRMZWFzdE9uZVNlcFJlc3QpO1xuICAgIH1cbiAgICB3YWxrTWFueShtYW55UHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIEFCQyhERSkqRiA9PiBhZnRlciB0aGUgKERFKSogdGhlIHJlc3QgaXMgKERFKT9GXG4gICAgICAgIGNvbnN0IGZ1bGxNYW55UmVzdCA9IFtcbiAgICAgICAgICAgIG5ldyBPcHRpb24oeyBkZWZpbml0aW9uOiBtYW55UHJvZC5kZWZpbml0aW9uIH0pLFxuICAgICAgICBdLmNvbmNhdChjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB0aGlzLndhbGsobWFueVByb2QsIGZ1bGxNYW55UmVzdCk7XG4gICAgfVxuICAgIHdhbGtNYW55U2VwKG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gQUJDIChERSgsREUpKik/IEYgPT4gYWZ0ZXIgdGhlICgsREUpKiB0aGUgcmVzdCBpcyAoLERFKT9GXG4gICAgICAgIGNvbnN0IGZ1bGxNYW55U2VwUmVzdCA9IHJlc3RGb3JSZXBldGl0aW9uV2l0aFNlcGFyYXRvcihtYW55U2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKG1hbnlTZXBQcm9kLCBmdWxsTWFueVNlcFJlc3QpO1xuICAgIH1cbiAgICB3YWxrT3Iob3JQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gQUJDKER8RXxGKUcgPT4gd2hlbiBmaW5kaW5nIHRoZSAoRHxFfEYpIHRoZSByZXN0IGlzIEdcbiAgICAgICAgY29uc3QgZnVsbE9yUmVzdCA9IGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCk7XG4gICAgICAgIC8vIHdhbGsgYWxsIGRpZmZlcmVudCBhbHRlcm5hdGl2ZXNcbiAgICAgICAgZm9yRWFjaChvclByb2QuZGVmaW5pdGlvbiwgKGFsdCkgPT4ge1xuICAgICAgICAgICAgLy8gd3JhcHBpbmcgZWFjaCBhbHRlcm5hdGl2ZSBpbiBhIHNpbmdsZSBkZWZpbml0aW9uIHdyYXBwZXJcbiAgICAgICAgICAgIC8vIHRvIGF2b2lkIGVycm9ycyBpbiBjb21wdXRpbmcgdGhlIHJlc3Qgb2YgdGhhdCBhbHRlcm5hdGl2ZSBpbiB0aGUgaW52b2NhdGlvbiB0byBjb21wdXRlSW5Qcm9kRm9sbG93c1xuICAgICAgICAgICAgLy8gKG90aGVyd2lzZSBmb3IgT1IoW2FsdDEsYWx0Ml0pIGFsdDIgd2lsbCBiZSBjb25zaWRlcmVkIGluICdyZXN0JyBvZiBhbHQxXG4gICAgICAgICAgICBjb25zdCBwcm9kV3JhcHBlciA9IG5ldyBBbHRlcm5hdGl2ZSh7IGRlZmluaXRpb246IFthbHRdIH0pO1xuICAgICAgICAgICAgdGhpcy53YWxrKHByb2RXcmFwcGVyLCBmdWxsT3JSZXN0KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVzdEZvclJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKHJlcFNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgIGNvbnN0IHJlcFNlcFJlc3QgPSBbXG4gICAgICAgIG5ldyBPcHRpb24oe1xuICAgICAgICAgICAgZGVmaW5pdGlvbjogW1xuICAgICAgICAgICAgICAgIG5ldyBUZXJtaW5hbCh7IHRlcm1pbmFsVHlwZTogcmVwU2VwUHJvZC5zZXBhcmF0b3IgfSksXG4gICAgICAgICAgICBdLmNvbmNhdChyZXBTZXBQcm9kLmRlZmluaXRpb24pLFxuICAgICAgICB9KSxcbiAgICBdO1xuICAgIGNvbnN0IGZ1bGxSZXBTZXBSZXN0ID0gcmVwU2VwUmVzdC5jb25jYXQoY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICByZXR1cm4gZnVsbFJlcFNlcFJlc3Q7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXN0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/rest.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CstParser: () => (/* binding */ CstParser),\n/* harmony export */   DEFAULT_PARSER_CONFIG: () => (/* binding */ DEFAULT_PARSER_CONFIG),\n/* harmony export */   DEFAULT_RULE_CONFIG: () => (/* binding */ DEFAULT_RULE_CONFIG),\n/* harmony export */   EMPTY_ALT: () => (/* binding */ EMPTY_ALT),\n/* harmony export */   END_OF_FILE: () => (/* binding */ END_OF_FILE),\n/* harmony export */   EmbeddedActionsParser: () => (/* binding */ EmbeddedActionsParser),\n/* harmony export */   Parser: () => (/* binding */ Parser),\n/* harmony export */   ParserDefinitionErrorType: () => (/* binding */ ParserDefinitionErrorType)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/values.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/clone.js\");\n/* harmony import */ var _chevrotain_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/utils */ \"(ssr)/../node_modules/.pnpm/@chevrotain+utils@11.0.3/node_modules/@chevrotain/utils/lib/src/api.js\");\n/* harmony import */ var _grammar_follow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../grammar/follow.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/follow.js\");\n/* harmony import */ var _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scan/tokens_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens_public.js\");\n/* harmony import */ var _errors_public_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/errors_public.js\");\n/* harmony import */ var _grammar_gast_gast_resolver_public_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../grammar/gast/gast_resolver_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/gast/gast_resolver_public.js\");\n/* harmony import */ var _traits_recoverable_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./traits/recoverable.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recoverable.js\");\n/* harmony import */ var _traits_looksahead_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./traits/looksahead.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/looksahead.js\");\n/* harmony import */ var _traits_tree_builder_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./traits/tree_builder.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/tree_builder.js\");\n/* harmony import */ var _traits_lexer_adapter_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./traits/lexer_adapter.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/lexer_adapter.js\");\n/* harmony import */ var _traits_recognizer_api_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./traits/recognizer_api.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_api.js\");\n/* harmony import */ var _traits_recognizer_engine_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./traits/recognizer_engine.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_engine.js\");\n/* harmony import */ var _traits_error_handler_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./traits/error_handler.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/error_handler.js\");\n/* harmony import */ var _traits_context_assist_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./traits/context_assist.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/context_assist.js\");\n/* harmony import */ var _traits_gast_recorder_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./traits/gast_recorder.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/gast_recorder.js\");\n/* harmony import */ var _traits_perf_tracer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./traits/perf_tracer.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js\");\n/* harmony import */ var _utils_apply_mixins_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/apply_mixins.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/utils/apply_mixins.js\");\n/* harmony import */ var _grammar_checks_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../grammar/checks.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/checks.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst END_OF_FILE = (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_2__.createTokenInstance)(_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_2__.EOF, \"\", NaN, NaN, NaN, NaN, NaN, NaN);\nObject.freeze(END_OF_FILE);\nconst DEFAULT_PARSER_CONFIG = Object.freeze({\n    recoveryEnabled: false,\n    maxLookahead: 3,\n    dynamicTokensEnabled: false,\n    outputCst: true,\n    errorMessageProvider: _errors_public_js__WEBPACK_IMPORTED_MODULE_3__.defaultParserErrorProvider,\n    nodeLocationTracking: \"none\",\n    traceInitPerf: false,\n    skipValidations: false,\n});\nconst DEFAULT_RULE_CONFIG = Object.freeze({\n    recoveryValueFunc: () => undefined,\n    resyncEnabled: true,\n});\nvar ParserDefinitionErrorType;\n(function (ParserDefinitionErrorType) {\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"INVALID_RULE_NAME\"] = 0] = \"INVALID_RULE_NAME\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"DUPLICATE_RULE_NAME\"] = 1] = \"DUPLICATE_RULE_NAME\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"INVALID_RULE_OVERRIDE\"] = 2] = \"INVALID_RULE_OVERRIDE\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"DUPLICATE_PRODUCTIONS\"] = 3] = \"DUPLICATE_PRODUCTIONS\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"UNRESOLVED_SUBRULE_REF\"] = 4] = \"UNRESOLVED_SUBRULE_REF\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"LEFT_RECURSION\"] = 5] = \"LEFT_RECURSION\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"NONE_LAST_EMPTY_ALT\"] = 6] = \"NONE_LAST_EMPTY_ALT\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"AMBIGUOUS_ALTS\"] = 7] = \"AMBIGUOUS_ALTS\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"CONFLICT_TOKENS_RULES_NAMESPACE\"] = 8] = \"CONFLICT_TOKENS_RULES_NAMESPACE\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"INVALID_TOKEN_NAME\"] = 9] = \"INVALID_TOKEN_NAME\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"NO_NON_EMPTY_LOOKAHEAD\"] = 10] = \"NO_NON_EMPTY_LOOKAHEAD\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"AMBIGUOUS_PREFIX_ALTS\"] = 11] = \"AMBIGUOUS_PREFIX_ALTS\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"TOO_MANY_ALTS\"] = 12] = \"TOO_MANY_ALTS\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"CUSTOM_LOOKAHEAD_VALIDATION\"] = 13] = \"CUSTOM_LOOKAHEAD_VALIDATION\";\n})(ParserDefinitionErrorType || (ParserDefinitionErrorType = {}));\nfunction EMPTY_ALT(value = undefined) {\n    return function () {\n        return value;\n    };\n}\nclass Parser {\n    /**\n     *  @deprecated use the **instance** method with the same name instead\n     */\n    static performSelfAnalysis(parserInstance) {\n        throw Error(\"The **static** `performSelfAnalysis` method has been deprecated.\" +\n            \"\\t\\nUse the **instance** method with the same name instead.\");\n    }\n    performSelfAnalysis() {\n        this.TRACE_INIT(\"performSelfAnalysis\", () => {\n            let defErrorsMsgs;\n            this.selfAnalysisDone = true;\n            const className = this.className;\n            this.TRACE_INIT(\"toFastProps\", () => {\n                // Without this voodoo magic the parser would be x3-x4 slower\n                // It seems it is better to invoke `toFastProperties` **before**\n                // Any manipulations of the `this` object done during the recording phase.\n                (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_0__.toFastProperties)(this);\n            });\n            this.TRACE_INIT(\"Grammar Recording\", () => {\n                try {\n                    this.enableRecording();\n                    // Building the GAST\n                    (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(this.definedRulesNames, (currRuleName) => {\n                        const wrappedRule = this[currRuleName];\n                        const originalGrammarAction = wrappedRule[\"originalGrammarAction\"];\n                        let recordedRuleGast;\n                        this.TRACE_INIT(`${currRuleName} Rule`, () => {\n                            recordedRuleGast = this.topLevelRuleRecord(currRuleName, originalGrammarAction);\n                        });\n                        this.gastProductionsCache[currRuleName] = recordedRuleGast;\n                    });\n                }\n                finally {\n                    this.disableRecording();\n                }\n            });\n            let resolverErrors = [];\n            this.TRACE_INIT(\"Grammar Resolving\", () => {\n                resolverErrors = (0,_grammar_gast_gast_resolver_public_js__WEBPACK_IMPORTED_MODULE_4__.resolveGrammar)({\n                    rules: (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.gastProductionsCache),\n                });\n                this.definitionErrors = this.definitionErrors.concat(resolverErrors);\n            });\n            this.TRACE_INIT(\"Grammar Validations\", () => {\n                // only perform additional grammar validations IFF no resolving errors have occurred.\n                // as unresolved grammar may lead to unhandled runtime exceptions in the follow up validations.\n                if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(resolverErrors) && this.skipValidations === false) {\n                    const validationErrors = (0,_grammar_gast_gast_resolver_public_js__WEBPACK_IMPORTED_MODULE_4__.validateGrammar)({\n                        rules: (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.gastProductionsCache),\n                        tokenTypes: (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.tokensMap),\n                        errMsgProvider: _errors_public_js__WEBPACK_IMPORTED_MODULE_3__.defaultGrammarValidatorErrorProvider,\n                        grammarName: className,\n                    });\n                    const lookaheadValidationErrors = (0,_grammar_checks_js__WEBPACK_IMPORTED_MODULE_16__.validateLookahead)({\n                        lookaheadStrategy: this.lookaheadStrategy,\n                        rules: (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.gastProductionsCache),\n                        tokenTypes: (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.tokensMap),\n                        grammarName: className,\n                    });\n                    this.definitionErrors = this.definitionErrors.concat(validationErrors, lookaheadValidationErrors);\n                }\n            });\n            // this analysis may fail if the grammar is not perfectly valid\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(this.definitionErrors)) {\n                // The results of these computations are not needed unless error recovery is enabled.\n                if (this.recoveryEnabled) {\n                    this.TRACE_INIT(\"computeAllProdsFollows\", () => {\n                        const allFollows = (0,_grammar_follow_js__WEBPACK_IMPORTED_MODULE_1__.computeAllProdsFollows)((0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.gastProductionsCache));\n                        this.resyncFollows = allFollows;\n                    });\n                }\n                this.TRACE_INIT(\"ComputeLookaheadFunctions\", () => {\n                    var _a, _b;\n                    (_b = (_a = this.lookaheadStrategy).initialize) === null || _b === void 0 ? void 0 : _b.call(_a, {\n                        rules: (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.gastProductionsCache),\n                    });\n                    this.preComputeLookaheadFunctions((0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.gastProductionsCache));\n                });\n            }\n            if (!Parser.DEFER_DEFINITION_ERRORS_HANDLING &&\n                !(0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(this.definitionErrors)) {\n                defErrorsMsgs = (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(this.definitionErrors, (defError) => defError.message);\n                throw new Error(`Parser Definition Errors detected:\\n ${defErrorsMsgs.join(\"\\n-------------------------------\\n\")}`);\n            }\n        });\n    }\n    constructor(tokenVocabulary, config) {\n        this.definitionErrors = [];\n        this.selfAnalysisDone = false;\n        const that = this;\n        that.initErrorHandler(config);\n        that.initLexerAdapter();\n        that.initLooksAhead(config);\n        that.initRecognizerEngine(tokenVocabulary, config);\n        that.initRecoverable(config);\n        that.initTreeBuilder(config);\n        that.initContentAssist();\n        that.initGastRecorder(config);\n        that.initPerformanceTracer(config);\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(config, \"ignoredIssues\")) {\n            throw new Error(\"The <ignoredIssues> IParserConfig property has been deprecated.\\n\\t\" +\n                \"Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\\n\\t\" +\n                \"See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\\n\\t\" +\n                \"For further details.\");\n        }\n        this.skipValidations = (0,lodash_es__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(config, \"skipValidations\")\n            ? config.skipValidations // casting assumes the end user passing the correct type\n            : DEFAULT_PARSER_CONFIG.skipValidations;\n    }\n}\n// Set this flag to true if you don't want the Parser to throw error when problems in it's definition are detected.\n// (normally during the parser's constructor).\n// This is a design time flag, it will not affect the runtime error handling of the parser, just design time errors,\n// for example: duplicate rule names, referencing an unresolved subrule, ect...\n// This flag should not be enabled during normal usage, it is used in special situations, for example when\n// needing to display the parser definition errors in some GUI(online playground).\nParser.DEFER_DEFINITION_ERRORS_HANDLING = false;\n(0,_utils_apply_mixins_js__WEBPACK_IMPORTED_MODULE_15__.applyMixins)(Parser, [\n    _traits_recoverable_js__WEBPACK_IMPORTED_MODULE_5__.Recoverable,\n    _traits_looksahead_js__WEBPACK_IMPORTED_MODULE_6__.LooksAhead,\n    _traits_tree_builder_js__WEBPACK_IMPORTED_MODULE_7__.TreeBuilder,\n    _traits_lexer_adapter_js__WEBPACK_IMPORTED_MODULE_8__.LexerAdapter,\n    _traits_recognizer_engine_js__WEBPACK_IMPORTED_MODULE_10__.RecognizerEngine,\n    _traits_recognizer_api_js__WEBPACK_IMPORTED_MODULE_9__.RecognizerApi,\n    _traits_error_handler_js__WEBPACK_IMPORTED_MODULE_11__.ErrorHandler,\n    _traits_context_assist_js__WEBPACK_IMPORTED_MODULE_12__.ContentAssist,\n    _traits_gast_recorder_js__WEBPACK_IMPORTED_MODULE_13__.GastRecorder,\n    _traits_perf_tracer_js__WEBPACK_IMPORTED_MODULE_14__.PerformanceTracer,\n]);\nclass CstParser extends Parser {\n    constructor(tokenVocabulary, config = DEFAULT_PARSER_CONFIG) {\n        const configClone = (0,lodash_es__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(config);\n        configClone.outputCst = true;\n        super(tokenVocabulary, configClone);\n    }\n}\nclass EmbeddedActionsParser extends Parser {\n    constructor(tokenVocabulary, config = DEFAULT_PARSER_CONFIG) {\n        const configClone = (0,lodash_es__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(config);\n        configClone.outputCst = false;\n        super(tokenVocabulary, configClone);\n    }\n}\n//# sourceMappingURL=parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3BhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNFO0FBQ2pCO0FBQ1M7QUFDUztBQUNpQztBQUNiO0FBQ3JDO0FBQ0Y7QUFDRztBQUNFO0FBQ0U7QUFDTTtBQUNSO0FBQ0U7QUFDRjtBQUNHO0FBQ047QUFDRztBQUNsRCxvQkFBb0IsMkVBQW1CLENBQUMsdURBQUc7QUFDbEQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHlFQUEwQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ007QUFDUDtBQUNBO0FBQ0EsQ0FBQztBQUNNO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4REFBOEQ7QUFDeEQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUVBQWdCO0FBQ2hDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsY0FBYztBQUN6RDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsaUNBQWlDLHFGQUFjO0FBQy9DLDJCQUEyQixzREFBTTtBQUNqQyxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNEQUFPO0FBQzNCLDZDQUE2QyxzRkFBZTtBQUM1RCwrQkFBK0Isc0RBQU07QUFDckMsb0NBQW9DLHNEQUFNO0FBQzFDLHdDQUF3QyxtRkFBb0M7QUFDNUU7QUFDQSxxQkFBcUI7QUFDckIsc0RBQXNELHNFQUFpQjtBQUN2RTtBQUNBLCtCQUErQixzREFBTTtBQUNyQyxvQ0FBb0Msc0RBQU07QUFDMUM7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGdCQUFnQixzREFBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsMEVBQXNCLENBQUMsc0RBQU07QUFDeEU7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQU07QUFDckMscUJBQXFCO0FBQ3JCLHNEQUFzRCxzREFBTTtBQUM1RCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQixzREFBTztBQUN4QixnQ0FBZ0Msc0RBQUc7QUFDbkMsd0VBQXdFLDBEQUEwRDtBQUNsSTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBRztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQUc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFXO0FBQ1gsSUFBSSwrREFBVztBQUNmLElBQUksNkRBQVU7QUFDZCxJQUFJLGdFQUFXO0FBQ2YsSUFBSSxrRUFBWTtBQUNoQixJQUFJLDJFQUFnQjtBQUNwQixJQUFJLG9FQUFhO0FBQ2pCLElBQUksbUVBQVk7QUFDaEIsSUFBSSxxRUFBYTtBQUNqQixJQUFJLG1FQUFZO0FBQ2hCLElBQUksc0VBQWlCO0FBQ3JCO0FBQ087QUFDUDtBQUNBLDRCQUE0QixzREFBSztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSw0QkFBNEIsc0RBQUs7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9wYXJzZXIvcGFyc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb25lLCBmb3JFYWNoLCBoYXMsIGlzRW1wdHksIG1hcCwgdmFsdWVzIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgdG9GYXN0UHJvcGVydGllcyB9IGZyb20gXCJAY2hldnJvdGFpbi91dGlsc1wiO1xuaW1wb3J0IHsgY29tcHV0ZUFsbFByb2RzRm9sbG93cyB9IGZyb20gXCIuLi9ncmFtbWFyL2ZvbGxvdy5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlVG9rZW5JbnN0YW5jZSwgRU9GIH0gZnJvbSBcIi4uLy4uL3NjYW4vdG9rZW5zX3B1YmxpYy5qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyLCBkZWZhdWx0UGFyc2VyRXJyb3JQcm92aWRlciwgfSBmcm9tIFwiLi4vZXJyb3JzX3B1YmxpYy5qc1wiO1xuaW1wb3J0IHsgcmVzb2x2ZUdyYW1tYXIsIHZhbGlkYXRlR3JhbW1hciwgfSBmcm9tIFwiLi4vZ3JhbW1hci9nYXN0L2dhc3RfcmVzb2x2ZXJfcHVibGljLmpzXCI7XG5pbXBvcnQgeyBSZWNvdmVyYWJsZSB9IGZyb20gXCIuL3RyYWl0cy9yZWNvdmVyYWJsZS5qc1wiO1xuaW1wb3J0IHsgTG9va3NBaGVhZCB9IGZyb20gXCIuL3RyYWl0cy9sb29rc2FoZWFkLmpzXCI7XG5pbXBvcnQgeyBUcmVlQnVpbGRlciB9IGZyb20gXCIuL3RyYWl0cy90cmVlX2J1aWxkZXIuanNcIjtcbmltcG9ydCB7IExleGVyQWRhcHRlciB9IGZyb20gXCIuL3RyYWl0cy9sZXhlcl9hZGFwdGVyLmpzXCI7XG5pbXBvcnQgeyBSZWNvZ25pemVyQXBpIH0gZnJvbSBcIi4vdHJhaXRzL3JlY29nbml6ZXJfYXBpLmpzXCI7XG5pbXBvcnQgeyBSZWNvZ25pemVyRW5naW5lIH0gZnJvbSBcIi4vdHJhaXRzL3JlY29nbml6ZXJfZW5naW5lLmpzXCI7XG5pbXBvcnQgeyBFcnJvckhhbmRsZXIgfSBmcm9tIFwiLi90cmFpdHMvZXJyb3JfaGFuZGxlci5qc1wiO1xuaW1wb3J0IHsgQ29udGVudEFzc2lzdCB9IGZyb20gXCIuL3RyYWl0cy9jb250ZXh0X2Fzc2lzdC5qc1wiO1xuaW1wb3J0IHsgR2FzdFJlY29yZGVyIH0gZnJvbSBcIi4vdHJhaXRzL2dhc3RfcmVjb3JkZXIuanNcIjtcbmltcG9ydCB7IFBlcmZvcm1hbmNlVHJhY2VyIH0gZnJvbSBcIi4vdHJhaXRzL3BlcmZfdHJhY2VyLmpzXCI7XG5pbXBvcnQgeyBhcHBseU1peGlucyB9IGZyb20gXCIuL3V0aWxzL2FwcGx5X21peGlucy5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVMb29rYWhlYWQgfSBmcm9tIFwiLi4vZ3JhbW1hci9jaGVja3MuanNcIjtcbmV4cG9ydCBjb25zdCBFTkRfT0ZfRklMRSA9IGNyZWF0ZVRva2VuSW5zdGFuY2UoRU9GLCBcIlwiLCBOYU4sIE5hTiwgTmFOLCBOYU4sIE5hTiwgTmFOKTtcbk9iamVjdC5mcmVlemUoRU5EX09GX0ZJTEUpO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUEFSU0VSX0NPTkZJRyA9IE9iamVjdC5mcmVlemUoe1xuICAgIHJlY292ZXJ5RW5hYmxlZDogZmFsc2UsXG4gICAgbWF4TG9va2FoZWFkOiAzLFxuICAgIGR5bmFtaWNUb2tlbnNFbmFibGVkOiBmYWxzZSxcbiAgICBvdXRwdXRDc3Q6IHRydWUsXG4gICAgZXJyb3JNZXNzYWdlUHJvdmlkZXI6IGRlZmF1bHRQYXJzZXJFcnJvclByb3ZpZGVyLFxuICAgIG5vZGVMb2NhdGlvblRyYWNraW5nOiBcIm5vbmVcIixcbiAgICB0cmFjZUluaXRQZXJmOiBmYWxzZSxcbiAgICBza2lwVmFsaWRhdGlvbnM6IGZhbHNlLFxufSk7XG5leHBvcnQgY29uc3QgREVGQVVMVF9SVUxFX0NPTkZJRyA9IE9iamVjdC5mcmVlemUoe1xuICAgIHJlY292ZXJ5VmFsdWVGdW5jOiAoKSA9PiB1bmRlZmluZWQsXG4gICAgcmVzeW5jRW5hYmxlZDogdHJ1ZSxcbn0pO1xuZXhwb3J0IHZhciBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlO1xuKGZ1bmN0aW9uIChQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlKSB7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiSU5WQUxJRF9SVUxFX05BTUVcIl0gPSAwXSA9IFwiSU5WQUxJRF9SVUxFX05BTUVcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJEVVBMSUNBVEVfUlVMRV9OQU1FXCJdID0gMV0gPSBcIkRVUExJQ0FURV9SVUxFX05BTUVcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJJTlZBTElEX1JVTEVfT1ZFUlJJREVcIl0gPSAyXSA9IFwiSU5WQUxJRF9SVUxFX09WRVJSSURFXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiRFVQTElDQVRFX1BST0RVQ1RJT05TXCJdID0gM10gPSBcIkRVUExJQ0FURV9QUk9EVUNUSU9OU1wiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIlVOUkVTT0xWRURfU1VCUlVMRV9SRUZcIl0gPSA0XSA9IFwiVU5SRVNPTFZFRF9TVUJSVUxFX1JFRlwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkxFRlRfUkVDVVJTSU9OXCJdID0gNV0gPSBcIkxFRlRfUkVDVVJTSU9OXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTk9ORV9MQVNUX0VNUFRZX0FMVFwiXSA9IDZdID0gXCJOT05FX0xBU1RfRU1QVFlfQUxUXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiQU1CSUdVT1VTX0FMVFNcIl0gPSA3XSA9IFwiQU1CSUdVT1VTX0FMVFNcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJDT05GTElDVF9UT0tFTlNfUlVMRVNfTkFNRVNQQUNFXCJdID0gOF0gPSBcIkNPTkZMSUNUX1RPS0VOU19SVUxFU19OQU1FU1BBQ0VcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJJTlZBTElEX1RPS0VOX05BTUVcIl0gPSA5XSA9IFwiSU5WQUxJRF9UT0tFTl9OQU1FXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTk9fTk9OX0VNUFRZX0xPT0tBSEVBRFwiXSA9IDEwXSA9IFwiTk9fTk9OX0VNUFRZX0xPT0tBSEVBRFwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkFNQklHVU9VU19QUkVGSVhfQUxUU1wiXSA9IDExXSA9IFwiQU1CSUdVT1VTX1BSRUZJWF9BTFRTXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiVE9PX01BTllfQUxUU1wiXSA9IDEyXSA9IFwiVE9PX01BTllfQUxUU1wiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkNVU1RPTV9MT09LQUhFQURfVkFMSURBVElPTlwiXSA9IDEzXSA9IFwiQ1VTVE9NX0xPT0tBSEVBRF9WQUxJREFUSU9OXCI7XG59KShQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlIHx8IChQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiBFTVBUWV9BTFQodmFsdWUgPSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbn1cbmV4cG9ydCBjbGFzcyBQYXJzZXIge1xuICAgIC8qKlxuICAgICAqICBAZGVwcmVjYXRlZCB1c2UgdGhlICoqaW5zdGFuY2UqKiBtZXRob2Qgd2l0aCB0aGUgc2FtZSBuYW1lIGluc3RlYWRcbiAgICAgKi9cbiAgICBzdGF0aWMgcGVyZm9ybVNlbGZBbmFseXNpcyhwYXJzZXJJbnN0YW5jZSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlRoZSAqKnN0YXRpYyoqIGBwZXJmb3JtU2VsZkFuYWx5c2lzYCBtZXRob2QgaGFzIGJlZW4gZGVwcmVjYXRlZC5cIiArXG4gICAgICAgICAgICBcIlxcdFxcblVzZSB0aGUgKippbnN0YW5jZSoqIG1ldGhvZCB3aXRoIHRoZSBzYW1lIG5hbWUgaW5zdGVhZC5cIik7XG4gICAgfVxuICAgIHBlcmZvcm1TZWxmQW5hbHlzaXMoKSB7XG4gICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcInBlcmZvcm1TZWxmQW5hbHlzaXNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGRlZkVycm9yc01zZ3M7XG4gICAgICAgICAgICB0aGlzLnNlbGZBbmFseXNpc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWU7XG4gICAgICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJ0b0Zhc3RQcm9wc1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gV2l0aG91dCB0aGlzIHZvb2RvbyBtYWdpYyB0aGUgcGFyc2VyIHdvdWxkIGJlIHgzLXg0IHNsb3dlclxuICAgICAgICAgICAgICAgIC8vIEl0IHNlZW1zIGl0IGlzIGJldHRlciB0byBpbnZva2UgYHRvRmFzdFByb3BlcnRpZXNgICoqYmVmb3JlKipcbiAgICAgICAgICAgICAgICAvLyBBbnkgbWFuaXB1bGF0aW9ucyBvZiB0aGUgYHRoaXNgIG9iamVjdCBkb25lIGR1cmluZyB0aGUgcmVjb3JkaW5nIHBoYXNlLlxuICAgICAgICAgICAgICAgIHRvRmFzdFByb3BlcnRpZXModGhpcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcIkdyYW1tYXIgUmVjb3JkaW5nXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZVJlY29yZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAvLyBCdWlsZGluZyB0aGUgR0FTVFxuICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKHRoaXMuZGVmaW5lZFJ1bGVzTmFtZXMsIChjdXJyUnVsZU5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRSdWxlID0gdGhpc1tjdXJyUnVsZU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxHcmFtbWFyQWN0aW9uID0gd3JhcHBlZFJ1bGVbXCJvcmlnaW5hbEdyYW1tYXJBY3Rpb25cIl07XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVjb3JkZWRSdWxlR2FzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChgJHtjdXJyUnVsZU5hbWV9IFJ1bGVgLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkZWRSdWxlR2FzdCA9IHRoaXMudG9wTGV2ZWxSdWxlUmVjb3JkKGN1cnJSdWxlTmFtZSwgb3JpZ2luYWxHcmFtbWFyQWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZVtjdXJyUnVsZU5hbWVdID0gcmVjb3JkZWRSdWxlR2FzdDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCByZXNvbHZlckVycm9ycyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwiR3JhbW1hciBSZXNvbHZpbmdcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmVyRXJyb3JzID0gcmVzb2x2ZUdyYW1tYXIoe1xuICAgICAgICAgICAgICAgICAgICBydWxlczogdmFsdWVzKHRoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGUpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5pdGlvbkVycm9ycyA9IHRoaXMuZGVmaW5pdGlvbkVycm9ycy5jb25jYXQocmVzb2x2ZXJFcnJvcnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJHcmFtbWFyIFZhbGlkYXRpb25zXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBvbmx5IHBlcmZvcm0gYWRkaXRpb25hbCBncmFtbWFyIHZhbGlkYXRpb25zIElGRiBubyByZXNvbHZpbmcgZXJyb3JzIGhhdmUgb2NjdXJyZWQuXG4gICAgICAgICAgICAgICAgLy8gYXMgdW5yZXNvbHZlZCBncmFtbWFyIG1heSBsZWFkIHRvIHVuaGFuZGxlZCBydW50aW1lIGV4Y2VwdGlvbnMgaW4gdGhlIGZvbGxvdyB1cCB2YWxpZGF0aW9ucy5cbiAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eShyZXNvbHZlckVycm9ycykgJiYgdGhpcy5za2lwVmFsaWRhdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25FcnJvcnMgPSB2YWxpZGF0ZUdyYW1tYXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM6IHZhbHVlcyh0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuVHlwZXM6IHZhbHVlcyh0aGlzLnRva2Vuc01hcCksXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJNc2dQcm92aWRlcjogZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhbW1hck5hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvb2thaGVhZFZhbGlkYXRpb25FcnJvcnMgPSB2YWxpZGF0ZUxvb2thaGVhZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb29rYWhlYWRTdHJhdGVneTogdGhpcy5sb29rYWhlYWRTdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzOiB2YWx1ZXModGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlblR5cGVzOiB2YWx1ZXModGhpcy50b2tlbnNNYXApLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhbW1hck5hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5pdGlvbkVycm9ycyA9IHRoaXMuZGVmaW5pdGlvbkVycm9ycy5jb25jYXQodmFsaWRhdGlvbkVycm9ycywgbG9va2FoZWFkVmFsaWRhdGlvbkVycm9ycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB0aGlzIGFuYWx5c2lzIG1heSBmYWlsIGlmIHRoZSBncmFtbWFyIGlzIG5vdCBwZXJmZWN0bHkgdmFsaWRcbiAgICAgICAgICAgIGlmIChpc0VtcHR5KHRoaXMuZGVmaW5pdGlvbkVycm9ycykpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgcmVzdWx0cyBvZiB0aGVzZSBjb21wdXRhdGlvbnMgYXJlIG5vdCBuZWVkZWQgdW5sZXNzIGVycm9yIHJlY292ZXJ5IGlzIGVuYWJsZWQuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVjb3ZlcnlFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcImNvbXB1dGVBbGxQcm9kc0ZvbGxvd3NcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsRm9sbG93cyA9IGNvbXB1dGVBbGxQcm9kc0ZvbGxvd3ModmFsdWVzKHRoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzeW5jRm9sbG93cyA9IGFsbEZvbGxvd3M7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJDb21wdXRlTG9va2FoZWFkRnVuY3Rpb25zXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy5sb29rYWhlYWRTdHJhdGVneSkuaW5pdGlhbGl6ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzOiB2YWx1ZXModGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZUNvbXB1dGVMb29rYWhlYWRGdW5jdGlvbnModmFsdWVzKHRoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGUpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghUGFyc2VyLkRFRkVSX0RFRklOSVRJT05fRVJST1JTX0hBTkRMSU5HICYmXG4gICAgICAgICAgICAgICAgIWlzRW1wdHkodGhpcy5kZWZpbml0aW9uRXJyb3JzKSkge1xuICAgICAgICAgICAgICAgIGRlZkVycm9yc01zZ3MgPSBtYXAodGhpcy5kZWZpbml0aW9uRXJyb3JzLCAoZGVmRXJyb3IpID0+IGRlZkVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUGFyc2VyIERlZmluaXRpb24gRXJyb3JzIGRldGVjdGVkOlxcbiAke2RlZkVycm9yc01zZ3Muam9pbihcIlxcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cIil9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0b2tlblZvY2FidWxhcnksIGNvbmZpZykge1xuICAgICAgICB0aGlzLmRlZmluaXRpb25FcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5zZWxmQW5hbHlzaXNEb25lID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgICAgICB0aGF0LmluaXRFcnJvckhhbmRsZXIoY29uZmlnKTtcbiAgICAgICAgdGhhdC5pbml0TGV4ZXJBZGFwdGVyKCk7XG4gICAgICAgIHRoYXQuaW5pdExvb2tzQWhlYWQoY29uZmlnKTtcbiAgICAgICAgdGhhdC5pbml0UmVjb2duaXplckVuZ2luZSh0b2tlblZvY2FidWxhcnksIGNvbmZpZyk7XG4gICAgICAgIHRoYXQuaW5pdFJlY292ZXJhYmxlKGNvbmZpZyk7XG4gICAgICAgIHRoYXQuaW5pdFRyZWVCdWlsZGVyKGNvbmZpZyk7XG4gICAgICAgIHRoYXQuaW5pdENvbnRlbnRBc3Npc3QoKTtcbiAgICAgICAgdGhhdC5pbml0R2FzdFJlY29yZGVyKGNvbmZpZyk7XG4gICAgICAgIHRoYXQuaW5pdFBlcmZvcm1hbmNlVHJhY2VyKGNvbmZpZyk7XG4gICAgICAgIGlmIChoYXMoY29uZmlnLCBcImlnbm9yZWRJc3N1ZXNcIikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSA8aWdub3JlZElzc3Vlcz4gSVBhcnNlckNvbmZpZyBwcm9wZXJ0eSBoYXMgYmVlbiBkZXByZWNhdGVkLlxcblxcdFwiICtcbiAgICAgICAgICAgICAgICBcIlBsZWFzZSB1c2UgdGhlIDxJR05PUkVfQU1CSUdVSVRJRVM+IGZsYWcgb24gdGhlIHJlbGV2YW50IERTTCBtZXRob2QgaW5zdGVhZC5cXG5cXHRcIiArXG4gICAgICAgICAgICAgICAgXCJTZWU6IGh0dHBzOi8vY2hldnJvdGFpbi5pby9kb2NzL2d1aWRlL3Jlc29sdmluZ19ncmFtbWFyX2Vycm9ycy5odG1sI0lHTk9SSU5HX0FNQklHVUlUSUVTXFxuXFx0XCIgK1xuICAgICAgICAgICAgICAgIFwiRm9yIGZ1cnRoZXIgZGV0YWlscy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5za2lwVmFsaWRhdGlvbnMgPSBoYXMoY29uZmlnLCBcInNraXBWYWxpZGF0aW9uc1wiKVxuICAgICAgICAgICAgPyBjb25maWcuc2tpcFZhbGlkYXRpb25zIC8vIGNhc3RpbmcgYXNzdW1lcyB0aGUgZW5kIHVzZXIgcGFzc2luZyB0aGUgY29ycmVjdCB0eXBlXG4gICAgICAgICAgICA6IERFRkFVTFRfUEFSU0VSX0NPTkZJRy5za2lwVmFsaWRhdGlvbnM7XG4gICAgfVxufVxuLy8gU2V0IHRoaXMgZmxhZyB0byB0cnVlIGlmIHlvdSBkb24ndCB3YW50IHRoZSBQYXJzZXIgdG8gdGhyb3cgZXJyb3Igd2hlbiBwcm9ibGVtcyBpbiBpdCdzIGRlZmluaXRpb24gYXJlIGRldGVjdGVkLlxuLy8gKG5vcm1hbGx5IGR1cmluZyB0aGUgcGFyc2VyJ3MgY29uc3RydWN0b3IpLlxuLy8gVGhpcyBpcyBhIGRlc2lnbiB0aW1lIGZsYWcsIGl0IHdpbGwgbm90IGFmZmVjdCB0aGUgcnVudGltZSBlcnJvciBoYW5kbGluZyBvZiB0aGUgcGFyc2VyLCBqdXN0IGRlc2lnbiB0aW1lIGVycm9ycyxcbi8vIGZvciBleGFtcGxlOiBkdXBsaWNhdGUgcnVsZSBuYW1lcywgcmVmZXJlbmNpbmcgYW4gdW5yZXNvbHZlZCBzdWJydWxlLCBlY3QuLi5cbi8vIFRoaXMgZmxhZyBzaG91bGQgbm90IGJlIGVuYWJsZWQgZHVyaW5nIG5vcm1hbCB1c2FnZSwgaXQgaXMgdXNlZCBpbiBzcGVjaWFsIHNpdHVhdGlvbnMsIGZvciBleGFtcGxlIHdoZW5cbi8vIG5lZWRpbmcgdG8gZGlzcGxheSB0aGUgcGFyc2VyIGRlZmluaXRpb24gZXJyb3JzIGluIHNvbWUgR1VJKG9ubGluZSBwbGF5Z3JvdW5kKS5cblBhcnNlci5ERUZFUl9ERUZJTklUSU9OX0VSUk9SU19IQU5ETElORyA9IGZhbHNlO1xuYXBwbHlNaXhpbnMoUGFyc2VyLCBbXG4gICAgUmVjb3ZlcmFibGUsXG4gICAgTG9va3NBaGVhZCxcbiAgICBUcmVlQnVpbGRlcixcbiAgICBMZXhlckFkYXB0ZXIsXG4gICAgUmVjb2duaXplckVuZ2luZSxcbiAgICBSZWNvZ25pemVyQXBpLFxuICAgIEVycm9ySGFuZGxlcixcbiAgICBDb250ZW50QXNzaXN0LFxuICAgIEdhc3RSZWNvcmRlcixcbiAgICBQZXJmb3JtYW5jZVRyYWNlcixcbl0pO1xuZXhwb3J0IGNsYXNzIENzdFBhcnNlciBleHRlbmRzIFBhcnNlciB7XG4gICAgY29uc3RydWN0b3IodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcgPSBERUZBVUxUX1BBUlNFUl9DT05GSUcpIHtcbiAgICAgICAgY29uc3QgY29uZmlnQ2xvbmUgPSBjbG9uZShjb25maWcpO1xuICAgICAgICBjb25maWdDbG9uZS5vdXRwdXRDc3QgPSB0cnVlO1xuICAgICAgICBzdXBlcih0b2tlblZvY2FidWxhcnksIGNvbmZpZ0Nsb25lKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRW1iZWRkZWRBY3Rpb25zUGFyc2VyIGV4dGVuZHMgUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih0b2tlblZvY2FidWxhcnksIGNvbmZpZyA9IERFRkFVTFRfUEFSU0VSX0NPTkZJRykge1xuICAgICAgICBjb25zdCBjb25maWdDbG9uZSA9IGNsb25lKGNvbmZpZyk7XG4gICAgICAgIGNvbmZpZ0Nsb25lLm91dHB1dENzdCA9IGZhbHNlO1xuICAgICAgICBzdXBlcih0b2tlblZvY2FidWxhcnksIGNvbmZpZ0Nsb25lKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/context_assist.js":
/*!*********************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/context_assist.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContentAssist: () => (/* binding */ ContentAssist)\n/* harmony export */ });\n/* harmony import */ var _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../grammar/interpreter.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/interpreter.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isUndefined.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/head.js\");\n\n\nclass ContentAssist {\n    initContentAssist() { }\n    computeContentAssist(startRuleName, precedingInput) {\n        const startRuleGast = this.gastProductionsCache[startRuleName];\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(startRuleGast)) {\n            throw Error(`Rule ->${startRuleName}<- does not exist in this grammar.`);\n        }\n        return (0,_grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_0__.nextPossibleTokensAfter)([startRuleGast], precedingInput, this.tokenMatcher, this.maxLookahead);\n    }\n    // TODO: should this be a member method or a utility? it does not have any state or usage of 'this'...\n    // TODO: should this be more explicitly part of the public API?\n    getNextPossibleTokenTypes(grammarPath) {\n        const topRuleName = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(grammarPath.ruleStack);\n        const gastProductions = this.getGAstProductions();\n        const topProduction = gastProductions[topRuleName];\n        const nextPossibleTokenTypes = new _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_0__.NextAfterTokenWalker(topProduction, grammarPath).startWalking();\n        return nextPossibleTokenTypes;\n    }\n}\n//# sourceMappingURL=context_assist.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9jb250ZXh0X2Fzc2lzdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQThGO0FBQy9DO0FBQ3hDO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBVztBQUN2QixrQ0FBa0MsY0FBYztBQUNoRDtBQUNBLGVBQWUsZ0ZBQXVCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFEQUFLO0FBQ2pDO0FBQ0E7QUFDQSwyQ0FBMkMseUVBQW9CO0FBQy9EO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZXRoYW5raW0vTmVzdG9yL21lZGZldGNoLmpzL25vZGVfbW9kdWxlcy8ucG5wbS9jaGV2cm90YWluQDExLjAuMy9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvY29udGV4dF9hc3Npc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFmdGVyVG9rZW5XYWxrZXIsIG5leHRQb3NzaWJsZVRva2Vuc0FmdGVyLCB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2ludGVycHJldGVyLmpzXCI7XG5pbXBvcnQgeyBmaXJzdCwgaXNVbmRlZmluZWQgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5leHBvcnQgY2xhc3MgQ29udGVudEFzc2lzdCB7XG4gICAgaW5pdENvbnRlbnRBc3Npc3QoKSB7IH1cbiAgICBjb21wdXRlQ29udGVudEFzc2lzdChzdGFydFJ1bGVOYW1lLCBwcmVjZWRpbmdJbnB1dCkge1xuICAgICAgICBjb25zdCBzdGFydFJ1bGVHYXN0ID0gdGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZVtzdGFydFJ1bGVOYW1lXTtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHN0YXJ0UnVsZUdhc3QpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgUnVsZSAtPiR7c3RhcnRSdWxlTmFtZX08LSBkb2VzIG5vdCBleGlzdCBpbiB0aGlzIGdyYW1tYXIuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHRQb3NzaWJsZVRva2Vuc0FmdGVyKFtzdGFydFJ1bGVHYXN0XSwgcHJlY2VkaW5nSW5wdXQsIHRoaXMudG9rZW5NYXRjaGVyLCB0aGlzLm1heExvb2thaGVhZCk7XG4gICAgfVxuICAgIC8vIFRPRE86IHNob3VsZCB0aGlzIGJlIGEgbWVtYmVyIG1ldGhvZCBvciBhIHV0aWxpdHk/IGl0IGRvZXMgbm90IGhhdmUgYW55IHN0YXRlIG9yIHVzYWdlIG9mICd0aGlzJy4uLlxuICAgIC8vIFRPRE86IHNob3VsZCB0aGlzIGJlIG1vcmUgZXhwbGljaXRseSBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJP1xuICAgIGdldE5leHRQb3NzaWJsZVRva2VuVHlwZXMoZ3JhbW1hclBhdGgpIHtcbiAgICAgICAgY29uc3QgdG9wUnVsZU5hbWUgPSBmaXJzdChncmFtbWFyUGF0aC5ydWxlU3RhY2spO1xuICAgICAgICBjb25zdCBnYXN0UHJvZHVjdGlvbnMgPSB0aGlzLmdldEdBc3RQcm9kdWN0aW9ucygpO1xuICAgICAgICBjb25zdCB0b3BQcm9kdWN0aW9uID0gZ2FzdFByb2R1Y3Rpb25zW3RvcFJ1bGVOYW1lXTtcbiAgICAgICAgY29uc3QgbmV4dFBvc3NpYmxlVG9rZW5UeXBlcyA9IG5ldyBOZXh0QWZ0ZXJUb2tlbldhbGtlcih0b3BQcm9kdWN0aW9uLCBncmFtbWFyUGF0aCkuc3RhcnRXYWxraW5nKCk7XG4gICAgICAgIHJldHVybiBuZXh0UG9zc2libGVUb2tlblR5cGVzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHRfYXNzaXN0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/context_assist.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/error_handler.js":
/*!********************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/error_handler.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorHandler: () => (/* binding */ ErrorHandler)\n/* harmony export */ });\n/* harmony import */ var _exceptions_public_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../exceptions_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/exceptions_public.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/clone.js\");\n/* harmony import */ var _grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../grammar/lookahead.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/lookahead.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n\n\n\n\n/**\n * Trait responsible for runtime parsing errors.\n */\nclass ErrorHandler {\n    initErrorHandler(config) {\n        this._errors = [];\n        this.errorMessageProvider = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(config, \"errorMessageProvider\")\n            ? config.errorMessageProvider // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_PARSER_CONFIG.errorMessageProvider;\n    }\n    SAVE_ERROR(error) {\n        if ((0,_exceptions_public_js__WEBPACK_IMPORTED_MODULE_0__.isRecognitionException)(error)) {\n            error.context = {\n                ruleStack: this.getHumanReadableRuleStack(),\n                ruleOccurrenceStack: (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.RULE_OCCURRENCE_STACK),\n            };\n            this._errors.push(error);\n            return error;\n        }\n        else {\n            throw Error(\"Trying to save an Error which is not a RecognitionException\");\n        }\n    }\n    get errors() {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this._errors);\n    }\n    set errors(newErrors) {\n        this._errors = newErrors;\n    }\n    // TODO: consider caching the error message computed information\n    raiseEarlyExitException(occurrence, prodType, userDefinedErrMsg) {\n        const ruleName = this.getCurrRuleFullName();\n        const ruleGrammar = this.getGAstProductions()[ruleName];\n        const lookAheadPathsPerAlternative = (0,_grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_1__.getLookaheadPathsForOptionalProd)(occurrence, ruleGrammar, prodType, this.maxLookahead);\n        const insideProdPaths = lookAheadPathsPerAlternative[0];\n        const actualTokens = [];\n        for (let i = 1; i <= this.maxLookahead; i++) {\n            actualTokens.push(this.LA(i));\n        }\n        const msg = this.errorMessageProvider.buildEarlyExitMessage({\n            expectedIterationPaths: insideProdPaths,\n            actual: actualTokens,\n            previous: this.LA(0),\n            customUserDescription: userDefinedErrMsg,\n            ruleName: ruleName,\n        });\n        throw this.SAVE_ERROR(new _exceptions_public_js__WEBPACK_IMPORTED_MODULE_0__.EarlyExitException(msg, this.LA(1), this.LA(0)));\n    }\n    // TODO: consider caching the error message computed information\n    raiseNoAltException(occurrence, errMsgTypes) {\n        const ruleName = this.getCurrRuleFullName();\n        const ruleGrammar = this.getGAstProductions()[ruleName];\n        // TODO: getLookaheadPathsForOr can be slow for large enough maxLookahead and certain grammars, consider caching ?\n        const lookAheadPathsPerAlternative = (0,_grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_1__.getLookaheadPathsForOr)(occurrence, ruleGrammar, this.maxLookahead);\n        const actualTokens = [];\n        for (let i = 1; i <= this.maxLookahead; i++) {\n            actualTokens.push(this.LA(i));\n        }\n        const previousToken = this.LA(0);\n        const errMsg = this.errorMessageProvider.buildNoViableAltMessage({\n            expectedPathsPerAlt: lookAheadPathsPerAlternative,\n            actual: actualTokens,\n            previous: previousToken,\n            customUserDescription: errMsgTypes,\n            ruleName: this.getCurrRuleFullName(),\n        });\n        throw this.SAVE_ERROR(new _exceptions_public_js__WEBPACK_IMPORTED_MODULE_0__.NoViableAltException(errMsg, this.LA(1), previousToken));\n    }\n}\n//# sourceMappingURL=error_handler.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9lcnJvcl9oYW5kbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUErRztBQUN4RTtBQUNnRTtBQUNsRDtBQUNyRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxvQ0FBb0MscURBQUc7QUFDdkM7QUFDQSxjQUFjLDZEQUFxQjtBQUNuQztBQUNBO0FBQ0EsWUFBWSw2RUFBc0I7QUFDbEM7QUFDQTtBQUNBLHFDQUFxQyxxREFBSztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFEQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsdUZBQWdDO0FBQzdFO0FBQ0E7QUFDQSx3QkFBd0Isd0JBQXdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsa0NBQWtDLHFFQUFrQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsNkVBQXNCO0FBQ25FO0FBQ0Esd0JBQXdCLHdCQUF3QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsa0NBQWtDLHVFQUFvQjtBQUN0RDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9lcnJvcl9oYW5kbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVhcmx5RXhpdEV4Y2VwdGlvbiwgaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbiwgTm9WaWFibGVBbHRFeGNlcHRpb24sIH0gZnJvbSBcIi4uLy4uL2V4Y2VwdGlvbnNfcHVibGljLmpzXCI7XG5pbXBvcnQgeyBjbG9uZSwgaGFzIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2QsIGdldExvb2thaGVhZFBhdGhzRm9yT3IsIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIvbG9va2FoZWFkLmpzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BBUlNFUl9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyLmpzXCI7XG4vKipcbiAqIFRyYWl0IHJlc3BvbnNpYmxlIGZvciBydW50aW1lIHBhcnNpbmcgZXJyb3JzLlxuICovXG5leHBvcnQgY2xhc3MgRXJyb3JIYW5kbGVyIHtcbiAgICBpbml0RXJyb3JIYW5kbGVyKGNvbmZpZykge1xuICAgICAgICB0aGlzLl9lcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2VQcm92aWRlciA9IGhhcyhjb25maWcsIFwiZXJyb3JNZXNzYWdlUHJvdmlkZXJcIilcbiAgICAgICAgICAgID8gY29uZmlnLmVycm9yTWVzc2FnZVByb3ZpZGVyIC8vIGFzc3VtZXMgZW5kIHVzZXIgcHJvdmlkZXMgdGhlIGNvcnJlY3QgY29uZmlnIHZhbHVlL3R5cGVcbiAgICAgICAgICAgIDogREVGQVVMVF9QQVJTRVJfQ09ORklHLmVycm9yTWVzc2FnZVByb3ZpZGVyO1xuICAgIH1cbiAgICBTQVZFX0VSUk9SKGVycm9yKSB7XG4gICAgICAgIGlmIChpc1JlY29nbml0aW9uRXhjZXB0aW9uKGVycm9yKSkge1xuICAgICAgICAgICAgZXJyb3IuY29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IHRoaXMuZ2V0SHVtYW5SZWFkYWJsZVJ1bGVTdGFjaygpLFxuICAgICAgICAgICAgICAgIHJ1bGVPY2N1cnJlbmNlU3RhY2s6IGNsb25lKHRoaXMuUlVMRV9PQ0NVUlJFTkNFX1NUQUNLKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9lcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRyeWluZyB0byBzYXZlIGFuIEVycm9yIHdoaWNoIGlzIG5vdCBhIFJlY29nbml0aW9uRXhjZXB0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBlcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiBjbG9uZSh0aGlzLl9lcnJvcnMpO1xuICAgIH1cbiAgICBzZXQgZXJyb3JzKG5ld0Vycm9ycykge1xuICAgICAgICB0aGlzLl9lcnJvcnMgPSBuZXdFcnJvcnM7XG4gICAgfVxuICAgIC8vIFRPRE86IGNvbnNpZGVyIGNhY2hpbmcgdGhlIGVycm9yIG1lc3NhZ2UgY29tcHV0ZWQgaW5mb3JtYXRpb25cbiAgICByYWlzZUVhcmx5RXhpdEV4Y2VwdGlvbihvY2N1cnJlbmNlLCBwcm9kVHlwZSwgdXNlckRlZmluZWRFcnJNc2cpIHtcbiAgICAgICAgY29uc3QgcnVsZU5hbWUgPSB0aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKTtcbiAgICAgICAgY29uc3QgcnVsZUdyYW1tYXIgPSB0aGlzLmdldEdBc3RQcm9kdWN0aW9ucygpW3J1bGVOYW1lXTtcbiAgICAgICAgY29uc3QgbG9va0FoZWFkUGF0aHNQZXJBbHRlcm5hdGl2ZSA9IGdldExvb2thaGVhZFBhdGhzRm9yT3B0aW9uYWxQcm9kKG9jY3VycmVuY2UsIHJ1bGVHcmFtbWFyLCBwcm9kVHlwZSwgdGhpcy5tYXhMb29rYWhlYWQpO1xuICAgICAgICBjb25zdCBpbnNpZGVQcm9kUGF0aHMgPSBsb29rQWhlYWRQYXRoc1BlckFsdGVybmF0aXZlWzBdO1xuICAgICAgICBjb25zdCBhY3R1YWxUb2tlbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdGhpcy5tYXhMb29rYWhlYWQ7IGkrKykge1xuICAgICAgICAgICAgYWN0dWFsVG9rZW5zLnB1c2godGhpcy5MQShpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbXNnID0gdGhpcy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZEVhcmx5RXhpdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgZXhwZWN0ZWRJdGVyYXRpb25QYXRoczogaW5zaWRlUHJvZFBhdGhzLFxuICAgICAgICAgICAgYWN0dWFsOiBhY3R1YWxUb2tlbnMsXG4gICAgICAgICAgICBwcmV2aW91czogdGhpcy5MQSgwKSxcbiAgICAgICAgICAgIGN1c3RvbVVzZXJEZXNjcmlwdGlvbjogdXNlckRlZmluZWRFcnJNc2csXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZU5hbWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyB0aGlzLlNBVkVfRVJST1IobmV3IEVhcmx5RXhpdEV4Y2VwdGlvbihtc2csIHRoaXMuTEEoMSksIHRoaXMuTEEoMCkpKTtcbiAgICB9XG4gICAgLy8gVE9ETzogY29uc2lkZXIgY2FjaGluZyB0aGUgZXJyb3IgbWVzc2FnZSBjb21wdXRlZCBpbmZvcm1hdGlvblxuICAgIHJhaXNlTm9BbHRFeGNlcHRpb24ob2NjdXJyZW5jZSwgZXJyTXNnVHlwZXMpIHtcbiAgICAgICAgY29uc3QgcnVsZU5hbWUgPSB0aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKTtcbiAgICAgICAgY29uc3QgcnVsZUdyYW1tYXIgPSB0aGlzLmdldEdBc3RQcm9kdWN0aW9ucygpW3J1bGVOYW1lXTtcbiAgICAgICAgLy8gVE9ETzogZ2V0TG9va2FoZWFkUGF0aHNGb3JPciBjYW4gYmUgc2xvdyBmb3IgbGFyZ2UgZW5vdWdoIG1heExvb2thaGVhZCBhbmQgY2VydGFpbiBncmFtbWFycywgY29uc2lkZXIgY2FjaGluZyA/XG4gICAgICAgIGNvbnN0IGxvb2tBaGVhZFBhdGhzUGVyQWx0ZXJuYXRpdmUgPSBnZXRMb29rYWhlYWRQYXRoc0Zvck9yKG9jY3VycmVuY2UsIHJ1bGVHcmFtbWFyLCB0aGlzLm1heExvb2thaGVhZCk7XG4gICAgICAgIGNvbnN0IGFjdHVhbFRva2VucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0aGlzLm1heExvb2thaGVhZDsgaSsrKSB7XG4gICAgICAgICAgICBhY3R1YWxUb2tlbnMucHVzaCh0aGlzLkxBKGkpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2aW91c1Rva2VuID0gdGhpcy5MQSgwKTtcbiAgICAgICAgY29uc3QgZXJyTXNnID0gdGhpcy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZE5vVmlhYmxlQWx0TWVzc2FnZSh7XG4gICAgICAgICAgICBleHBlY3RlZFBhdGhzUGVyQWx0OiBsb29rQWhlYWRQYXRoc1BlckFsdGVybmF0aXZlLFxuICAgICAgICAgICAgYWN0dWFsOiBhY3R1YWxUb2tlbnMsXG4gICAgICAgICAgICBwcmV2aW91czogcHJldmlvdXNUb2tlbixcbiAgICAgICAgICAgIGN1c3RvbVVzZXJEZXNjcmlwdGlvbjogZXJyTXNnVHlwZXMsXG4gICAgICAgICAgICBydWxlTmFtZTogdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKCksXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyB0aGlzLlNBVkVfRVJST1IobmV3IE5vVmlhYmxlQWx0RXhjZXB0aW9uKGVyck1zZywgdGhpcy5MQSgxKSwgcHJldmlvdXNUb2tlbikpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yX2hhbmRsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/error_handler.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/gast_recorder.js":
/*!********************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/gast_recorder.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GastRecorder: () => (/* binding */ GastRecorder)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/last.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isFunction.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/some.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/api.js\");\n/* harmony import */ var _scan_lexer_public_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../scan/lexer_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_public.js\");\n/* harmony import */ var _scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../scan/tokens.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens.js\");\n/* harmony import */ var _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../scan/tokens_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens_public.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _grammar_keys_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../grammar/keys.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/keys.js\");\n\n\n\n\n\n\n\nconst RECORDING_NULL_OBJECT = {\n    description: \"This Object indicates the Parser is during Recording Phase\",\n};\nObject.freeze(RECORDING_NULL_OBJECT);\nconst HANDLE_SEPARATOR = true;\nconst MAX_METHOD_IDX = Math.pow(2, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_5__.BITS_FOR_OCCURRENCE_IDX) - 1;\nconst RFT = (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.createToken)({ name: \"RECORDING_PHASE_TOKEN\", pattern: _scan_lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.NA });\n(0,_scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__.augmentTokenTypes)([RFT]);\nconst RECORDING_PHASE_TOKEN = (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.createTokenInstance)(RFT, \"This IToken indicates the Parser is in Recording Phase\\n\\t\" +\n    \"\" +\n    \"See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details\", \n// Using \"-1\" instead of NaN (as in EOF) because an actual number is less likely to\n// cause errors if the output of LA or CONSUME would be (incorrectly) used during the recording phase.\n-1, -1, -1, -1, -1, -1);\nObject.freeze(RECORDING_PHASE_TOKEN);\nconst RECORDING_PHASE_CSTNODE = {\n    name: \"This CSTNode indicates the Parser is in Recording Phase\\n\\t\" +\n        \"See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details\",\n    children: {},\n};\n/**\n * This trait handles the creation of the GAST structure for Chevrotain Grammars\n */\nclass GastRecorder {\n    initGastRecorder(config) {\n        this.recordingProdStack = [];\n        this.RECORDING_PHASE = false;\n    }\n    enableRecording() {\n        this.RECORDING_PHASE = true;\n        this.TRACE_INIT(\"Enable Recording\", () => {\n            /**\n             * Warning Dark Voodoo Magic upcoming!\n             * We are \"replacing\" the public parsing DSL methods API\n             * With **new** alternative implementations on the Parser **instance**\n             *\n             * So far this is the only way I've found to avoid performance regressions during parsing time.\n             * - Approx 30% performance regression was measured on Chrome 75 Canary when attempting to replace the \"internal\"\n             *   implementations directly instead.\n             */\n            for (let i = 0; i < 10; i++) {\n                const idx = i > 0 ? i : \"\";\n                this[`CONSUME${idx}`] = function (arg1, arg2) {\n                    return this.consumeInternalRecord(arg1, i, arg2);\n                };\n                this[`SUBRULE${idx}`] = function (arg1, arg2) {\n                    return this.subruleInternalRecord(arg1, i, arg2);\n                };\n                this[`OPTION${idx}`] = function (arg1) {\n                    return this.optionInternalRecord(arg1, i);\n                };\n                this[`OR${idx}`] = function (arg1) {\n                    return this.orInternalRecord(arg1, i);\n                };\n                this[`MANY${idx}`] = function (arg1) {\n                    this.manyInternalRecord(i, arg1);\n                };\n                this[`MANY_SEP${idx}`] = function (arg1) {\n                    this.manySepFirstInternalRecord(i, arg1);\n                };\n                this[`AT_LEAST_ONE${idx}`] = function (arg1) {\n                    this.atLeastOneInternalRecord(i, arg1);\n                };\n                this[`AT_LEAST_ONE_SEP${idx}`] = function (arg1) {\n                    this.atLeastOneSepFirstInternalRecord(i, arg1);\n                };\n            }\n            // DSL methods with the idx(suffix) as an argument\n            this[`consume`] = function (idx, arg1, arg2) {\n                return this.consumeInternalRecord(arg1, idx, arg2);\n            };\n            this[`subrule`] = function (idx, arg1, arg2) {\n                return this.subruleInternalRecord(arg1, idx, arg2);\n            };\n            this[`option`] = function (idx, arg1) {\n                return this.optionInternalRecord(arg1, idx);\n            };\n            this[`or`] = function (idx, arg1) {\n                return this.orInternalRecord(arg1, idx);\n            };\n            this[`many`] = function (idx, arg1) {\n                this.manyInternalRecord(idx, arg1);\n            };\n            this[`atLeastOne`] = function (idx, arg1) {\n                this.atLeastOneInternalRecord(idx, arg1);\n            };\n            this.ACTION = this.ACTION_RECORD;\n            this.BACKTRACK = this.BACKTRACK_RECORD;\n            this.LA = this.LA_RECORD;\n        });\n    }\n    disableRecording() {\n        this.RECORDING_PHASE = false;\n        // By deleting these **instance** properties, any future invocation\n        // will be deferred to the original methods on the **prototype** object\n        // This seems to get rid of any incorrect optimizations that V8 may\n        // do during the recording phase.\n        this.TRACE_INIT(\"Deleting Recording methods\", () => {\n            const that = this;\n            for (let i = 0; i < 10; i++) {\n                const idx = i > 0 ? i : \"\";\n                delete that[`CONSUME${idx}`];\n                delete that[`SUBRULE${idx}`];\n                delete that[`OPTION${idx}`];\n                delete that[`OR${idx}`];\n                delete that[`MANY${idx}`];\n                delete that[`MANY_SEP${idx}`];\n                delete that[`AT_LEAST_ONE${idx}`];\n                delete that[`AT_LEAST_ONE_SEP${idx}`];\n            }\n            delete that[`consume`];\n            delete that[`subrule`];\n            delete that[`option`];\n            delete that[`or`];\n            delete that[`many`];\n            delete that[`atLeastOne`];\n            delete that.ACTION;\n            delete that.BACKTRACK;\n            delete that.LA;\n        });\n    }\n    //   Parser methods are called inside an ACTION?\n    //   Maybe try/catch/finally on ACTIONS while disabling the recorders state changes?\n    // @ts-expect-error -- noop place holder\n    ACTION_RECORD(impl) {\n        // NO-OP during recording\n    }\n    // Executing backtracking logic will break our recording logic assumptions\n    BACKTRACK_RECORD(grammarRule, args) {\n        return () => true;\n    }\n    // LA is part of the official API and may be used for custom lookahead logic\n    // by end users who may forget to wrap it in ACTION or inside a GATE\n    LA_RECORD(howMuch) {\n        // We cannot use the RECORD_PHASE_TOKEN here because someone may depend\n        // On LA return EOF at the end of the input so an infinite loop may occur.\n        return _parser_js__WEBPACK_IMPORTED_MODULE_4__.END_OF_FILE;\n    }\n    topLevelRuleRecord(name, def) {\n        try {\n            const newTopLevelRule = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Rule({ definition: [], name: name });\n            newTopLevelRule.name = name;\n            this.recordingProdStack.push(newTopLevelRule);\n            def.call(this);\n            this.recordingProdStack.pop();\n            return newTopLevelRule;\n        }\n        catch (originalError) {\n            if (originalError.KNOWN_RECORDER_ERROR !== true) {\n                try {\n                    originalError.message =\n                        originalError.message +\n                            '\\n\\t This error was thrown during the \"grammar recording phase\" For more info see:\\n\\t' +\n                            \"https://chevrotain.io/docs/guide/internals.html#grammar-recording\";\n                }\n                catch (mutabilityError) {\n                    // We may not be able to modify the original error object\n                    throw originalError;\n                }\n            }\n            throw originalError;\n        }\n    }\n    // Implementation of parsing DSL\n    optionInternalRecord(actionORMethodDef, occurrence) {\n        return recordProd.call(this, _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Option, actionORMethodDef, occurrence);\n    }\n    atLeastOneInternalRecord(occurrence, actionORMethodDef) {\n        recordProd.call(this, _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.RepetitionMandatory, actionORMethodDef, occurrence);\n    }\n    atLeastOneSepFirstInternalRecord(occurrence, options) {\n        recordProd.call(this, _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.RepetitionMandatoryWithSeparator, options, occurrence, HANDLE_SEPARATOR);\n    }\n    manyInternalRecord(occurrence, actionORMethodDef) {\n        recordProd.call(this, _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Repetition, actionORMethodDef, occurrence);\n    }\n    manySepFirstInternalRecord(occurrence, options) {\n        recordProd.call(this, _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.RepetitionWithSeparator, options, occurrence, HANDLE_SEPARATOR);\n    }\n    orInternalRecord(altsOrOpts, occurrence) {\n        return recordOrProd.call(this, altsOrOpts, occurrence);\n    }\n    subruleInternalRecord(ruleToCall, occurrence, options) {\n        assertMethodIdxIsValid(occurrence);\n        if (!ruleToCall || (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ruleToCall, \"ruleName\") === false) {\n            const error = new Error(`<SUBRULE${getIdxSuffix(occurrence)}> argument is invalid` +\n                ` expecting a Parser method reference but got: <${JSON.stringify(ruleToCall)}>` +\n                `\\n inside top level rule: <${this.recordingProdStack[0].name}>`);\n            error.KNOWN_RECORDER_ERROR = true;\n            throw error;\n        }\n        const prevProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.recordingProdStack);\n        const ruleName = ruleToCall.ruleName;\n        const newNoneTerminal = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.NonTerminal({\n            idx: occurrence,\n            nonTerminalName: ruleName,\n            label: options === null || options === void 0 ? void 0 : options.LABEL,\n            // The resolving of the `referencedRule` property will be done once all the Rule's GASTs have been created\n            referencedRule: undefined,\n        });\n        prevProd.definition.push(newNoneTerminal);\n        return this.outputCst\n            ? RECORDING_PHASE_CSTNODE\n            : RECORDING_NULL_OBJECT;\n    }\n    consumeInternalRecord(tokType, occurrence, options) {\n        assertMethodIdxIsValid(occurrence);\n        if (!(0,_scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__.hasShortKeyProperty)(tokType)) {\n            const error = new Error(`<CONSUME${getIdxSuffix(occurrence)}> argument is invalid` +\n                ` expecting a TokenType reference but got: <${JSON.stringify(tokType)}>` +\n                `\\n inside top level rule: <${this.recordingProdStack[0].name}>`);\n            error.KNOWN_RECORDER_ERROR = true;\n            throw error;\n        }\n        const prevProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.recordingProdStack);\n        const newNoneTerminal = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Terminal({\n            idx: occurrence,\n            terminalType: tokType,\n            label: options === null || options === void 0 ? void 0 : options.LABEL,\n        });\n        prevProd.definition.push(newNoneTerminal);\n        return RECORDING_PHASE_TOKEN;\n    }\n}\nfunction recordProd(prodConstructor, mainProdArg, occurrence, handleSep = false) {\n    assertMethodIdxIsValid(occurrence);\n    const prevProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.recordingProdStack);\n    const grammarAction = (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(mainProdArg) ? mainProdArg : mainProdArg.DEF;\n    const newProd = new prodConstructor({ definition: [], idx: occurrence });\n    if (handleSep) {\n        newProd.separator = mainProdArg.SEP;\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(mainProdArg, \"MAX_LOOKAHEAD\")) {\n        newProd.maxLookahead = mainProdArg.MAX_LOOKAHEAD;\n    }\n    this.recordingProdStack.push(newProd);\n    grammarAction.call(this);\n    prevProd.definition.push(newProd);\n    this.recordingProdStack.pop();\n    return RECORDING_NULL_OBJECT;\n}\nfunction recordOrProd(mainProdArg, occurrence) {\n    assertMethodIdxIsValid(occurrence);\n    const prevProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.recordingProdStack);\n    // Only an array of alternatives\n    const hasOptions = (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(mainProdArg) === false;\n    const alts = hasOptions === false ? mainProdArg : mainProdArg.DEF;\n    const newOrProd = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Alternation({\n        definition: [],\n        idx: occurrence,\n        ignoreAmbiguities: hasOptions && mainProdArg.IGNORE_AMBIGUITIES === true,\n    });\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(mainProdArg, \"MAX_LOOKAHEAD\")) {\n        newOrProd.maxLookahead = mainProdArg.MAX_LOOKAHEAD;\n    }\n    const hasPredicates = (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(alts, (currAlt) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currAlt.GATE));\n    newOrProd.hasPredicates = hasPredicates;\n    prevProd.definition.push(newOrProd);\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(alts, (currAlt) => {\n        const currAltFlat = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Alternative({ definition: [] });\n        newOrProd.definition.push(currAltFlat);\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currAlt, \"IGNORE_AMBIGUITIES\")) {\n            currAltFlat.ignoreAmbiguities = currAlt.IGNORE_AMBIGUITIES; // assumes end user provides the correct config value/type\n        }\n        // **implicit** ignoreAmbiguities due to usage of gate\n        else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currAlt, \"GATE\")) {\n            currAltFlat.ignoreAmbiguities = true;\n        }\n        this.recordingProdStack.push(currAltFlat);\n        currAlt.ALT.call(this);\n        this.recordingProdStack.pop();\n    });\n    return RECORDING_NULL_OBJECT;\n}\nfunction getIdxSuffix(idx) {\n    return idx === 0 ? \"\" : `${idx}`;\n}\nfunction assertMethodIdxIsValid(idx) {\n    if (idx < 0 || idx > MAX_METHOD_IDX) {\n        const error = new Error(\n        // The stack trace will contain all the needed details\n        `Invalid DSL Method idx value: <${idx}>\\n\\t` +\n            `Idx value must be a none negative value smaller than ${MAX_METHOD_IDX + 1}`);\n        error.KNOWN_RECORDER_ERROR = true;\n        throw error;\n    }\n}\n//# sourceMappingURL=gast_recorder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9nYXN0X3JlY29yZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBbUY7QUFDMkc7QUFDeEk7QUFDNEI7QUFDQztBQUN4QztBQUNxQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHFFQUF1QjtBQUMxRCxZQUFZLG1FQUFXLEdBQUcsd0NBQXdDLHdEQUFLLEtBQUs7QUFDNUUsa0VBQWlCO0FBQ2pCLDhCQUE4QiwyRUFBbUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixRQUFRO0FBQ3BDO0FBQ0EsK0JBQStCLElBQUk7QUFDbkM7QUFDQTtBQUNBLCtCQUErQixJQUFJO0FBQ25DO0FBQ0E7QUFDQSw4QkFBOEIsSUFBSTtBQUNsQztBQUNBO0FBQ0EsMEJBQTBCLElBQUk7QUFDOUI7QUFDQTtBQUNBLDRCQUE0QixJQUFJO0FBQ2hDO0FBQ0E7QUFDQSxnQ0FBZ0MsSUFBSTtBQUNwQztBQUNBO0FBQ0Esb0NBQW9DLElBQUk7QUFDeEM7QUFDQTtBQUNBLHdDQUF3QyxJQUFJO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixRQUFRO0FBQ3BDO0FBQ0Esc0NBQXNDLElBQUk7QUFDMUMsc0NBQXNDLElBQUk7QUFDMUMscUNBQXFDLElBQUk7QUFDekMsaUNBQWlDLElBQUk7QUFDckMsbUNBQW1DLElBQUk7QUFDdkMsdUNBQXVDLElBQUk7QUFDM0MsMkNBQTJDLElBQUk7QUFDL0MsK0NBQStDLElBQUk7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1EQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxrREFBSSxHQUFHLDRCQUE0QjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsb0RBQU07QUFDM0M7QUFDQTtBQUNBLDhCQUE4QixpRUFBbUI7QUFDakQ7QUFDQTtBQUNBLDhCQUE4Qiw4RUFBZ0M7QUFDOUQ7QUFDQTtBQUNBLDhCQUE4Qix3REFBVTtBQUN4QztBQUNBO0FBQ0EsOEJBQThCLHFFQUF1QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscURBQUc7QUFDOUIsK0NBQStDLHlCQUF5QjtBQUN4RSxrRUFBa0UsMkJBQTJCO0FBQzdGLDhDQUE4QyxnQ0FBZ0M7QUFDOUU7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFEQUFJO0FBQzdCO0FBQ0Esb0NBQW9DLHlEQUFXO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLG9FQUFtQjtBQUNoQywrQ0FBK0MseUJBQXlCO0FBQ3hFLDhEQUE4RCx3QkFBd0I7QUFDdEYsOENBQThDLGdDQUFnQztBQUM5RTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIscURBQUk7QUFDN0Isb0NBQW9DLHNEQUFRO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscURBQUk7QUFDekIsMEJBQTBCLHFEQUFVO0FBQ3BDLDBDQUEwQyxpQ0FBaUM7QUFDM0U7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBRztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFEQUFJO0FBQ3pCO0FBQ0EsdUJBQXVCLHFEQUFPO0FBQzlCO0FBQ0EsMEJBQTBCLHlEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxRQUFRLHFEQUFHO0FBQ1g7QUFDQTtBQUNBLDBCQUEwQixzREFBSSxvQkFBb0IscURBQVU7QUFDNUQ7QUFDQTtBQUNBLElBQUksc0RBQU87QUFDWCxnQ0FBZ0MseURBQVcsR0FBRyxnQkFBZ0I7QUFDOUQ7QUFDQSxZQUFZLHFEQUFHO0FBQ2Ysd0VBQXdFO0FBQ3hFO0FBQ0E7QUFDQSxpQkFBaUIscURBQUc7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsSUFBSTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLElBQUk7QUFDOUMsb0VBQW9FLG1CQUFtQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZXRoYW5raW0vTmVzdG9yL21lZGZldGNoLmpzL25vZGVfbW9kdWxlcy8ucG5wbS9jaGV2cm90YWluQDExLjAuMy9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvZ2FzdF9yZWNvcmRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JFYWNoLCBoYXMsIGlzQXJyYXksIGlzRnVuY3Rpb24sIGxhc3QgYXMgcGVlaywgc29tZSwgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUsIE5vblRlcm1pbmFsLCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgUnVsZSwgVGVybWluYWwsIH0gZnJvbSBcIkBjaGV2cm90YWluL2dhc3RcIjtcbmltcG9ydCB7IExleGVyIH0gZnJvbSBcIi4uLy4uLy4uL3NjYW4vbGV4ZXJfcHVibGljLmpzXCI7XG5pbXBvcnQgeyBhdWdtZW50VG9rZW5UeXBlcywgaGFzU2hvcnRLZXlQcm9wZXJ0eSwgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnMuanNcIjtcbmltcG9ydCB7IGNyZWF0ZVRva2VuLCBjcmVhdGVUb2tlbkluc3RhbmNlLCB9IGZyb20gXCIuLi8uLi8uLi9zY2FuL3Rva2Vuc19wdWJsaWMuanNcIjtcbmltcG9ydCB7IEVORF9PRl9GSUxFIH0gZnJvbSBcIi4uL3BhcnNlci5qc1wiO1xuaW1wb3J0IHsgQklUU19GT1JfT0NDVVJSRU5DRV9JRFggfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9rZXlzLmpzXCI7XG5jb25zdCBSRUNPUkRJTkdfTlVMTF9PQkpFQ1QgPSB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhpcyBPYmplY3QgaW5kaWNhdGVzIHRoZSBQYXJzZXIgaXMgZHVyaW5nIFJlY29yZGluZyBQaGFzZVwiLFxufTtcbk9iamVjdC5mcmVlemUoUkVDT1JESU5HX05VTExfT0JKRUNUKTtcbmNvbnN0IEhBTkRMRV9TRVBBUkFUT1IgPSB0cnVlO1xuY29uc3QgTUFYX01FVEhPRF9JRFggPSBNYXRoLnBvdygyLCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWCkgLSAxO1xuY29uc3QgUkZUID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIlJFQ09SRElOR19QSEFTRV9UT0tFTlwiLCBwYXR0ZXJuOiBMZXhlci5OQSB9KTtcbmF1Z21lbnRUb2tlblR5cGVzKFtSRlRdKTtcbmNvbnN0IFJFQ09SRElOR19QSEFTRV9UT0tFTiA9IGNyZWF0ZVRva2VuSW5zdGFuY2UoUkZULCBcIlRoaXMgSVRva2VuIGluZGljYXRlcyB0aGUgUGFyc2VyIGlzIGluIFJlY29yZGluZyBQaGFzZVxcblxcdFwiICtcbiAgICBcIlwiICtcbiAgICBcIlNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvaW50ZXJuYWxzLmh0bWwjZ3JhbW1hci1yZWNvcmRpbmcgZm9yIGRldGFpbHNcIiwgXG4vLyBVc2luZyBcIi0xXCIgaW5zdGVhZCBvZiBOYU4gKGFzIGluIEVPRikgYmVjYXVzZSBhbiBhY3R1YWwgbnVtYmVyIGlzIGxlc3MgbGlrZWx5IHRvXG4vLyBjYXVzZSBlcnJvcnMgaWYgdGhlIG91dHB1dCBvZiBMQSBvciBDT05TVU1FIHdvdWxkIGJlIChpbmNvcnJlY3RseSkgdXNlZCBkdXJpbmcgdGhlIHJlY29yZGluZyBwaGFzZS5cbi0xLCAtMSwgLTEsIC0xLCAtMSwgLTEpO1xuT2JqZWN0LmZyZWV6ZShSRUNPUkRJTkdfUEhBU0VfVE9LRU4pO1xuY29uc3QgUkVDT1JESU5HX1BIQVNFX0NTVE5PREUgPSB7XG4gICAgbmFtZTogXCJUaGlzIENTVE5vZGUgaW5kaWNhdGVzIHRoZSBQYXJzZXIgaXMgaW4gUmVjb3JkaW5nIFBoYXNlXFxuXFx0XCIgK1xuICAgICAgICBcIlNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvaW50ZXJuYWxzLmh0bWwjZ3JhbW1hci1yZWNvcmRpbmcgZm9yIGRldGFpbHNcIixcbiAgICBjaGlsZHJlbjoge30sXG59O1xuLyoqXG4gKiBUaGlzIHRyYWl0IGhhbmRsZXMgdGhlIGNyZWF0aW9uIG9mIHRoZSBHQVNUIHN0cnVjdHVyZSBmb3IgQ2hldnJvdGFpbiBHcmFtbWFyc1xuICovXG5leHBvcnQgY2xhc3MgR2FzdFJlY29yZGVyIHtcbiAgICBpbml0R2FzdFJlY29yZGVyKGNvbmZpZykge1xuICAgICAgICB0aGlzLnJlY29yZGluZ1Byb2RTdGFjayA9IFtdO1xuICAgICAgICB0aGlzLlJFQ09SRElOR19QSEFTRSA9IGZhbHNlO1xuICAgIH1cbiAgICBlbmFibGVSZWNvcmRpbmcoKSB7XG4gICAgICAgIHRoaXMuUkVDT1JESU5HX1BIQVNFID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwiRW5hYmxlIFJlY29yZGluZ1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdhcm5pbmcgRGFyayBWb29kb28gTWFnaWMgdXBjb21pbmchXG4gICAgICAgICAgICAgKiBXZSBhcmUgXCJyZXBsYWNpbmdcIiB0aGUgcHVibGljIHBhcnNpbmcgRFNMIG1ldGhvZHMgQVBJXG4gICAgICAgICAgICAgKiBXaXRoICoqbmV3KiogYWx0ZXJuYXRpdmUgaW1wbGVtZW50YXRpb25zIG9uIHRoZSBQYXJzZXIgKippbnN0YW5jZSoqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogU28gZmFyIHRoaXMgaXMgdGhlIG9ubHkgd2F5IEkndmUgZm91bmQgdG8gYXZvaWQgcGVyZm9ybWFuY2UgcmVncmVzc2lvbnMgZHVyaW5nIHBhcnNpbmcgdGltZS5cbiAgICAgICAgICAgICAqIC0gQXBwcm94IDMwJSBwZXJmb3JtYW5jZSByZWdyZXNzaW9uIHdhcyBtZWFzdXJlZCBvbiBDaHJvbWUgNzUgQ2FuYXJ5IHdoZW4gYXR0ZW1wdGluZyB0byByZXBsYWNlIHRoZSBcImludGVybmFsXCJcbiAgICAgICAgICAgICAqICAgaW1wbGVtZW50YXRpb25zIGRpcmVjdGx5IGluc3RlYWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IGkgPiAwID8gaSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgdGhpc1tgQ09OU1VNRSR7aWR4fWBdID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsUmVjb3JkKGFyZzEsIGksIGFyZzIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpc1tgU1VCUlVMRSR7aWR4fWBdID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsUmVjb3JkKGFyZzEsIGksIGFyZzIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpc1tgT1BUSU9OJHtpZHh9YF0gPSBmdW5jdGlvbiAoYXJnMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbFJlY29yZChhcmcxLCBpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXNbYE9SJHtpZHh9YF0gPSBmdW5jdGlvbiAoYXJnMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsUmVjb3JkKGFyZzEsIGkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpc1tgTUFOWSR7aWR4fWBdID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW55SW50ZXJuYWxSZWNvcmQoaSwgYXJnMSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzW2BNQU5ZX1NFUCR7aWR4fWBdID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbFJlY29yZChpLCBhcmcxKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXNbYEFUX0xFQVNUX09ORSR7aWR4fWBdID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWxSZWNvcmQoaSwgYXJnMSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzW2BBVF9MRUFTVF9PTkVfU0VQJHtpZHh9YF0gPSBmdW5jdGlvbiAoYXJnMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsUmVjb3JkKGksIGFyZzEpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEU0wgbWV0aG9kcyB3aXRoIHRoZSBpZHgoc3VmZml4KSBhcyBhbiBhcmd1bWVudFxuICAgICAgICAgICAgdGhpc1tgY29uc3VtZWBdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSwgYXJnMikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbFJlY29yZChhcmcxLCBpZHgsIGFyZzIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXNbYHN1YnJ1bGVgXSA9IGZ1bmN0aW9uIChpZHgsIGFyZzEsIGFyZzIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWxSZWNvcmQoYXJnMSwgaWR4LCBhcmcyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzW2BvcHRpb25gXSA9IGZ1bmN0aW9uIChpZHgsIGFyZzEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbFJlY29yZChhcmcxLCBpZHgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXNbYG9yYF0gPSBmdW5jdGlvbiAoaWR4LCBhcmcxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbFJlY29yZChhcmcxLCBpZHgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXNbYG1hbnlgXSA9IGZ1bmN0aW9uIChpZHgsIGFyZzEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hbnlJbnRlcm5hbFJlY29yZChpZHgsIGFyZzEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXNbYGF0TGVhc3RPbmVgXSA9IGZ1bmN0aW9uIChpZHgsIGFyZzEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbFJlY29yZChpZHgsIGFyZzEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuQUNUSU9OID0gdGhpcy5BQ1RJT05fUkVDT1JEO1xuICAgICAgICAgICAgdGhpcy5CQUNLVFJBQ0sgPSB0aGlzLkJBQ0tUUkFDS19SRUNPUkQ7XG4gICAgICAgICAgICB0aGlzLkxBID0gdGhpcy5MQV9SRUNPUkQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkaXNhYmxlUmVjb3JkaW5nKCkge1xuICAgICAgICB0aGlzLlJFQ09SRElOR19QSEFTRSA9IGZhbHNlO1xuICAgICAgICAvLyBCeSBkZWxldGluZyB0aGVzZSAqKmluc3RhbmNlKiogcHJvcGVydGllcywgYW55IGZ1dHVyZSBpbnZvY2F0aW9uXG4gICAgICAgIC8vIHdpbGwgYmUgZGVmZXJyZWQgdG8gdGhlIG9yaWdpbmFsIG1ldGhvZHMgb24gdGhlICoqcHJvdG90eXBlKiogb2JqZWN0XG4gICAgICAgIC8vIFRoaXMgc2VlbXMgdG8gZ2V0IHJpZCBvZiBhbnkgaW5jb3JyZWN0IG9wdGltaXphdGlvbnMgdGhhdCBWOCBtYXlcbiAgICAgICAgLy8gZG8gZHVyaW5nIHRoZSByZWNvcmRpbmcgcGhhc2UuXG4gICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcIkRlbGV0aW5nIFJlY29yZGluZyBtZXRob2RzXCIsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gaSA+IDAgPyBpIDogXCJcIjtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhhdFtgQ09OU1VNRSR7aWR4fWBdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGF0W2BTVUJSVUxFJHtpZHh9YF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoYXRbYE9QVElPTiR7aWR4fWBdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGF0W2BPUiR7aWR4fWBdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGF0W2BNQU5ZJHtpZHh9YF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoYXRbYE1BTllfU0VQJHtpZHh9YF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoYXRbYEFUX0xFQVNUX09ORSR7aWR4fWBdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGF0W2BBVF9MRUFTVF9PTkVfU0VQJHtpZHh9YF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgdGhhdFtgY29uc3VtZWBdO1xuICAgICAgICAgICAgZGVsZXRlIHRoYXRbYHN1YnJ1bGVgXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGF0W2BvcHRpb25gXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGF0W2BvcmBdO1xuICAgICAgICAgICAgZGVsZXRlIHRoYXRbYG1hbnlgXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGF0W2BhdExlYXN0T25lYF07XG4gICAgICAgICAgICBkZWxldGUgdGhhdC5BQ1RJT047XG4gICAgICAgICAgICBkZWxldGUgdGhhdC5CQUNLVFJBQ0s7XG4gICAgICAgICAgICBkZWxldGUgdGhhdC5MQTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vICAgUGFyc2VyIG1ldGhvZHMgYXJlIGNhbGxlZCBpbnNpZGUgYW4gQUNUSU9OP1xuICAgIC8vICAgTWF5YmUgdHJ5L2NhdGNoL2ZpbmFsbHkgb24gQUNUSU9OUyB3aGlsZSBkaXNhYmxpbmcgdGhlIHJlY29yZGVycyBzdGF0ZSBjaGFuZ2VzP1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLS0gbm9vcCBwbGFjZSBob2xkZXJcbiAgICBBQ1RJT05fUkVDT1JEKGltcGwpIHtcbiAgICAgICAgLy8gTk8tT1AgZHVyaW5nIHJlY29yZGluZ1xuICAgIH1cbiAgICAvLyBFeGVjdXRpbmcgYmFja3RyYWNraW5nIGxvZ2ljIHdpbGwgYnJlYWsgb3VyIHJlY29yZGluZyBsb2dpYyBhc3N1bXB0aW9uc1xuICAgIEJBQ0tUUkFDS19SRUNPUkQoZ3JhbW1hclJ1bGUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHRydWU7XG4gICAgfVxuICAgIC8vIExBIGlzIHBhcnQgb2YgdGhlIG9mZmljaWFsIEFQSSBhbmQgbWF5IGJlIHVzZWQgZm9yIGN1c3RvbSBsb29rYWhlYWQgbG9naWNcbiAgICAvLyBieSBlbmQgdXNlcnMgd2hvIG1heSBmb3JnZXQgdG8gd3JhcCBpdCBpbiBBQ1RJT04gb3IgaW5zaWRlIGEgR0FURVxuICAgIExBX1JFQ09SRChob3dNdWNoKSB7XG4gICAgICAgIC8vIFdlIGNhbm5vdCB1c2UgdGhlIFJFQ09SRF9QSEFTRV9UT0tFTiBoZXJlIGJlY2F1c2Ugc29tZW9uZSBtYXkgZGVwZW5kXG4gICAgICAgIC8vIE9uIExBIHJldHVybiBFT0YgYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgc28gYW4gaW5maW5pdGUgbG9vcCBtYXkgb2NjdXIuXG4gICAgICAgIHJldHVybiBFTkRfT0ZfRklMRTtcbiAgICB9XG4gICAgdG9wTGV2ZWxSdWxlUmVjb3JkKG5hbWUsIGRlZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbmV3VG9wTGV2ZWxSdWxlID0gbmV3IFJ1bGUoeyBkZWZpbml0aW9uOiBbXSwgbmFtZTogbmFtZSB9KTtcbiAgICAgICAgICAgIG5ld1RvcExldmVsUnVsZS5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrLnB1c2gobmV3VG9wTGV2ZWxSdWxlKTtcbiAgICAgICAgICAgIGRlZi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sucG9wKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3VG9wTGV2ZWxSdWxlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChvcmlnaW5hbEVycm9yKSB7XG4gICAgICAgICAgICBpZiAob3JpZ2luYWxFcnJvci5LTk9XTl9SRUNPUkRFUl9FUlJPUiAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3IubWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yLm1lc3NhZ2UgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXG5cXHQgVGhpcyBlcnJvciB3YXMgdGhyb3duIGR1cmluZyB0aGUgXCJncmFtbWFyIHJlY29yZGluZyBwaGFzZVwiIEZvciBtb3JlIGluZm8gc2VlOlxcblxcdCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvaW50ZXJuYWxzLmh0bWwjZ3JhbW1hci1yZWNvcmRpbmdcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKG11dGFiaWxpdHlFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBtYXkgbm90IGJlIGFibGUgdG8gbW9kaWZ5IHRoZSBvcmlnaW5hbCBlcnJvciBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgb3JpZ2luYWxFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBvcmlnaW5hbEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEltcGxlbWVudGF0aW9uIG9mIHBhcnNpbmcgRFNMXG4gICAgb3B0aW9uSW50ZXJuYWxSZWNvcmQoYWN0aW9uT1JNZXRob2REZWYsIG9jY3VycmVuY2UpIHtcbiAgICAgICAgcmV0dXJuIHJlY29yZFByb2QuY2FsbCh0aGlzLCBPcHRpb24sIGFjdGlvbk9STWV0aG9kRGVmLCBvY2N1cnJlbmNlKTtcbiAgICB9XG4gICAgYXRMZWFzdE9uZUludGVybmFsUmVjb3JkKG9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJlY29yZFByb2QuY2FsbCh0aGlzLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSk7XG4gICAgfVxuICAgIGF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsUmVjb3JkKG9jY3VycmVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgcmVjb3JkUHJvZC5jYWxsKHRoaXMsIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBvcHRpb25zLCBvY2N1cnJlbmNlLCBIQU5ETEVfU0VQQVJBVE9SKTtcbiAgICB9XG4gICAgbWFueUludGVybmFsUmVjb3JkKG9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJlY29yZFByb2QuY2FsbCh0aGlzLCBSZXBldGl0aW9uLCBhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSk7XG4gICAgfVxuICAgIG1hbnlTZXBGaXJzdEludGVybmFsUmVjb3JkKG9jY3VycmVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgcmVjb3JkUHJvZC5jYWxsKHRoaXMsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBvcHRpb25zLCBvY2N1cnJlbmNlLCBIQU5ETEVfU0VQQVJBVE9SKTtcbiAgICB9XG4gICAgb3JJbnRlcm5hbFJlY29yZChhbHRzT3JPcHRzLCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIHJldHVybiByZWNvcmRPclByb2QuY2FsbCh0aGlzLCBhbHRzT3JPcHRzLCBvY2N1cnJlbmNlKTtcbiAgICB9XG4gICAgc3VicnVsZUludGVybmFsUmVjb3JkKHJ1bGVUb0NhbGwsIG9jY3VycmVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgYXNzZXJ0TWV0aG9kSWR4SXNWYWxpZChvY2N1cnJlbmNlKTtcbiAgICAgICAgaWYgKCFydWxlVG9DYWxsIHx8IGhhcyhydWxlVG9DYWxsLCBcInJ1bGVOYW1lXCIpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYDxTVUJSVUxFJHtnZXRJZHhTdWZmaXgob2NjdXJyZW5jZSl9PiBhcmd1bWVudCBpcyBpbnZhbGlkYCArXG4gICAgICAgICAgICAgICAgYCBleHBlY3RpbmcgYSBQYXJzZXIgbWV0aG9kIHJlZmVyZW5jZSBidXQgZ290OiA8JHtKU09OLnN0cmluZ2lmeShydWxlVG9DYWxsKX0+YCArXG4gICAgICAgICAgICAgICAgYFxcbiBpbnNpZGUgdG9wIGxldmVsIHJ1bGU6IDwke3RoaXMucmVjb3JkaW5nUHJvZFN0YWNrWzBdLm5hbWV9PmApO1xuICAgICAgICAgICAgZXJyb3IuS05PV05fUkVDT1JERVJfRVJST1IgPSB0cnVlO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldlByb2QgPSBwZWVrKHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrKTtcbiAgICAgICAgY29uc3QgcnVsZU5hbWUgPSBydWxlVG9DYWxsLnJ1bGVOYW1lO1xuICAgICAgICBjb25zdCBuZXdOb25lVGVybWluYWwgPSBuZXcgTm9uVGVybWluYWwoe1xuICAgICAgICAgICAgaWR4OiBvY2N1cnJlbmNlLFxuICAgICAgICAgICAgbm9uVGVybWluYWxOYW1lOiBydWxlTmFtZSxcbiAgICAgICAgICAgIGxhYmVsOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuTEFCRUwsXG4gICAgICAgICAgICAvLyBUaGUgcmVzb2x2aW5nIG9mIHRoZSBgcmVmZXJlbmNlZFJ1bGVgIHByb3BlcnR5IHdpbGwgYmUgZG9uZSBvbmNlIGFsbCB0aGUgUnVsZSdzIEdBU1RzIGhhdmUgYmVlbiBjcmVhdGVkXG4gICAgICAgICAgICByZWZlcmVuY2VkUnVsZTogdW5kZWZpbmVkLFxuICAgICAgICB9KTtcbiAgICAgICAgcHJldlByb2QuZGVmaW5pdGlvbi5wdXNoKG5ld05vbmVUZXJtaW5hbCk7XG4gICAgICAgIHJldHVybiB0aGlzLm91dHB1dENzdFxuICAgICAgICAgICAgPyBSRUNPUkRJTkdfUEhBU0VfQ1NUTk9ERVxuICAgICAgICAgICAgOiBSRUNPUkRJTkdfTlVMTF9PQkpFQ1Q7XG4gICAgfVxuICAgIGNvbnN1bWVJbnRlcm5hbFJlY29yZCh0b2tUeXBlLCBvY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGFzc2VydE1ldGhvZElkeElzVmFsaWQob2NjdXJyZW5jZSk7XG4gICAgICAgIGlmICghaGFzU2hvcnRLZXlQcm9wZXJ0eSh0b2tUeXBlKSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYDxDT05TVU1FJHtnZXRJZHhTdWZmaXgob2NjdXJyZW5jZSl9PiBhcmd1bWVudCBpcyBpbnZhbGlkYCArXG4gICAgICAgICAgICAgICAgYCBleHBlY3RpbmcgYSBUb2tlblR5cGUgcmVmZXJlbmNlIGJ1dCBnb3Q6IDwke0pTT04uc3RyaW5naWZ5KHRva1R5cGUpfT5gICtcbiAgICAgICAgICAgICAgICBgXFxuIGluc2lkZSB0b3AgbGV2ZWwgcnVsZTogPCR7dGhpcy5yZWNvcmRpbmdQcm9kU3RhY2tbMF0ubmFtZX0+YCk7XG4gICAgICAgICAgICBlcnJvci5LTk9XTl9SRUNPUkRFUl9FUlJPUiA9IHRydWU7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2UHJvZCA9IHBlZWsodGhpcy5yZWNvcmRpbmdQcm9kU3RhY2spO1xuICAgICAgICBjb25zdCBuZXdOb25lVGVybWluYWwgPSBuZXcgVGVybWluYWwoe1xuICAgICAgICAgICAgaWR4OiBvY2N1cnJlbmNlLFxuICAgICAgICAgICAgdGVybWluYWxUeXBlOiB0b2tUeXBlLFxuICAgICAgICAgICAgbGFiZWw6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5MQUJFTCxcbiAgICAgICAgfSk7XG4gICAgICAgIHByZXZQcm9kLmRlZmluaXRpb24ucHVzaChuZXdOb25lVGVybWluYWwpO1xuICAgICAgICByZXR1cm4gUkVDT1JESU5HX1BIQVNFX1RPS0VOO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlY29yZFByb2QocHJvZENvbnN0cnVjdG9yLCBtYWluUHJvZEFyZywgb2NjdXJyZW5jZSwgaGFuZGxlU2VwID0gZmFsc2UpIHtcbiAgICBhc3NlcnRNZXRob2RJZHhJc1ZhbGlkKG9jY3VycmVuY2UpO1xuICAgIGNvbnN0IHByZXZQcm9kID0gcGVlayh0aGlzLnJlY29yZGluZ1Byb2RTdGFjayk7XG4gICAgY29uc3QgZ3JhbW1hckFjdGlvbiA9IGlzRnVuY3Rpb24obWFpblByb2RBcmcpID8gbWFpblByb2RBcmcgOiBtYWluUHJvZEFyZy5ERUY7XG4gICAgY29uc3QgbmV3UHJvZCA9IG5ldyBwcm9kQ29uc3RydWN0b3IoeyBkZWZpbml0aW9uOiBbXSwgaWR4OiBvY2N1cnJlbmNlIH0pO1xuICAgIGlmIChoYW5kbGVTZXApIHtcbiAgICAgICAgbmV3UHJvZC5zZXBhcmF0b3IgPSBtYWluUHJvZEFyZy5TRVA7XG4gICAgfVxuICAgIGlmIChoYXMobWFpblByb2RBcmcsIFwiTUFYX0xPT0tBSEVBRFwiKSkge1xuICAgICAgICBuZXdQcm9kLm1heExvb2thaGVhZCA9IG1haW5Qcm9kQXJnLk1BWF9MT09LQUhFQUQ7XG4gICAgfVxuICAgIHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrLnB1c2gobmV3UHJvZCk7XG4gICAgZ3JhbW1hckFjdGlvbi5jYWxsKHRoaXMpO1xuICAgIHByZXZQcm9kLmRlZmluaXRpb24ucHVzaChuZXdQcm9kKTtcbiAgICB0aGlzLnJlY29yZGluZ1Byb2RTdGFjay5wb3AoKTtcbiAgICByZXR1cm4gUkVDT1JESU5HX05VTExfT0JKRUNUO1xufVxuZnVuY3Rpb24gcmVjb3JkT3JQcm9kKG1haW5Qcm9kQXJnLCBvY2N1cnJlbmNlKSB7XG4gICAgYXNzZXJ0TWV0aG9kSWR4SXNWYWxpZChvY2N1cnJlbmNlKTtcbiAgICBjb25zdCBwcmV2UHJvZCA9IHBlZWsodGhpcy5yZWNvcmRpbmdQcm9kU3RhY2spO1xuICAgIC8vIE9ubHkgYW4gYXJyYXkgb2YgYWx0ZXJuYXRpdmVzXG4gICAgY29uc3QgaGFzT3B0aW9ucyA9IGlzQXJyYXkobWFpblByb2RBcmcpID09PSBmYWxzZTtcbiAgICBjb25zdCBhbHRzID0gaGFzT3B0aW9ucyA9PT0gZmFsc2UgPyBtYWluUHJvZEFyZyA6IG1haW5Qcm9kQXJnLkRFRjtcbiAgICBjb25zdCBuZXdPclByb2QgPSBuZXcgQWx0ZXJuYXRpb24oe1xuICAgICAgICBkZWZpbml0aW9uOiBbXSxcbiAgICAgICAgaWR4OiBvY2N1cnJlbmNlLFxuICAgICAgICBpZ25vcmVBbWJpZ3VpdGllczogaGFzT3B0aW9ucyAmJiBtYWluUHJvZEFyZy5JR05PUkVfQU1CSUdVSVRJRVMgPT09IHRydWUsXG4gICAgfSk7XG4gICAgaWYgKGhhcyhtYWluUHJvZEFyZywgXCJNQVhfTE9PS0FIRUFEXCIpKSB7XG4gICAgICAgIG5ld09yUHJvZC5tYXhMb29rYWhlYWQgPSBtYWluUHJvZEFyZy5NQVhfTE9PS0FIRUFEO1xuICAgIH1cbiAgICBjb25zdCBoYXNQcmVkaWNhdGVzID0gc29tZShhbHRzLCAoY3VyckFsdCkgPT4gaXNGdW5jdGlvbihjdXJyQWx0LkdBVEUpKTtcbiAgICBuZXdPclByb2QuaGFzUHJlZGljYXRlcyA9IGhhc1ByZWRpY2F0ZXM7XG4gICAgcHJldlByb2QuZGVmaW5pdGlvbi5wdXNoKG5ld09yUHJvZCk7XG4gICAgZm9yRWFjaChhbHRzLCAoY3VyckFsdCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyQWx0RmxhdCA9IG5ldyBBbHRlcm5hdGl2ZSh7IGRlZmluaXRpb246IFtdIH0pO1xuICAgICAgICBuZXdPclByb2QuZGVmaW5pdGlvbi5wdXNoKGN1cnJBbHRGbGF0KTtcbiAgICAgICAgaWYgKGhhcyhjdXJyQWx0LCBcIklHTk9SRV9BTUJJR1VJVElFU1wiKSkge1xuICAgICAgICAgICAgY3VyckFsdEZsYXQuaWdub3JlQW1iaWd1aXRpZXMgPSBjdXJyQWx0LklHTk9SRV9BTUJJR1VJVElFUzsgLy8gYXNzdW1lcyBlbmQgdXNlciBwcm92aWRlcyB0aGUgY29ycmVjdCBjb25maWcgdmFsdWUvdHlwZVxuICAgICAgICB9XG4gICAgICAgIC8vICoqaW1wbGljaXQqKiBpZ25vcmVBbWJpZ3VpdGllcyBkdWUgdG8gdXNhZ2Ugb2YgZ2F0ZVxuICAgICAgICBlbHNlIGlmIChoYXMoY3VyckFsdCwgXCJHQVRFXCIpKSB7XG4gICAgICAgICAgICBjdXJyQWx0RmxhdC5pZ25vcmVBbWJpZ3VpdGllcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sucHVzaChjdXJyQWx0RmxhdCk7XG4gICAgICAgIGN1cnJBbHQuQUxULmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrLnBvcCgpO1xuICAgIH0pO1xuICAgIHJldHVybiBSRUNPUkRJTkdfTlVMTF9PQkpFQ1Q7XG59XG5mdW5jdGlvbiBnZXRJZHhTdWZmaXgoaWR4KSB7XG4gICAgcmV0dXJuIGlkeCA9PT0gMCA/IFwiXCIgOiBgJHtpZHh9YDtcbn1cbmZ1bmN0aW9uIGFzc2VydE1ldGhvZElkeElzVmFsaWQoaWR4KSB7XG4gICAgaWYgKGlkeCA8IDAgfHwgaWR4ID4gTUFYX01FVEhPRF9JRFgpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIC8vIFRoZSBzdGFjayB0cmFjZSB3aWxsIGNvbnRhaW4gYWxsIHRoZSBuZWVkZWQgZGV0YWlsc1xuICAgICAgICBgSW52YWxpZCBEU0wgTWV0aG9kIGlkeCB2YWx1ZTogPCR7aWR4fT5cXG5cXHRgICtcbiAgICAgICAgICAgIGBJZHggdmFsdWUgbXVzdCBiZSBhIG5vbmUgbmVnYXRpdmUgdmFsdWUgc21hbGxlciB0aGFuICR7TUFYX01FVEhPRF9JRFggKyAxfWApO1xuICAgICAgICBlcnJvci5LTk9XTl9SRUNPUkRFUl9FUlJPUiA9IHRydWU7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdhc3RfcmVjb3JkZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/gast_recorder.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/lexer_adapter.js":
/*!********************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/lexer_adapter.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LexerAdapter: () => (/* binding */ LexerAdapter)\n/* harmony export */ });\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n\n/**\n * Trait responsible abstracting over the interaction with Lexer output (Token vector).\n *\n * This could be generalized to support other kinds of lexers, e.g.\n * - Just in Time Lexing / Lexer-Less parsing.\n * - Streaming Lexer.\n */\nclass LexerAdapter {\n    initLexerAdapter() {\n        this.tokVector = [];\n        this.tokVectorLength = 0;\n        this.currIdx = -1;\n    }\n    set input(newInput) {\n        // @ts-ignore - `this parameter` not supported in setters/getters\n        //   - https://www.typescriptlang.org/docs/handbook/functions.html#this-parameters\n        if (this.selfAnalysisDone !== true) {\n            throw Error(`Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.`);\n        }\n        // @ts-ignore - `this parameter` not supported in setters/getters\n        //   - https://www.typescriptlang.org/docs/handbook/functions.html#this-parameters\n        this.reset();\n        this.tokVector = newInput;\n        this.tokVectorLength = newInput.length;\n    }\n    get input() {\n        return this.tokVector;\n    }\n    // skips a token and returns the next token\n    SKIP_TOKEN() {\n        if (this.currIdx <= this.tokVector.length - 2) {\n            this.consumeToken();\n            return this.LA(1);\n        }\n        else {\n            return _parser_js__WEBPACK_IMPORTED_MODULE_0__.END_OF_FILE;\n        }\n    }\n    // Lexer (accessing Token vector) related methods which can be overridden to implement lazy lexers\n    // or lexers dependent on parser context.\n    LA(howMuch) {\n        const soughtIdx = this.currIdx + howMuch;\n        if (soughtIdx < 0 || this.tokVectorLength <= soughtIdx) {\n            return _parser_js__WEBPACK_IMPORTED_MODULE_0__.END_OF_FILE;\n        }\n        else {\n            return this.tokVector[soughtIdx];\n        }\n    }\n    consumeToken() {\n        this.currIdx++;\n    }\n    exportLexerState() {\n        return this.currIdx;\n    }\n    importLexerState(newState) {\n        this.currIdx = newState;\n    }\n    resetLexerState() {\n        this.currIdx = -1;\n    }\n    moveToTerminatedState() {\n        this.currIdx = this.tokVector.length - 1;\n    }\n    getLexerPosition() {\n        return this.exportLexerState();\n    }\n}\n//# sourceMappingURL=lexer_adapter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9sZXhlcl9hZGFwdGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbURBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbURBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9sZXhlcl9hZGFwdGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVORF9PRl9GSUxFIH0gZnJvbSBcIi4uL3BhcnNlci5qc1wiO1xuLyoqXG4gKiBUcmFpdCByZXNwb25zaWJsZSBhYnN0cmFjdGluZyBvdmVyIHRoZSBpbnRlcmFjdGlvbiB3aXRoIExleGVyIG91dHB1dCAoVG9rZW4gdmVjdG9yKS5cbiAqXG4gKiBUaGlzIGNvdWxkIGJlIGdlbmVyYWxpemVkIHRvIHN1cHBvcnQgb3RoZXIga2luZHMgb2YgbGV4ZXJzLCBlLmcuXG4gKiAtIEp1c3QgaW4gVGltZSBMZXhpbmcgLyBMZXhlci1MZXNzIHBhcnNpbmcuXG4gKiAtIFN0cmVhbWluZyBMZXhlci5cbiAqL1xuZXhwb3J0IGNsYXNzIExleGVyQWRhcHRlciB7XG4gICAgaW5pdExleGVyQWRhcHRlcigpIHtcbiAgICAgICAgdGhpcy50b2tWZWN0b3IgPSBbXTtcbiAgICAgICAgdGhpcy50b2tWZWN0b3JMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmN1cnJJZHggPSAtMTtcbiAgICB9XG4gICAgc2V0IGlucHV0KG5ld0lucHV0KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgLSBgdGhpcyBwYXJhbWV0ZXJgIG5vdCBzdXBwb3J0ZWQgaW4gc2V0dGVycy9nZXR0ZXJzXG4gICAgICAgIC8vICAgLSBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay9mdW5jdGlvbnMuaHRtbCN0aGlzLXBhcmFtZXRlcnNcbiAgICAgICAgaWYgKHRoaXMuc2VsZkFuYWx5c2lzRG9uZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYE1pc3NpbmcgPHBlcmZvcm1TZWxmQW5hbHlzaXM+IGludm9jYXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgUGFyc2VyJ3MgY29uc3RydWN0b3IuYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIGB0aGlzIHBhcmFtZXRlcmAgbm90IHN1cHBvcnRlZCBpbiBzZXR0ZXJzL2dldHRlcnNcbiAgICAgICAgLy8gICAtIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL2Z1bmN0aW9ucy5odG1sI3RoaXMtcGFyYW1ldGVyc1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMudG9rVmVjdG9yID0gbmV3SW5wdXQ7XG4gICAgICAgIHRoaXMudG9rVmVjdG9yTGVuZ3RoID0gbmV3SW5wdXQubGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgaW5wdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva1ZlY3RvcjtcbiAgICB9XG4gICAgLy8gc2tpcHMgYSB0b2tlbiBhbmQgcmV0dXJucyB0aGUgbmV4dCB0b2tlblxuICAgIFNLSVBfVE9LRU4oKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJJZHggPD0gdGhpcy50b2tWZWN0b3IubGVuZ3RoIC0gMikge1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lVG9rZW4oKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkxBKDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEVORF9PRl9GSUxFO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIExleGVyIChhY2Nlc3NpbmcgVG9rZW4gdmVjdG9yKSByZWxhdGVkIG1ldGhvZHMgd2hpY2ggY2FuIGJlIG92ZXJyaWRkZW4gdG8gaW1wbGVtZW50IGxhenkgbGV4ZXJzXG4gICAgLy8gb3IgbGV4ZXJzIGRlcGVuZGVudCBvbiBwYXJzZXIgY29udGV4dC5cbiAgICBMQShob3dNdWNoKSB7XG4gICAgICAgIGNvbnN0IHNvdWdodElkeCA9IHRoaXMuY3VycklkeCArIGhvd011Y2g7XG4gICAgICAgIGlmIChzb3VnaHRJZHggPCAwIHx8IHRoaXMudG9rVmVjdG9yTGVuZ3RoIDw9IHNvdWdodElkeCkge1xuICAgICAgICAgICAgcmV0dXJuIEVORF9PRl9GSUxFO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9rVmVjdG9yW3NvdWdodElkeF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3VtZVRva2VuKCkge1xuICAgICAgICB0aGlzLmN1cnJJZHgrKztcbiAgICB9XG4gICAgZXhwb3J0TGV4ZXJTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycklkeDtcbiAgICB9XG4gICAgaW1wb3J0TGV4ZXJTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgICB0aGlzLmN1cnJJZHggPSBuZXdTdGF0ZTtcbiAgICB9XG4gICAgcmVzZXRMZXhlclN0YXRlKCkge1xuICAgICAgICB0aGlzLmN1cnJJZHggPSAtMTtcbiAgICB9XG4gICAgbW92ZVRvVGVybWluYXRlZFN0YXRlKCkge1xuICAgICAgICB0aGlzLmN1cnJJZHggPSB0aGlzLnRva1ZlY3Rvci5sZW5ndGggLSAxO1xuICAgIH1cbiAgICBnZXRMZXhlclBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHBvcnRMZXhlclN0YXRlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV4ZXJfYWRhcHRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/lexer_adapter.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/looksahead.js":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/looksahead.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LooksAhead: () => (/* binding */ LooksAhead),\n/* harmony export */   collectMethods: () => (/* binding */ collectMethods)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../grammar/keys.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/keys.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/api.js\");\n/* harmony import */ var _grammar_llk_lookahead_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../grammar/llk_lookahead.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/llk_lookahead.js\");\n\n\n\n\n\n/**\n * Trait responsible for the lookahead related utilities and optimizations.\n */\nclass LooksAhead {\n    initLooksAhead(config) {\n        this.dynamicTokensEnabled = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, \"dynamicTokensEnabled\")\n            ? config.dynamicTokensEnabled // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled;\n        this.maxLookahead = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, \"maxLookahead\")\n            ? config.maxLookahead // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_PARSER_CONFIG.maxLookahead;\n        this.lookaheadStrategy = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, \"lookaheadStrategy\")\n            ? config.lookaheadStrategy // assumes end user provides the correct config value/type\n            : new _grammar_llk_lookahead_js__WEBPACK_IMPORTED_MODULE_3__.LLkLookaheadStrategy({ maxLookahead: this.maxLookahead });\n        this.lookAheadFuncsCache = new Map();\n    }\n    preComputeLookaheadFunctions(rules) {\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(rules, (currRule) => {\n            this.TRACE_INIT(`${currRule.name} Rule Lookahead`, () => {\n                const { alternation, repetition, option, repetitionMandatory, repetitionMandatoryWithSeparator, repetitionWithSeparator, } = collectMethods(currRule);\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(alternation, (currProd) => {\n                    const prodIdx = currProd.idx === 0 ? \"\" : currProd.idx;\n                    this.TRACE_INIT(`${(0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.getProductionDslName)(currProd)}${prodIdx}`, () => {\n                        const laFunc = this.lookaheadStrategy.buildLookaheadForAlternation({\n                            prodOccurrence: currProd.idx,\n                            rule: currRule,\n                            maxLookahead: currProd.maxLookahead || this.maxLookahead,\n                            hasPredicates: currProd.hasPredicates,\n                            dynamicTokensEnabled: this.dynamicTokensEnabled,\n                        });\n                        const key = (0,_grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.getKeyForAutomaticLookahead)(this.fullRuleNameToShort[currRule.name], _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.OR_IDX, currProd.idx);\n                        this.setLaFuncCache(key, laFunc);\n                    });\n                });\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(repetition, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.MANY_IDX, \"Repetition\", currProd.maxLookahead, (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.getProductionDslName)(currProd));\n                });\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(option, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.OPTION_IDX, \"Option\", currProd.maxLookahead, (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.getProductionDslName)(currProd));\n                });\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(repetitionMandatory, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.AT_LEAST_ONE_IDX, \"RepetitionMandatory\", currProd.maxLookahead, (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.getProductionDslName)(currProd));\n                });\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(repetitionMandatoryWithSeparator, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.AT_LEAST_ONE_SEP_IDX, \"RepetitionMandatoryWithSeparator\", currProd.maxLookahead, (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.getProductionDslName)(currProd));\n                });\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(repetitionWithSeparator, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.MANY_SEP_IDX, \"RepetitionWithSeparator\", currProd.maxLookahead, (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.getProductionDslName)(currProd));\n                });\n            });\n        });\n    }\n    computeLookaheadFunc(rule, prodOccurrence, prodKey, prodType, prodMaxLookahead, dslMethodName) {\n        this.TRACE_INIT(`${dslMethodName}${prodOccurrence === 0 ? \"\" : prodOccurrence}`, () => {\n            const laFunc = this.lookaheadStrategy.buildLookaheadForOptional({\n                prodOccurrence,\n                rule,\n                maxLookahead: prodMaxLookahead || this.maxLookahead,\n                dynamicTokensEnabled: this.dynamicTokensEnabled,\n                prodType,\n            });\n            const key = (0,_grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.getKeyForAutomaticLookahead)(this.fullRuleNameToShort[rule.name], prodKey, prodOccurrence);\n            this.setLaFuncCache(key, laFunc);\n        });\n    }\n    // this actually returns a number, but it is always used as a string (object prop key)\n    getKeyForAutomaticLookahead(dslMethodIdx, occurrence) {\n        const currRuleShortName = this.getLastExplicitRuleShortName();\n        return (0,_grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.getKeyForAutomaticLookahead)(currRuleShortName, dslMethodIdx, occurrence);\n    }\n    getLaFuncFromCache(key) {\n        return this.lookAheadFuncsCache.get(key);\n    }\n    /* istanbul ignore next */\n    setLaFuncCache(key, value) {\n        this.lookAheadFuncsCache.set(key, value);\n    }\n}\nclass DslMethodsCollectorVisitor extends _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.GAstVisitor {\n    constructor() {\n        super(...arguments);\n        this.dslMethods = {\n            option: [],\n            alternation: [],\n            repetition: [],\n            repetitionWithSeparator: [],\n            repetitionMandatory: [],\n            repetitionMandatoryWithSeparator: [],\n        };\n    }\n    reset() {\n        this.dslMethods = {\n            option: [],\n            alternation: [],\n            repetition: [],\n            repetitionWithSeparator: [],\n            repetitionMandatory: [],\n            repetitionMandatoryWithSeparator: [],\n        };\n    }\n    visitOption(option) {\n        this.dslMethods.option.push(option);\n    }\n    visitRepetitionWithSeparator(manySep) {\n        this.dslMethods.repetitionWithSeparator.push(manySep);\n    }\n    visitRepetitionMandatory(atLeastOne) {\n        this.dslMethods.repetitionMandatory.push(atLeastOne);\n    }\n    visitRepetitionMandatoryWithSeparator(atLeastOneSep) {\n        this.dslMethods.repetitionMandatoryWithSeparator.push(atLeastOneSep);\n    }\n    visitRepetition(many) {\n        this.dslMethods.repetition.push(many);\n    }\n    visitAlternation(or) {\n        this.dslMethods.alternation.push(or);\n    }\n}\nconst collectorVisitor = new DslMethodsCollectorVisitor();\nfunction collectMethods(rule) {\n    collectorVisitor.reset();\n    rule.accept(collectorVisitor);\n    const dslMethods = collectorVisitor.dslMethods;\n    // avoid uncleaned references\n    collectorVisitor.reset();\n    return dslMethods;\n}\n//# sourceMappingURL=looksahead.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9sb29rc2FoZWFkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXlDO0FBQ1k7QUFDb0c7QUFDbkY7QUFDQTtBQUN0RTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0NBQW9DLHFEQUFHO0FBQ3ZDO0FBQ0EsY0FBYyw2REFBcUI7QUFDbkMsNEJBQTRCLHFEQUFHO0FBQy9CO0FBQ0EsY0FBYyw2REFBcUI7QUFDbkMsaUNBQWlDLHFEQUFHO0FBQ3BDO0FBQ0Esa0JBQWtCLDJFQUFvQixHQUFHLGlDQUFpQztBQUMxRTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFPO0FBQ2YsK0JBQStCLGVBQWU7QUFDOUMsd0JBQXdCLG1IQUFtSDtBQUMzSSxnQkFBZ0IscURBQU87QUFDdkI7QUFDQSx1Q0FBdUMsc0VBQW9CLFdBQVcsRUFBRSxRQUFRO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixvQ0FBb0MsNkVBQTJCLDBDQUEwQyxvREFBTTtBQUMvRztBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsZ0JBQWdCLHFEQUFPO0FBQ3ZCLHNFQUFzRSxzREFBUSx1Q0FBdUMsc0VBQW9CO0FBQ3pJLGlCQUFpQjtBQUNqQixnQkFBZ0IscURBQU87QUFDdkIsc0VBQXNFLHdEQUFVLG1DQUFtQyxzRUFBb0I7QUFDdkksaUJBQWlCO0FBQ2pCLGdCQUFnQixxREFBTztBQUN2QixzRUFBc0UsOERBQWdCLGdEQUFnRCxzRUFBb0I7QUFDMUosaUJBQWlCO0FBQ2pCLGdCQUFnQixxREFBTztBQUN2QixzRUFBc0Usa0VBQW9CLDZEQUE2RCxzRUFBb0I7QUFDM0ssaUJBQWlCO0FBQ2pCLGdCQUFnQixxREFBTztBQUN2QixzRUFBc0UsMERBQVksb0RBQW9ELHNFQUFvQjtBQUMxSixpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsMkJBQTJCLGNBQWMsRUFBRSwyQ0FBMkM7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHdCQUF3Qiw2RUFBMkI7QUFDbkQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZFQUEyQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMseURBQVc7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9wYXJzZXIvdHJhaXRzL2xvb2tzYWhlYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9yRWFjaCwgaGFzIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9QQVJTRVJfQ09ORklHIH0gZnJvbSBcIi4uL3BhcnNlci5qc1wiO1xuaW1wb3J0IHsgQVRfTEVBU1RfT05FX0lEWCwgQVRfTEVBU1RfT05FX1NFUF9JRFgsIGdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZCwgTUFOWV9JRFgsIE1BTllfU0VQX0lEWCwgT1BUSU9OX0lEWCwgT1JfSURYLCB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2tleXMuanNcIjtcbmltcG9ydCB7IEdBc3RWaXNpdG9yLCBnZXRQcm9kdWN0aW9uRHNsTmFtZSwgfSBmcm9tIFwiQGNoZXZyb3RhaW4vZ2FzdFwiO1xuaW1wb3J0IHsgTExrTG9va2FoZWFkU3RyYXRlZ3kgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9sbGtfbG9va2FoZWFkLmpzXCI7XG4vKipcbiAqIFRyYWl0IHJlc3BvbnNpYmxlIGZvciB0aGUgbG9va2FoZWFkIHJlbGF0ZWQgdXRpbGl0aWVzIGFuZCBvcHRpbWl6YXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgTG9va3NBaGVhZCB7XG4gICAgaW5pdExvb2tzQWhlYWQoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuZHluYW1pY1Rva2Vuc0VuYWJsZWQgPSBoYXMoY29uZmlnLCBcImR5bmFtaWNUb2tlbnNFbmFibGVkXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5keW5hbWljVG9rZW5zRW5hYmxlZCAvLyBhc3N1bWVzIGVuZCB1c2VyIHByb3ZpZGVzIHRoZSBjb3JyZWN0IGNvbmZpZyB2YWx1ZS90eXBlXG4gICAgICAgICAgICA6IERFRkFVTFRfUEFSU0VSX0NPTkZJRy5keW5hbWljVG9rZW5zRW5hYmxlZDtcbiAgICAgICAgdGhpcy5tYXhMb29rYWhlYWQgPSBoYXMoY29uZmlnLCBcIm1heExvb2thaGVhZFwiKVxuICAgICAgICAgICAgPyBjb25maWcubWF4TG9va2FoZWFkIC8vIGFzc3VtZXMgZW5kIHVzZXIgcHJvdmlkZXMgdGhlIGNvcnJlY3QgY29uZmlnIHZhbHVlL3R5cGVcbiAgICAgICAgICAgIDogREVGQVVMVF9QQVJTRVJfQ09ORklHLm1heExvb2thaGVhZDtcbiAgICAgICAgdGhpcy5sb29rYWhlYWRTdHJhdGVneSA9IGhhcyhjb25maWcsIFwibG9va2FoZWFkU3RyYXRlZ3lcIilcbiAgICAgICAgICAgID8gY29uZmlnLmxvb2thaGVhZFN0cmF0ZWd5IC8vIGFzc3VtZXMgZW5kIHVzZXIgcHJvdmlkZXMgdGhlIGNvcnJlY3QgY29uZmlnIHZhbHVlL3R5cGVcbiAgICAgICAgICAgIDogbmV3IExMa0xvb2thaGVhZFN0cmF0ZWd5KHsgbWF4TG9va2FoZWFkOiB0aGlzLm1heExvb2thaGVhZCB9KTtcbiAgICAgICAgdGhpcy5sb29rQWhlYWRGdW5jc0NhY2hlID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBwcmVDb21wdXRlTG9va2FoZWFkRnVuY3Rpb25zKHJ1bGVzKSB7XG4gICAgICAgIGZvckVhY2gocnVsZXMsIChjdXJyUnVsZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5UUkFDRV9JTklUKGAke2N1cnJSdWxlLm5hbWV9IFJ1bGUgTG9va2FoZWFkYCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYWx0ZXJuYXRpb24sIHJlcGV0aXRpb24sIG9wdGlvbiwgcmVwZXRpdGlvbk1hbmRhdG9yeSwgcmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIHJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCB9ID0gY29sbGVjdE1ldGhvZHMoY3VyclJ1bGUpO1xuICAgICAgICAgICAgICAgIGZvckVhY2goYWx0ZXJuYXRpb24sIChjdXJyUHJvZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kSWR4ID0gY3VyclByb2QuaWR4ID09PSAwID8gXCJcIiA6IGN1cnJQcm9kLmlkeDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5UUkFDRV9JTklUKGAke2dldFByb2R1Y3Rpb25Ec2xOYW1lKGN1cnJQcm9kKX0ke3Byb2RJZHh9YCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFGdW5jID0gdGhpcy5sb29rYWhlYWRTdHJhdGVneS5idWlsZExvb2thaGVhZEZvckFsdGVybmF0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kT2NjdXJyZW5jZTogY3VyclByb2QuaWR4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGU6IGN1cnJSdWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heExvb2thaGVhZDogY3VyclByb2QubWF4TG9va2FoZWFkIHx8IHRoaXMubWF4TG9va2FoZWFkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1ByZWRpY2F0ZXM6IGN1cnJQcm9kLmhhc1ByZWRpY2F0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHluYW1pY1Rva2Vuc0VuYWJsZWQ6IHRoaXMuZHluYW1pY1Rva2Vuc0VuYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZCh0aGlzLmZ1bGxSdWxlTmFtZVRvU2hvcnRbY3VyclJ1bGUubmFtZV0sIE9SX0lEWCwgY3VyclByb2QuaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TGFGdW5jQ2FjaGUoa2V5LCBsYUZ1bmMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmb3JFYWNoKHJlcGV0aXRpb24sIChjdXJyUHJvZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVMb29rYWhlYWRGdW5jKGN1cnJSdWxlLCBjdXJyUHJvZC5pZHgsIE1BTllfSURYLCBcIlJlcGV0aXRpb25cIiwgY3VyclByb2QubWF4TG9va2FoZWFkLCBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvckVhY2gob3B0aW9uLCAoY3VyclByb2QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlTG9va2FoZWFkRnVuYyhjdXJyUnVsZSwgY3VyclByb2QuaWR4LCBPUFRJT05fSURYLCBcIk9wdGlvblwiLCBjdXJyUHJvZC5tYXhMb29rYWhlYWQsIGdldFByb2R1Y3Rpb25Ec2xOYW1lKGN1cnJQcm9kKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm9yRWFjaChyZXBldGl0aW9uTWFuZGF0b3J5LCAoY3VyclByb2QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlTG9va2FoZWFkRnVuYyhjdXJyUnVsZSwgY3VyclByb2QuaWR4LCBBVF9MRUFTVF9PTkVfSURYLCBcIlJlcGV0aXRpb25NYW5kYXRvcnlcIiwgY3VyclByb2QubWF4TG9va2FoZWFkLCBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvckVhY2gocmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIChjdXJyUHJvZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVMb29rYWhlYWRGdW5jKGN1cnJSdWxlLCBjdXJyUHJvZC5pZHgsIEFUX0xFQVNUX09ORV9TRVBfSURYLCBcIlJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yXCIsIGN1cnJQcm9kLm1heExvb2thaGVhZCwgZ2V0UHJvZHVjdGlvbkRzbE5hbWUoY3VyclByb2QpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmb3JFYWNoKHJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCAoY3VyclByb2QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlTG9va2FoZWFkRnVuYyhjdXJyUnVsZSwgY3VyclByb2QuaWR4LCBNQU5ZX1NFUF9JRFgsIFwiUmVwZXRpdGlvbldpdGhTZXBhcmF0b3JcIiwgY3VyclByb2QubWF4TG9va2FoZWFkLCBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb21wdXRlTG9va2FoZWFkRnVuYyhydWxlLCBwcm9kT2NjdXJyZW5jZSwgcHJvZEtleSwgcHJvZFR5cGUsIHByb2RNYXhMb29rYWhlYWQsIGRzbE1ldGhvZE5hbWUpIHtcbiAgICAgICAgdGhpcy5UUkFDRV9JTklUKGAke2RzbE1ldGhvZE5hbWV9JHtwcm9kT2NjdXJyZW5jZSA9PT0gMCA/IFwiXCIgOiBwcm9kT2NjdXJyZW5jZX1gLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsYUZ1bmMgPSB0aGlzLmxvb2thaGVhZFN0cmF0ZWd5LmJ1aWxkTG9va2FoZWFkRm9yT3B0aW9uYWwoe1xuICAgICAgICAgICAgICAgIHByb2RPY2N1cnJlbmNlLFxuICAgICAgICAgICAgICAgIHJ1bGUsXG4gICAgICAgICAgICAgICAgbWF4TG9va2FoZWFkOiBwcm9kTWF4TG9va2FoZWFkIHx8IHRoaXMubWF4TG9va2FoZWFkLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNUb2tlbnNFbmFibGVkOiB0aGlzLmR5bmFtaWNUb2tlbnNFbmFibGVkLFxuICAgICAgICAgICAgICAgIHByb2RUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQodGhpcy5mdWxsUnVsZU5hbWVUb1Nob3J0W3J1bGUubmFtZV0sIHByb2RLZXksIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0TGFGdW5jQ2FjaGUoa2V5LCBsYUZ1bmMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gdGhpcyBhY3R1YWxseSByZXR1cm5zIGEgbnVtYmVyLCBidXQgaXQgaXMgYWx3YXlzIHVzZWQgYXMgYSBzdHJpbmcgKG9iamVjdCBwcm9wIGtleSlcbiAgICBnZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQoZHNsTWV0aG9kSWR4LCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIGNvbnN0IGN1cnJSdWxlU2hvcnROYW1lID0gdGhpcy5nZXRMYXN0RXhwbGljaXRSdWxlU2hvcnROYW1lKCk7XG4gICAgICAgIHJldHVybiBnZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQoY3VyclJ1bGVTaG9ydE5hbWUsIGRzbE1ldGhvZElkeCwgb2NjdXJyZW5jZSk7XG4gICAgfVxuICAgIGdldExhRnVuY0Zyb21DYWNoZShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9va0FoZWFkRnVuY3NDYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBzZXRMYUZ1bmNDYWNoZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMubG9va0FoZWFkRnVuY3NDYWNoZS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxufVxuY2xhc3MgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IgZXh0ZW5kcyBHQXN0VmlzaXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZHNsTWV0aG9kcyA9IHtcbiAgICAgICAgICAgIG9wdGlvbjogW10sXG4gICAgICAgICAgICBhbHRlcm5hdGlvbjogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uOiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb25XaXRoU2VwYXJhdG9yOiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb25NYW5kYXRvcnk6IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3I6IFtdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzID0ge1xuICAgICAgICAgICAgb3B0aW9uOiBbXSxcbiAgICAgICAgICAgIGFsdGVybmF0aW9uOiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb246IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbldpdGhTZXBhcmF0b3I6IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbk1hbmRhdG9yeTogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcjogW10sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHZpc2l0T3B0aW9uKG9wdGlvbikge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMub3B0aW9uLnB1c2gob3B0aW9uKTtcbiAgICB9XG4gICAgdmlzaXRSZXBldGl0aW9uV2l0aFNlcGFyYXRvcihtYW55U2VwKSB7XG4gICAgICAgIHRoaXMuZHNsTWV0aG9kcy5yZXBldGl0aW9uV2l0aFNlcGFyYXRvci5wdXNoKG1hbnlTZXApO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb25NYW5kYXRvcnkoYXRMZWFzdE9uZSkge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMucmVwZXRpdGlvbk1hbmRhdG9yeS5wdXNoKGF0TGVhc3RPbmUpO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yKGF0TGVhc3RPbmVTZXApIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLnJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLnB1c2goYXRMZWFzdE9uZVNlcCk7XG4gICAgfVxuICAgIHZpc2l0UmVwZXRpdGlvbihtYW55KSB7XG4gICAgICAgIHRoaXMuZHNsTWV0aG9kcy5yZXBldGl0aW9uLnB1c2gobWFueSk7XG4gICAgfVxuICAgIHZpc2l0QWx0ZXJuYXRpb24ob3IpIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLmFsdGVybmF0aW9uLnB1c2gob3IpO1xuICAgIH1cbn1cbmNvbnN0IGNvbGxlY3RvclZpc2l0b3IgPSBuZXcgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IoKTtcbmV4cG9ydCBmdW5jdGlvbiBjb2xsZWN0TWV0aG9kcyhydWxlKSB7XG4gICAgY29sbGVjdG9yVmlzaXRvci5yZXNldCgpO1xuICAgIHJ1bGUuYWNjZXB0KGNvbGxlY3RvclZpc2l0b3IpO1xuICAgIGNvbnN0IGRzbE1ldGhvZHMgPSBjb2xsZWN0b3JWaXNpdG9yLmRzbE1ldGhvZHM7XG4gICAgLy8gYXZvaWQgdW5jbGVhbmVkIHJlZmVyZW5jZXNcbiAgICBjb2xsZWN0b3JWaXNpdG9yLnJlc2V0KCk7XG4gICAgcmV0dXJuIGRzbE1ldGhvZHM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb29rc2FoZWFkLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/looksahead.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PerformanceTracer: () => (/* binding */ PerformanceTracer)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js\");\n/* harmony import */ var _chevrotain_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/utils */ \"(ssr)/../node_modules/.pnpm/@chevrotain+utils@11.0.3/node_modules/@chevrotain/utils/lib/src/api.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n\n\n\n/**\n * Trait responsible for runtime parsing errors.\n */\nclass PerformanceTracer {\n    initPerformanceTracer(config) {\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(config, \"traceInitPerf\")) {\n            const userTraceInitPerf = config.traceInitPerf;\n            const traceIsNumber = typeof userTraceInitPerf === \"number\";\n            this.traceInitMaxIdent = traceIsNumber\n                ? userTraceInitPerf\n                : Infinity;\n            this.traceInitPerf = traceIsNumber\n                ? userTraceInitPerf > 0\n                : userTraceInitPerf; // assumes end user provides the correct config value/type\n        }\n        else {\n            this.traceInitMaxIdent = 0;\n            this.traceInitPerf = _parser_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_PARSER_CONFIG.traceInitPerf;\n        }\n        this.traceInitIndent = -1;\n    }\n    TRACE_INIT(phaseDesc, phaseImpl) {\n        // No need to optimize this using NOOP pattern because\n        // It is not called in a hot spot...\n        if (this.traceInitPerf === true) {\n            this.traceInitIndent++;\n            const indent = new Array(this.traceInitIndent + 1).join(\"\\t\");\n            if (this.traceInitIndent < this.traceInitMaxIdent) {\n                console.log(`${indent}--> <${phaseDesc}>`);\n            }\n            const { time, value } = (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_0__.timer)(phaseImpl);\n            /* istanbul ignore next - Difficult to reproduce specific performance behavior (>10ms) in tests */\n            const traceMethod = time > 10 ? console.warn : console.log;\n            if (this.traceInitIndent < this.traceInitMaxIdent) {\n                traceMethod(`${indent}<-- <${phaseDesc}> time: ${time}ms`);\n            }\n            this.traceInitIndent--;\n            return value;\n        }\n        else {\n            return phaseImpl();\n        }\n    }\n}\n//# sourceMappingURL=perf_tracer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9wZXJmX3RyYWNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdDO0FBQ1U7QUFDVztBQUNyRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsWUFBWSxxREFBRztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw2REFBcUI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsT0FBTyxPQUFPLFVBQVU7QUFDdkQ7QUFDQSxvQkFBb0IsY0FBYyxFQUFFLHdEQUFLO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixPQUFPLE9BQU8sVUFBVSxVQUFVLEtBQUs7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9wZXJmX3RyYWNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYXMgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyB0aW1lciB9IGZyb20gXCJAY2hldnJvdGFpbi91dGlsc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9QQVJTRVJfQ09ORklHIH0gZnJvbSBcIi4uL3BhcnNlci5qc1wiO1xuLyoqXG4gKiBUcmFpdCByZXNwb25zaWJsZSBmb3IgcnVudGltZSBwYXJzaW5nIGVycm9ycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFBlcmZvcm1hbmNlVHJhY2VyIHtcbiAgICBpbml0UGVyZm9ybWFuY2VUcmFjZXIoY29uZmlnKSB7XG4gICAgICAgIGlmIChoYXMoY29uZmlnLCBcInRyYWNlSW5pdFBlcmZcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJUcmFjZUluaXRQZXJmID0gY29uZmlnLnRyYWNlSW5pdFBlcmY7XG4gICAgICAgICAgICBjb25zdCB0cmFjZUlzTnVtYmVyID0gdHlwZW9mIHVzZXJUcmFjZUluaXRQZXJmID09PSBcIm51bWJlclwiO1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRNYXhJZGVudCA9IHRyYWNlSXNOdW1iZXJcbiAgICAgICAgICAgICAgICA/IHVzZXJUcmFjZUluaXRQZXJmXG4gICAgICAgICAgICAgICAgOiBJbmZpbml0eTtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0UGVyZiA9IHRyYWNlSXNOdW1iZXJcbiAgICAgICAgICAgICAgICA/IHVzZXJUcmFjZUluaXRQZXJmID4gMFxuICAgICAgICAgICAgICAgIDogdXNlclRyYWNlSW5pdFBlcmY7IC8vIGFzc3VtZXMgZW5kIHVzZXIgcHJvdmlkZXMgdGhlIGNvcnJlY3QgY29uZmlnIHZhbHVlL3R5cGVcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0TWF4SWRlbnQgPSAwO1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRQZXJmID0gREVGQVVMVF9QQVJTRVJfQ09ORklHLnRyYWNlSW5pdFBlcmY7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZUluaXRJbmRlbnQgPSAtMTtcbiAgICB9XG4gICAgVFJBQ0VfSU5JVChwaGFzZURlc2MsIHBoYXNlSW1wbCkge1xuICAgICAgICAvLyBObyBuZWVkIHRvIG9wdGltaXplIHRoaXMgdXNpbmcgTk9PUCBwYXR0ZXJuIGJlY2F1c2VcbiAgICAgICAgLy8gSXQgaXMgbm90IGNhbGxlZCBpbiBhIGhvdCBzcG90Li4uXG4gICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdFBlcmYgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0SW5kZW50Kys7XG4gICAgICAgICAgICBjb25zdCBpbmRlbnQgPSBuZXcgQXJyYXkodGhpcy50cmFjZUluaXRJbmRlbnQgKyAxKS5qb2luKFwiXFx0XCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VJbml0SW5kZW50IDwgdGhpcy50cmFjZUluaXRNYXhJZGVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke2luZGVudH0tLT4gPCR7cGhhc2VEZXNjfT5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgdGltZSwgdmFsdWUgfSA9IHRpbWVyKHBoYXNlSW1wbCk7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIERpZmZpY3VsdCB0byByZXByb2R1Y2Ugc3BlY2lmaWMgcGVyZm9ybWFuY2UgYmVoYXZpb3IgKD4xMG1zKSBpbiB0ZXN0cyAqL1xuICAgICAgICAgICAgY29uc3QgdHJhY2VNZXRob2QgPSB0aW1lID4gMTAgPyBjb25zb2xlLndhcm4gOiBjb25zb2xlLmxvZztcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdEluZGVudCA8IHRoaXMudHJhY2VJbml0TWF4SWRlbnQpIHtcbiAgICAgICAgICAgICAgICB0cmFjZU1ldGhvZChgJHtpbmRlbnR9PC0tIDwke3BoYXNlRGVzY30+IHRpbWU6ICR7dGltZX1tc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRJbmRlbnQtLTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwaGFzZUltcGwoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBlcmZfdHJhY2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_api.js":
/*!*********************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_api.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecognizerApi: () => (/* binding */ RecognizerApi)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/includes.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/values.js\");\n/* harmony import */ var _exceptions_public_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../exceptions_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/exceptions_public.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _errors_public_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../errors_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/errors_public.js\");\n/* harmony import */ var _grammar_checks_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../grammar/checks.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/checks.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n\n\n\n\n/**\n * This trait is responsible for implementing the public API\n * for defining Chevrotain parsers, i.e:\n * - CONSUME\n * - RULE\n * - OPTION\n * - ...\n */\nclass RecognizerApi {\n    ACTION(impl) {\n        return impl.call(this);\n    }\n    consume(idx, tokType, options) {\n        return this.consumeInternal(tokType, idx, options);\n    }\n    subrule(idx, ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, idx, options);\n    }\n    option(idx, actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, idx);\n    }\n    or(idx, altsOrOpts) {\n        return this.orInternal(altsOrOpts, idx);\n    }\n    many(idx, actionORMethodDef) {\n        return this.manyInternal(idx, actionORMethodDef);\n    }\n    atLeastOne(idx, actionORMethodDef) {\n        return this.atLeastOneInternal(idx, actionORMethodDef);\n    }\n    CONSUME(tokType, options) {\n        return this.consumeInternal(tokType, 0, options);\n    }\n    CONSUME1(tokType, options) {\n        return this.consumeInternal(tokType, 1, options);\n    }\n    CONSUME2(tokType, options) {\n        return this.consumeInternal(tokType, 2, options);\n    }\n    CONSUME3(tokType, options) {\n        return this.consumeInternal(tokType, 3, options);\n    }\n    CONSUME4(tokType, options) {\n        return this.consumeInternal(tokType, 4, options);\n    }\n    CONSUME5(tokType, options) {\n        return this.consumeInternal(tokType, 5, options);\n    }\n    CONSUME6(tokType, options) {\n        return this.consumeInternal(tokType, 6, options);\n    }\n    CONSUME7(tokType, options) {\n        return this.consumeInternal(tokType, 7, options);\n    }\n    CONSUME8(tokType, options) {\n        return this.consumeInternal(tokType, 8, options);\n    }\n    CONSUME9(tokType, options) {\n        return this.consumeInternal(tokType, 9, options);\n    }\n    SUBRULE(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 0, options);\n    }\n    SUBRULE1(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 1, options);\n    }\n    SUBRULE2(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 2, options);\n    }\n    SUBRULE3(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 3, options);\n    }\n    SUBRULE4(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 4, options);\n    }\n    SUBRULE5(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 5, options);\n    }\n    SUBRULE6(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 6, options);\n    }\n    SUBRULE7(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 7, options);\n    }\n    SUBRULE8(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 8, options);\n    }\n    SUBRULE9(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 9, options);\n    }\n    OPTION(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 0);\n    }\n    OPTION1(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 1);\n    }\n    OPTION2(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 2);\n    }\n    OPTION3(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 3);\n    }\n    OPTION4(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 4);\n    }\n    OPTION5(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 5);\n    }\n    OPTION6(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 6);\n    }\n    OPTION7(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 7);\n    }\n    OPTION8(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 8);\n    }\n    OPTION9(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 9);\n    }\n    OR(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 0);\n    }\n    OR1(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 1);\n    }\n    OR2(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 2);\n    }\n    OR3(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 3);\n    }\n    OR4(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 4);\n    }\n    OR5(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 5);\n    }\n    OR6(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 6);\n    }\n    OR7(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 7);\n    }\n    OR8(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 8);\n    }\n    OR9(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 9);\n    }\n    MANY(actionORMethodDef) {\n        this.manyInternal(0, actionORMethodDef);\n    }\n    MANY1(actionORMethodDef) {\n        this.manyInternal(1, actionORMethodDef);\n    }\n    MANY2(actionORMethodDef) {\n        this.manyInternal(2, actionORMethodDef);\n    }\n    MANY3(actionORMethodDef) {\n        this.manyInternal(3, actionORMethodDef);\n    }\n    MANY4(actionORMethodDef) {\n        this.manyInternal(4, actionORMethodDef);\n    }\n    MANY5(actionORMethodDef) {\n        this.manyInternal(5, actionORMethodDef);\n    }\n    MANY6(actionORMethodDef) {\n        this.manyInternal(6, actionORMethodDef);\n    }\n    MANY7(actionORMethodDef) {\n        this.manyInternal(7, actionORMethodDef);\n    }\n    MANY8(actionORMethodDef) {\n        this.manyInternal(8, actionORMethodDef);\n    }\n    MANY9(actionORMethodDef) {\n        this.manyInternal(9, actionORMethodDef);\n    }\n    MANY_SEP(options) {\n        this.manySepFirstInternal(0, options);\n    }\n    MANY_SEP1(options) {\n        this.manySepFirstInternal(1, options);\n    }\n    MANY_SEP2(options) {\n        this.manySepFirstInternal(2, options);\n    }\n    MANY_SEP3(options) {\n        this.manySepFirstInternal(3, options);\n    }\n    MANY_SEP4(options) {\n        this.manySepFirstInternal(4, options);\n    }\n    MANY_SEP5(options) {\n        this.manySepFirstInternal(5, options);\n    }\n    MANY_SEP6(options) {\n        this.manySepFirstInternal(6, options);\n    }\n    MANY_SEP7(options) {\n        this.manySepFirstInternal(7, options);\n    }\n    MANY_SEP8(options) {\n        this.manySepFirstInternal(8, options);\n    }\n    MANY_SEP9(options) {\n        this.manySepFirstInternal(9, options);\n    }\n    AT_LEAST_ONE(actionORMethodDef) {\n        this.atLeastOneInternal(0, actionORMethodDef);\n    }\n    AT_LEAST_ONE1(actionORMethodDef) {\n        return this.atLeastOneInternal(1, actionORMethodDef);\n    }\n    AT_LEAST_ONE2(actionORMethodDef) {\n        this.atLeastOneInternal(2, actionORMethodDef);\n    }\n    AT_LEAST_ONE3(actionORMethodDef) {\n        this.atLeastOneInternal(3, actionORMethodDef);\n    }\n    AT_LEAST_ONE4(actionORMethodDef) {\n        this.atLeastOneInternal(4, actionORMethodDef);\n    }\n    AT_LEAST_ONE5(actionORMethodDef) {\n        this.atLeastOneInternal(5, actionORMethodDef);\n    }\n    AT_LEAST_ONE6(actionORMethodDef) {\n        this.atLeastOneInternal(6, actionORMethodDef);\n    }\n    AT_LEAST_ONE7(actionORMethodDef) {\n        this.atLeastOneInternal(7, actionORMethodDef);\n    }\n    AT_LEAST_ONE8(actionORMethodDef) {\n        this.atLeastOneInternal(8, actionORMethodDef);\n    }\n    AT_LEAST_ONE9(actionORMethodDef) {\n        this.atLeastOneInternal(9, actionORMethodDef);\n    }\n    AT_LEAST_ONE_SEP(options) {\n        this.atLeastOneSepFirstInternal(0, options);\n    }\n    AT_LEAST_ONE_SEP1(options) {\n        this.atLeastOneSepFirstInternal(1, options);\n    }\n    AT_LEAST_ONE_SEP2(options) {\n        this.atLeastOneSepFirstInternal(2, options);\n    }\n    AT_LEAST_ONE_SEP3(options) {\n        this.atLeastOneSepFirstInternal(3, options);\n    }\n    AT_LEAST_ONE_SEP4(options) {\n        this.atLeastOneSepFirstInternal(4, options);\n    }\n    AT_LEAST_ONE_SEP5(options) {\n        this.atLeastOneSepFirstInternal(5, options);\n    }\n    AT_LEAST_ONE_SEP6(options) {\n        this.atLeastOneSepFirstInternal(6, options);\n    }\n    AT_LEAST_ONE_SEP7(options) {\n        this.atLeastOneSepFirstInternal(7, options);\n    }\n    AT_LEAST_ONE_SEP8(options) {\n        this.atLeastOneSepFirstInternal(8, options);\n    }\n    AT_LEAST_ONE_SEP9(options) {\n        this.atLeastOneSepFirstInternal(9, options);\n    }\n    RULE(name, implementation, config = _parser_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RULE_CONFIG) {\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.definedRulesNames, name)) {\n            const errMsg = _errors_public_js__WEBPACK_IMPORTED_MODULE_2__.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({\n                topLevelRule: name,\n                grammarName: this.className,\n            });\n            const error = {\n                message: errMsg,\n                type: _parser_js__WEBPACK_IMPORTED_MODULE_1__.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,\n                ruleName: name,\n            };\n            this.definitionErrors.push(error);\n        }\n        this.definedRulesNames.push(name);\n        const ruleImplementation = this.defineRule(name, implementation, config);\n        this[name] = ruleImplementation;\n        return ruleImplementation;\n    }\n    OVERRIDE_RULE(name, impl, config = _parser_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RULE_CONFIG) {\n        const ruleErrors = (0,_grammar_checks_js__WEBPACK_IMPORTED_MODULE_3__.validateRuleIsOverridden)(name, this.definedRulesNames, this.className);\n        this.definitionErrors = this.definitionErrors.concat(ruleErrors);\n        const ruleImplementation = this.defineRule(name, impl, config);\n        this[name] = ruleImplementation;\n        return ruleImplementation;\n    }\n    BACKTRACK(grammarRule, args) {\n        return function () {\n            // save org state\n            this.isBackTrackingStack.push(1);\n            const orgState = this.saveRecogState();\n            try {\n                grammarRule.apply(this, args);\n                // if no exception was thrown we have succeed parsing the rule.\n                return true;\n            }\n            catch (e) {\n                if ((0,_exceptions_public_js__WEBPACK_IMPORTED_MODULE_0__.isRecognitionException)(e)) {\n                    return false;\n                }\n                else {\n                    throw e;\n                }\n            }\n            finally {\n                this.reloadRecogState(orgState);\n                this.isBackTrackingStack.pop();\n            }\n        };\n    }\n    // GAST export APIs\n    getGAstProductions() {\n        return this.gastProductionsCache;\n    }\n    getSerializedGastProductions() {\n        return (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_4__.serializeGrammar)((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this.gastProductionsCache));\n    }\n}\n//# sourceMappingURL=recognizer_api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9yZWNvZ25pemVyX2FwaS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE2QztBQUN1QjtBQUNVO0FBQ0E7QUFDWDtBQUNmO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QywyREFBbUI7QUFDM0QsWUFBWSxxREFBUTtBQUNwQiwyQkFBMkIsbUZBQW9DO0FBQy9EO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLHNCQUFzQixpRUFBeUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDJEQUFtQjtBQUMxRCwyQkFBMkIsNEVBQXdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZFQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrRUFBZ0IsQ0FBQyxxREFBTTtBQUN0QztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9yZWNvZ25pemVyX2FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbmNsdWRlcywgdmFsdWVzIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbiB9IGZyb20gXCIuLi8uLi9leGNlcHRpb25zX3B1YmxpYy5qc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9SVUxFX0NPTkZJRywgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSB9IGZyb20gXCIuLi9wYXJzZXIuanNcIjtcbmltcG9ydCB7IGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlciB9IGZyb20gXCIuLi8uLi9lcnJvcnNfcHVibGljLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZVJ1bGVJc092ZXJyaWRkZW4gfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9jaGVja3MuanNcIjtcbmltcG9ydCB7IHNlcmlhbGl6ZUdyYW1tYXIgfSBmcm9tIFwiQGNoZXZyb3RhaW4vZ2FzdFwiO1xuLyoqXG4gKiBUaGlzIHRyYWl0IGlzIHJlc3BvbnNpYmxlIGZvciBpbXBsZW1lbnRpbmcgdGhlIHB1YmxpYyBBUElcbiAqIGZvciBkZWZpbmluZyBDaGV2cm90YWluIHBhcnNlcnMsIGkuZTpcbiAqIC0gQ09OU1VNRVxuICogLSBSVUxFXG4gKiAtIE9QVElPTlxuICogLSAuLi5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlY29nbml6ZXJBcGkge1xuICAgIEFDVElPTihpbXBsKSB7XG4gICAgICAgIHJldHVybiBpbXBsLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIGNvbnN1bWUoaWR4LCB0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCBpZHgsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBzdWJydWxlKGlkeCwgcnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgaWR4LCBvcHRpb25zKTtcbiAgICB9XG4gICAgb3B0aW9uKGlkeCwgYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIGlkeCk7XG4gICAgfVxuICAgIG9yKGlkeCwgYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIGlkeCk7XG4gICAgfVxuICAgIG1hbnkoaWR4LCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5tYW55SW50ZXJuYWwoaWR4LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIGF0TGVhc3RPbmUoaWR4LCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoaWR4LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIENPTlNVTUUodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgMCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIENPTlNVTUUxKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBDT05TVU1FMih0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCAyLCBvcHRpb25zKTtcbiAgICB9XG4gICAgQ09OU1VNRTModG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgMywgb3B0aW9ucyk7XG4gICAgfVxuICAgIENPTlNVTUU0KHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBDT05TVU1FNSh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCA1LCBvcHRpb25zKTtcbiAgICB9XG4gICAgQ09OU1VNRTYodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgNiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIENPTlNVTUU3KHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDcsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBDT05TVU1FOCh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCA4LCBvcHRpb25zKTtcbiAgICB9XG4gICAgQ09OU1VNRTkodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgOSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIFNVQlJVTEUocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgMCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIFNVQlJVTEUxKHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBTVUJSVUxFMihydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCAyLCBvcHRpb25zKTtcbiAgICB9XG4gICAgU1VCUlVMRTMocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgMywgb3B0aW9ucyk7XG4gICAgfVxuICAgIFNVQlJVTEU0KHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBTVUJSVUxFNShydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCA1LCBvcHRpb25zKTtcbiAgICB9XG4gICAgU1VCUlVMRTYocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgNiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIFNVQlJVTEU3KHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDcsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBTVUJSVUxFOChydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCA4LCBvcHRpb25zKTtcbiAgICB9XG4gICAgU1VCUlVMRTkocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgOSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIE9QVElPTihhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgMCk7XG4gICAgfVxuICAgIE9QVElPTjEoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDEpO1xuICAgIH1cbiAgICBPUFRJT04yKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCAyKTtcbiAgICB9XG4gICAgT1BUSU9OMyhhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgMyk7XG4gICAgfVxuICAgIE9QVElPTjQoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDQpO1xuICAgIH1cbiAgICBPUFRJT041KGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCA1KTtcbiAgICB9XG4gICAgT1BUSU9ONihhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgNik7XG4gICAgfVxuICAgIE9QVElPTjcoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDcpO1xuICAgIH1cbiAgICBPUFRJT044KGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCA4KTtcbiAgICB9XG4gICAgT1BUSU9OOShhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgOSk7XG4gICAgfVxuICAgIE9SKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCAwKTtcbiAgICB9XG4gICAgT1IxKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCAxKTtcbiAgICB9XG4gICAgT1IyKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCAyKTtcbiAgICB9XG4gICAgT1IzKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCAzKTtcbiAgICB9XG4gICAgT1I0KGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCA0KTtcbiAgICB9XG4gICAgT1I1KGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCA1KTtcbiAgICB9XG4gICAgT1I2KGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCA2KTtcbiAgICB9XG4gICAgT1I3KGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCA3KTtcbiAgICB9XG4gICAgT1I4KGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCA4KTtcbiAgICB9XG4gICAgT1I5KGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCA5KTtcbiAgICB9XG4gICAgTUFOWShhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLm1hbnlJbnRlcm5hbCgwLCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIE1BTlkxKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDEsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgTUFOWTIoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoMiwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBNQU5ZMyhhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLm1hbnlJbnRlcm5hbCgzLCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIE1BTlk0KGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDQsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgTUFOWTUoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoNSwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBNQU5ZNihhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLm1hbnlJbnRlcm5hbCg2LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIE1BTlk3KGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDcsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgTUFOWTgoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoOCwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBNQU5ZOShhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLm1hbnlJbnRlcm5hbCg5LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIE1BTllfU0VQKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCgwLCBvcHRpb25zKTtcbiAgICB9XG4gICAgTUFOWV9TRVAxKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCgxLCBvcHRpb25zKTtcbiAgICB9XG4gICAgTUFOWV9TRVAyKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCgyLCBvcHRpb25zKTtcbiAgICB9XG4gICAgTUFOWV9TRVAzKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCgzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgTUFOWV9TRVA0KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCg0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgTUFOWV9TRVA1KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCg1LCBvcHRpb25zKTtcbiAgICB9XG4gICAgTUFOWV9TRVA2KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCg2LCBvcHRpb25zKTtcbiAgICB9XG4gICAgTUFOWV9TRVA3KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCg3LCBvcHRpb25zKTtcbiAgICB9XG4gICAgTUFOWV9TRVA4KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCg4LCBvcHRpb25zKTtcbiAgICB9XG4gICAgTUFOWV9TRVA5KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCg5LCBvcHRpb25zKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDAsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FMShhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoMSwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkUyKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDIsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FMyhhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCgzLCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIEFUX0xFQVNUX09ORTQoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoNCwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkU1KGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDUsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FNihhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCg2LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIEFUX0xFQVNUX09ORTcoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoNywgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkU4KGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDgsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FOShhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCg5LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIEFUX0xFQVNUX09ORV9TRVAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsKDAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkVfU0VQMShvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoMSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIEFUX0xFQVNUX09ORV9TRVAyKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCgyLCBvcHRpb25zKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FX1NFUDMob3B0aW9ucykge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsKDMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkVfU0VQNChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoNCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIEFUX0xFQVNUX09ORV9TRVA1KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCg1LCBvcHRpb25zKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FX1NFUDYob3B0aW9ucykge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsKDYsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkVfU0VQNyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoNywgb3B0aW9ucyk7XG4gICAgfVxuICAgIEFUX0xFQVNUX09ORV9TRVA4KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCg4LCBvcHRpb25zKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FX1NFUDkob3B0aW9ucykge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsKDksIG9wdGlvbnMpO1xuICAgIH1cbiAgICBSVUxFKG5hbWUsIGltcGxlbWVudGF0aW9uLCBjb25maWcgPSBERUZBVUxUX1JVTEVfQ09ORklHKSB7XG4gICAgICAgIGlmIChpbmNsdWRlcyh0aGlzLmRlZmluZWRSdWxlc05hbWVzLCBuYW1lKSkge1xuICAgICAgICAgICAgY29uc3QgZXJyTXNnID0gZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyLmJ1aWxkRHVwbGljYXRlUnVsZU5hbWVFcnJvcih7XG4gICAgICAgICAgICAgICAgdG9wTGV2ZWxSdWxlOiBuYW1lLFxuICAgICAgICAgICAgICAgIGdyYW1tYXJOYW1lOiB0aGlzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuRFVQTElDQVRFX1JVTEVfTkFNRSxcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogbmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmRlZmluaXRpb25FcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWZpbmVkUnVsZXNOYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgICBjb25zdCBydWxlSW1wbGVtZW50YXRpb24gPSB0aGlzLmRlZmluZVJ1bGUobmFtZSwgaW1wbGVtZW50YXRpb24sIGNvbmZpZyk7XG4gICAgICAgIHRoaXNbbmFtZV0gPSBydWxlSW1wbGVtZW50YXRpb247XG4gICAgICAgIHJldHVybiBydWxlSW1wbGVtZW50YXRpb247XG4gICAgfVxuICAgIE9WRVJSSURFX1JVTEUobmFtZSwgaW1wbCwgY29uZmlnID0gREVGQVVMVF9SVUxFX0NPTkZJRykge1xuICAgICAgICBjb25zdCBydWxlRXJyb3JzID0gdmFsaWRhdGVSdWxlSXNPdmVycmlkZGVuKG5hbWUsIHRoaXMuZGVmaW5lZFJ1bGVzTmFtZXMsIHRoaXMuY2xhc3NOYW1lKTtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uRXJyb3JzID0gdGhpcy5kZWZpbml0aW9uRXJyb3JzLmNvbmNhdChydWxlRXJyb3JzKTtcbiAgICAgICAgY29uc3QgcnVsZUltcGxlbWVudGF0aW9uID0gdGhpcy5kZWZpbmVSdWxlKG5hbWUsIGltcGwsIGNvbmZpZyk7XG4gICAgICAgIHRoaXNbbmFtZV0gPSBydWxlSW1wbGVtZW50YXRpb247XG4gICAgICAgIHJldHVybiBydWxlSW1wbGVtZW50YXRpb247XG4gICAgfVxuICAgIEJBQ0tUUkFDSyhncmFtbWFyUnVsZSwgYXJncykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gc2F2ZSBvcmcgc3RhdGVcbiAgICAgICAgICAgIHRoaXMuaXNCYWNrVHJhY2tpbmdTdGFjay5wdXNoKDEpO1xuICAgICAgICAgICAgY29uc3Qgb3JnU3RhdGUgPSB0aGlzLnNhdmVSZWNvZ1N0YXRlKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGdyYW1tYXJSdWxlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIC8vIGlmIG5vIGV4Y2VwdGlvbiB3YXMgdGhyb3duIHdlIGhhdmUgc3VjY2VlZCBwYXJzaW5nIHRoZSBydWxlLlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbihlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkUmVjb2dTdGF0ZShvcmdTdGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0JhY2tUcmFja2luZ1N0YWNrLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBHQVNUIGV4cG9ydCBBUElzXG4gICAgZ2V0R0FzdFByb2R1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZTtcbiAgICB9XG4gICAgZ2V0U2VyaWFsaXplZEdhc3RQcm9kdWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZUdyYW1tYXIodmFsdWVzKHRoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGUpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvZ25pemVyX2FwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_api.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_engine.js":
/*!************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_engine.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecognizerEngine: () => (/* binding */ RecognizerEngine)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/reduce.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/every.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/flatten.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/values.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/uniq.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/clone.js\");\n/* harmony import */ var _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../grammar/keys.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/keys.js\");\n/* harmony import */ var _exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../exceptions_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/exceptions_public.js\");\n/* harmony import */ var _grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../grammar/lookahead.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/lookahead.js\");\n/* harmony import */ var _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../grammar/interpreter.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/interpreter.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _recoverable_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./recoverable.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recoverable.js\");\n/* harmony import */ var _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../scan/tokens_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens_public.js\");\n/* harmony import */ var _scan_tokens_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../scan/tokens.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens.js\");\n\n\n\n\n\n\n\n\n\n/**\n * This trait is responsible for the runtime parsing engine\n * Used by the official API (recognizer_api.ts)\n */\nclass RecognizerEngine {\n    initRecognizerEngine(tokenVocabulary, config) {\n        this.className = this.constructor.name;\n        // TODO: would using an ES6 Map or plain object be faster (CST building scenario)\n        this.shortRuleNameToFull = {};\n        this.fullRuleNameToShort = {};\n        this.ruleShortNameIdx = 256;\n        this.tokenMatcher = _scan_tokens_js__WEBPACK_IMPORTED_MODULE_7__.tokenStructuredMatcherNoCategories;\n        this.subruleIdx = 0;\n        this.definedRulesNames = [];\n        this.tokensMap = {};\n        this.isBackTrackingStack = [];\n        this.RULE_STACK = [];\n        this.RULE_OCCURRENCE_STACK = [];\n        this.gastProductionsCache = {};\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(config, \"serializedGrammar\")) {\n            throw Error(\"The Parser's configuration can no longer contain a <serializedGrammar> property.\\n\" +\n                \"\\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\\n\" +\n                \"\\tFor Further details.\");\n        }\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokenVocabulary)) {\n            // This only checks for Token vocabularies provided as arrays.\n            // That is good enough because the main objective is to detect users of pre-V4.0 APIs\n            // rather than all edge cases of empty Token vocabularies.\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(tokenVocabulary)) {\n                throw Error(\"A Token Vocabulary cannot be empty.\\n\" +\n                    \"\\tNote that the first argument for the parser constructor\\n\" +\n                    \"\\tis no longer a Token vector (since v4.0).\");\n            }\n            if (typeof tokenVocabulary[0].startOffset === \"number\") {\n                throw Error(\"The Parser constructor no longer accepts a token vector as the first argument.\\n\" +\n                    \"\\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\\n\" +\n                    \"\\tFor Further details.\");\n            }\n        }\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokenVocabulary)) {\n            this.tokensMap = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(tokenVocabulary, (acc, tokType) => {\n                acc[tokType.name] = tokType;\n                return acc;\n            }, {});\n        }\n        else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(tokenVocabulary, \"modes\") &&\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(tokenVocabulary.modes)), _scan_tokens_js__WEBPACK_IMPORTED_MODULE_7__.isTokenType)) {\n            const allTokenTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(tokenVocabulary.modes));\n            const uniqueTokens = (0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(allTokenTypes);\n            this.tokensMap = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(uniqueTokens, (acc, tokType) => {\n                acc[tokType.name] = tokType;\n                return acc;\n            }, {});\n        }\n        else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(tokenVocabulary)) {\n            this.tokensMap = (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(tokenVocabulary);\n        }\n        else {\n            throw new Error(\"<tokensDictionary> argument must be An Array of Token constructors,\" +\n                \" A dictionary of Token constructors or an IMultiModeLexerDefinition\");\n        }\n        // always add EOF to the tokenNames -> constructors map. it is useful to assure all the input has been\n        // parsed with a clear error message (\"expecting EOF but found ...\")\n        this.tokensMap[\"EOF\"] = _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_6__.EOF;\n        const allTokenTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(tokenVocabulary, \"modes\")\n            ? (0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(tokenVocabulary.modes))\n            : (0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(tokenVocabulary);\n        const noTokenCategoriesUsed = (0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(allTokenTypes, (tokenConstructor) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(tokenConstructor.categoryMatches));\n        this.tokenMatcher = noTokenCategoriesUsed\n            ? _scan_tokens_js__WEBPACK_IMPORTED_MODULE_7__.tokenStructuredMatcherNoCategories\n            : _scan_tokens_js__WEBPACK_IMPORTED_MODULE_7__.tokenStructuredMatcher;\n        // Because ES2015+ syntax should be supported for creating Token classes\n        // We cannot assume that the Token classes were created using the \"extendToken\" utilities\n        // Therefore we must augment the Token classes both on Lexer initialization and on Parser initialization\n        (0,_scan_tokens_js__WEBPACK_IMPORTED_MODULE_7__.augmentTokenTypes)((0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(this.tokensMap));\n    }\n    defineRule(ruleName, impl, config) {\n        if (this.selfAnalysisDone) {\n            throw Error(`Grammar rule <${ruleName}> may not be defined after the 'performSelfAnalysis' method has been called'\\n` +\n                `Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);\n        }\n        const resyncEnabled = (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(config, \"resyncEnabled\")\n            ? config.resyncEnabled // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_RULE_CONFIG.resyncEnabled;\n        const recoveryValueFunc = (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(config, \"recoveryValueFunc\")\n            ? config.recoveryValueFunc // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_RULE_CONFIG.recoveryValueFunc;\n        // performance optimization: Use small integers as keys for the longer human readable \"full\" rule names.\n        // this greatly improves Map access time (as much as 8% for some performance benchmarks).\n        const shortName = this.ruleShortNameIdx << (_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.BITS_FOR_METHOD_TYPE + _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.BITS_FOR_OCCURRENCE_IDX);\n        this.ruleShortNameIdx++;\n        this.shortRuleNameToFull[shortName] = ruleName;\n        this.fullRuleNameToShort[ruleName] = shortName;\n        let invokeRuleWithTry;\n        // Micro optimization, only check the condition **once** on rule definition\n        // instead of **every single** rule invocation.\n        if (this.outputCst === true) {\n            invokeRuleWithTry = function invokeRuleWithTry(...args) {\n                try {\n                    this.ruleInvocationStateUpdate(shortName, ruleName, this.subruleIdx);\n                    impl.apply(this, args);\n                    const cst = this.CST_STACK[this.CST_STACK.length - 1];\n                    this.cstPostRule(cst);\n                    return cst;\n                }\n                catch (e) {\n                    return this.invokeRuleCatch(e, resyncEnabled, recoveryValueFunc);\n                }\n                finally {\n                    this.ruleFinallyStateUpdate();\n                }\n            };\n        }\n        else {\n            invokeRuleWithTry = function invokeRuleWithTryCst(...args) {\n                try {\n                    this.ruleInvocationStateUpdate(shortName, ruleName, this.subruleIdx);\n                    return impl.apply(this, args);\n                }\n                catch (e) {\n                    return this.invokeRuleCatch(e, resyncEnabled, recoveryValueFunc);\n                }\n                finally {\n                    this.ruleFinallyStateUpdate();\n                }\n            };\n        }\n        const wrappedGrammarRule = Object.assign(invokeRuleWithTry, { ruleName, originalGrammarAction: impl });\n        return wrappedGrammarRule;\n    }\n    invokeRuleCatch(e, resyncEnabledConfig, recoveryValueFunc) {\n        const isFirstInvokedRule = this.RULE_STACK.length === 1;\n        // note the reSync is always enabled for the first rule invocation, because we must always be able to\n        // reSync with EOF and just output some INVALID ParseTree\n        // during backtracking reSync recovery is disabled, otherwise we can't be certain the backtracking\n        // path is really the most valid one\n        const reSyncEnabled = resyncEnabledConfig && !this.isBackTracking() && this.recoveryEnabled;\n        if ((0,_exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__.isRecognitionException)(e)) {\n            const recogError = e;\n            if (reSyncEnabled) {\n                const reSyncTokType = this.findReSyncTokenType();\n                if (this.isInCurrentRuleReSyncSet(reSyncTokType)) {\n                    recogError.resyncedTokens = this.reSyncTo(reSyncTokType);\n                    if (this.outputCst) {\n                        const partialCstResult = this.CST_STACK[this.CST_STACK.length - 1];\n                        partialCstResult.recoveredNode = true;\n                        return partialCstResult;\n                    }\n                    else {\n                        return recoveryValueFunc(e);\n                    }\n                }\n                else {\n                    if (this.outputCst) {\n                        const partialCstResult = this.CST_STACK[this.CST_STACK.length - 1];\n                        partialCstResult.recoveredNode = true;\n                        recogError.partialCstResult = partialCstResult;\n                    }\n                    // to be handled Further up the call stack\n                    throw recogError;\n                }\n            }\n            else if (isFirstInvokedRule) {\n                // otherwise a Redundant input error will be created as well and we cannot guarantee that this is indeed the case\n                this.moveToTerminatedState();\n                // the parser should never throw one of its own errors outside its flow.\n                // even if error recovery is disabled\n                return recoveryValueFunc(e);\n            }\n            else {\n                // to be recovered Further up the call stack\n                throw recogError;\n            }\n        }\n        else {\n            // some other Error type which we don't know how to handle (for example a built in JavaScript Error)\n            throw e;\n        }\n    }\n    // Implementation of parsing DSL\n    optionInternal(actionORMethodDef, occurrence) {\n        const key = this.getKeyForAutomaticLookahead(_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.OPTION_IDX, occurrence);\n        return this.optionInternalLogic(actionORMethodDef, occurrence, key);\n    }\n    optionInternalLogic(actionORMethodDef, occurrence, key) {\n        let lookAheadFunc = this.getLaFuncFromCache(key);\n        let action;\n        if (typeof actionORMethodDef !== \"function\") {\n            action = actionORMethodDef.DEF;\n            const predicate = actionORMethodDef.GATE;\n            // predicate present\n            if (predicate !== undefined) {\n                const orgLookaheadFunction = lookAheadFunc;\n                lookAheadFunc = () => {\n                    return predicate.call(this) && orgLookaheadFunction.call(this);\n                };\n            }\n        }\n        else {\n            action = actionORMethodDef;\n        }\n        if (lookAheadFunc.call(this) === true) {\n            return action.call(this);\n        }\n        return undefined;\n    }\n    atLeastOneInternal(prodOccurrence, actionORMethodDef) {\n        const laKey = this.getKeyForAutomaticLookahead(_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.AT_LEAST_ONE_IDX, prodOccurrence);\n        return this.atLeastOneInternalLogic(prodOccurrence, actionORMethodDef, laKey);\n    }\n    atLeastOneInternalLogic(prodOccurrence, actionORMethodDef, key) {\n        let lookAheadFunc = this.getLaFuncFromCache(key);\n        let action;\n        if (typeof actionORMethodDef !== \"function\") {\n            action = actionORMethodDef.DEF;\n            const predicate = actionORMethodDef.GATE;\n            // predicate present\n            if (predicate !== undefined) {\n                const orgLookaheadFunction = lookAheadFunc;\n                lookAheadFunc = () => {\n                    return predicate.call(this) && orgLookaheadFunction.call(this);\n                };\n            }\n        }\n        else {\n            action = actionORMethodDef;\n        }\n        if (lookAheadFunc.call(this) === true) {\n            let notStuck = this.doSingleRepetition(action);\n            while (lookAheadFunc.call(this) === true &&\n                notStuck === true) {\n                notStuck = this.doSingleRepetition(action);\n            }\n        }\n        else {\n            throw this.raiseEarlyExitException(prodOccurrence, _grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.PROD_TYPE.REPETITION_MANDATORY, actionORMethodDef.ERR_MSG);\n        }\n        // note that while it may seem that this can cause an error because by using a recursive call to\n        // AT_LEAST_ONE we change the grammar to AT_LEAST_TWO, AT_LEAST_THREE ... , the possible recursive call\n        // from the tryInRepetitionRecovery(...) will only happen IFF there really are TWO/THREE/.... items.\n        // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n        this.attemptInRepetitionRecovery(this.atLeastOneInternal, [prodOccurrence, actionORMethodDef], lookAheadFunc, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.AT_LEAST_ONE_IDX, prodOccurrence, _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.NextTerminalAfterAtLeastOneWalker);\n    }\n    atLeastOneSepFirstInternal(prodOccurrence, options) {\n        const laKey = this.getKeyForAutomaticLookahead(_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.AT_LEAST_ONE_SEP_IDX, prodOccurrence);\n        this.atLeastOneSepFirstInternalLogic(prodOccurrence, options, laKey);\n    }\n    atLeastOneSepFirstInternalLogic(prodOccurrence, options, key) {\n        const action = options.DEF;\n        const separator = options.SEP;\n        const firstIterationLookaheadFunc = this.getLaFuncFromCache(key);\n        // 1st iteration\n        if (firstIterationLookaheadFunc.call(this) === true) {\n            action.call(this);\n            //  TODO: Optimization can move this function construction into \"attemptInRepetitionRecovery\"\n            //  because it is only needed in error recovery scenarios.\n            const separatorLookAheadFunc = () => {\n                return this.tokenMatcher(this.LA(1), separator);\n            };\n            // 2nd..nth iterations\n            while (this.tokenMatcher(this.LA(1), separator) === true) {\n                // note that this CONSUME will never enter recovery because\n                // the separatorLookAheadFunc checks that the separator really does exist.\n                this.CONSUME(separator);\n                // No need for checking infinite loop here due to consuming the separator.\n                action.call(this);\n            }\n            // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n            this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [\n                prodOccurrence,\n                separator,\n                separatorLookAheadFunc,\n                action,\n                _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.NextTerminalAfterAtLeastOneSepWalker,\n            ], separatorLookAheadFunc, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.AT_LEAST_ONE_SEP_IDX, prodOccurrence, _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.NextTerminalAfterAtLeastOneSepWalker);\n        }\n        else {\n            throw this.raiseEarlyExitException(prodOccurrence, _grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR, options.ERR_MSG);\n        }\n    }\n    manyInternal(prodOccurrence, actionORMethodDef) {\n        const laKey = this.getKeyForAutomaticLookahead(_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.MANY_IDX, prodOccurrence);\n        return this.manyInternalLogic(prodOccurrence, actionORMethodDef, laKey);\n    }\n    manyInternalLogic(prodOccurrence, actionORMethodDef, key) {\n        let lookaheadFunction = this.getLaFuncFromCache(key);\n        let action;\n        if (typeof actionORMethodDef !== \"function\") {\n            action = actionORMethodDef.DEF;\n            const predicate = actionORMethodDef.GATE;\n            // predicate present\n            if (predicate !== undefined) {\n                const orgLookaheadFunction = lookaheadFunction;\n                lookaheadFunction = () => {\n                    return predicate.call(this) && orgLookaheadFunction.call(this);\n                };\n            }\n        }\n        else {\n            action = actionORMethodDef;\n        }\n        let notStuck = true;\n        while (lookaheadFunction.call(this) === true && notStuck === true) {\n            notStuck = this.doSingleRepetition(action);\n        }\n        // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n        this.attemptInRepetitionRecovery(this.manyInternal, [prodOccurrence, actionORMethodDef], lookaheadFunction, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.MANY_IDX, prodOccurrence, _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.NextTerminalAfterManyWalker, \n        // The notStuck parameter is only relevant when \"attemptInRepetitionRecovery\"\n        // is invoked from manyInternal, in the MANY_SEP case and AT_LEAST_ONE[_SEP]\n        // An infinite loop cannot occur as:\n        // - Either the lookahead is guaranteed to consume something (Single Token Separator)\n        // - AT_LEAST_ONE by definition is guaranteed to consume something (or error out).\n        notStuck);\n    }\n    manySepFirstInternal(prodOccurrence, options) {\n        const laKey = this.getKeyForAutomaticLookahead(_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.MANY_SEP_IDX, prodOccurrence);\n        this.manySepFirstInternalLogic(prodOccurrence, options, laKey);\n    }\n    manySepFirstInternalLogic(prodOccurrence, options, key) {\n        const action = options.DEF;\n        const separator = options.SEP;\n        const firstIterationLaFunc = this.getLaFuncFromCache(key);\n        // 1st iteration\n        if (firstIterationLaFunc.call(this) === true) {\n            action.call(this);\n            const separatorLookAheadFunc = () => {\n                return this.tokenMatcher(this.LA(1), separator);\n            };\n            // 2nd..nth iterations\n            while (this.tokenMatcher(this.LA(1), separator) === true) {\n                // note that this CONSUME will never enter recovery because\n                // the separatorLookAheadFunc checks that the separator really does exist.\n                this.CONSUME(separator);\n                // No need for checking infinite loop here due to consuming the separator.\n                action.call(this);\n            }\n            // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n            this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [\n                prodOccurrence,\n                separator,\n                separatorLookAheadFunc,\n                action,\n                _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.NextTerminalAfterManySepWalker,\n            ], separatorLookAheadFunc, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.MANY_SEP_IDX, prodOccurrence, _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.NextTerminalAfterManySepWalker);\n        }\n    }\n    repetitionSepSecondInternal(prodOccurrence, separator, separatorLookAheadFunc, action, nextTerminalAfterWalker) {\n        while (separatorLookAheadFunc()) {\n            // note that this CONSUME will never enter recovery because\n            // the separatorLookAheadFunc checks that the separator really does exist.\n            this.CONSUME(separator);\n            action.call(this);\n        }\n        // we can only arrive to this function after an error\n        // has occurred (hence the name 'second') so the following\n        // IF will always be entered, its possible to remove it...\n        // however it is kept to avoid confusion and be consistent.\n        // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n        /* istanbul ignore else */\n        this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [\n            prodOccurrence,\n            separator,\n            separatorLookAheadFunc,\n            action,\n            nextTerminalAfterWalker,\n        ], separatorLookAheadFunc, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.AT_LEAST_ONE_SEP_IDX, prodOccurrence, nextTerminalAfterWalker);\n    }\n    doSingleRepetition(action) {\n        const beforeIteration = this.getLexerPosition();\n        action.call(this);\n        const afterIteration = this.getLexerPosition();\n        // This boolean will indicate if this repetition progressed\n        // or if we are \"stuck\" (potential infinite loop in the repetition).\n        return afterIteration > beforeIteration;\n    }\n    orInternal(altsOrOpts, occurrence) {\n        const laKey = this.getKeyForAutomaticLookahead(_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.OR_IDX, occurrence);\n        const alts = (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(altsOrOpts) ? altsOrOpts : altsOrOpts.DEF;\n        const laFunc = this.getLaFuncFromCache(laKey);\n        const altIdxToTake = laFunc.call(this, alts);\n        if (altIdxToTake !== undefined) {\n            const chosenAlternative = alts[altIdxToTake];\n            return chosenAlternative.ALT.call(this);\n        }\n        this.raiseNoAltException(occurrence, altsOrOpts.ERR_MSG);\n    }\n    ruleFinallyStateUpdate() {\n        this.RULE_STACK.pop();\n        this.RULE_OCCURRENCE_STACK.pop();\n        // NOOP when cst is disabled\n        this.cstFinallyStateUpdate();\n        if (this.RULE_STACK.length === 0 && this.isAtEndOfInput() === false) {\n            const firstRedundantTok = this.LA(1);\n            const errMsg = this.errorMessageProvider.buildNotAllInputParsedMessage({\n                firstRedundant: firstRedundantTok,\n                ruleName: this.getCurrRuleFullName(),\n            });\n            this.SAVE_ERROR(new _exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__.NotAllInputParsedException(errMsg, firstRedundantTok));\n        }\n    }\n    subruleInternal(ruleToCall, idx, options) {\n        let ruleResult;\n        try {\n            const args = options !== undefined ? options.ARGS : undefined;\n            this.subruleIdx = idx;\n            ruleResult = ruleToCall.apply(this, args);\n            this.cstPostNonTerminal(ruleResult, options !== undefined && options.LABEL !== undefined\n                ? options.LABEL\n                : ruleToCall.ruleName);\n            return ruleResult;\n        }\n        catch (e) {\n            throw this.subruleInternalError(e, options, ruleToCall.ruleName);\n        }\n    }\n    subruleInternalError(e, options, ruleName) {\n        if ((0,_exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__.isRecognitionException)(e) && e.partialCstResult !== undefined) {\n            this.cstPostNonTerminal(e.partialCstResult, options !== undefined && options.LABEL !== undefined\n                ? options.LABEL\n                : ruleName);\n            delete e.partialCstResult;\n        }\n        throw e;\n    }\n    consumeInternal(tokType, idx, options) {\n        let consumedToken;\n        try {\n            const nextToken = this.LA(1);\n            if (this.tokenMatcher(nextToken, tokType) === true) {\n                this.consumeToken();\n                consumedToken = nextToken;\n            }\n            else {\n                this.consumeInternalError(tokType, nextToken, options);\n            }\n        }\n        catch (eFromConsumption) {\n            consumedToken = this.consumeInternalRecovery(tokType, idx, eFromConsumption);\n        }\n        this.cstPostTerminal(options !== undefined && options.LABEL !== undefined\n            ? options.LABEL\n            : tokType.name, consumedToken);\n        return consumedToken;\n    }\n    consumeInternalError(tokType, nextToken, options) {\n        let msg;\n        const previousToken = this.LA(0);\n        if (options !== undefined && options.ERR_MSG) {\n            msg = options.ERR_MSG;\n        }\n        else {\n            msg = this.errorMessageProvider.buildMismatchTokenMessage({\n                expected: tokType,\n                actual: nextToken,\n                previous: previousToken,\n                ruleName: this.getCurrRuleFullName(),\n            });\n        }\n        throw this.SAVE_ERROR(new _exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__.MismatchedTokenException(msg, nextToken, previousToken));\n    }\n    consumeInternalRecovery(tokType, idx, eFromConsumption) {\n        // no recovery allowed during backtracking, otherwise backtracking may recover invalid syntax and accept it\n        // but the original syntax could have been parsed successfully without any backtracking + recovery\n        if (this.recoveryEnabled &&\n            // TODO: more robust checking of the exception type. Perhaps Typescript extending expressions?\n            eFromConsumption.name === \"MismatchedTokenException\" &&\n            !this.isBackTracking()) {\n            const follows = this.getFollowsForInRuleRecovery(tokType, idx);\n            try {\n                return this.tryInRuleRecovery(tokType, follows);\n            }\n            catch (eFromInRuleRecovery) {\n                if (eFromInRuleRecovery.name === _recoverable_js__WEBPACK_IMPORTED_MODULE_5__.IN_RULE_RECOVERY_EXCEPTION) {\n                    // failed in RuleRecovery.\n                    // throw the original error in order to trigger reSync error recovery\n                    throw eFromConsumption;\n                }\n                else {\n                    throw eFromInRuleRecovery;\n                }\n            }\n        }\n        else {\n            throw eFromConsumption;\n        }\n    }\n    saveRecogState() {\n        // errors is a getter which will clone the errors array\n        const savedErrors = this.errors;\n        const savedRuleStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(this.RULE_STACK);\n        return {\n            errors: savedErrors,\n            lexerState: this.exportLexerState(),\n            RULE_STACK: savedRuleStack,\n            CST_STACK: this.CST_STACK,\n        };\n    }\n    reloadRecogState(newState) {\n        this.errors = newState.errors;\n        this.importLexerState(newState.lexerState);\n        this.RULE_STACK = newState.RULE_STACK;\n    }\n    ruleInvocationStateUpdate(shortName, fullName, idxInCallingRule) {\n        this.RULE_OCCURRENCE_STACK.push(idxInCallingRule);\n        this.RULE_STACK.push(shortName);\n        // NOOP when cst is disabled\n        this.cstInvocationStateUpdate(fullName);\n    }\n    isBackTracking() {\n        return this.isBackTrackingStack.length !== 0;\n    }\n    getCurrRuleFullName() {\n        const shortName = this.getLastExplicitRuleShortName();\n        return this.shortRuleNameToFull[shortName];\n    }\n    shortRuleNameToFullName(shortName) {\n        return this.shortRuleNameToFull[shortName];\n    }\n    isAtEndOfInput() {\n        return this.tokenMatcher(this.LA(1), _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_6__.EOF);\n    }\n    reset() {\n        this.resetLexerState();\n        this.subruleIdx = 0;\n        this.isBackTrackingStack = [];\n        this.errors = [];\n        this.RULE_STACK = [];\n        // TODO: extract a specific reset for TreeBuilder trait\n        this.CST_STACK = [];\n        this.RULE_OCCURRENCE_STACK = [];\n    }\n}\n//# sourceMappingURL=recognizer_engine.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9yZWNvZ25pemVyX2VuZ2luZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBHO0FBQ2lFO0FBQ2hEO0FBQ3BFO0FBQzhIO0FBQ2xJO0FBQ1c7QUFDVDtBQUNpRjtBQUN0STtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtFQUFrQztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQUc7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHNEQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBTztBQUNuQiw2QkFBNkIsc0RBQU07QUFDbkM7QUFDQTtBQUNBLGFBQWEsSUFBSTtBQUNqQjtBQUNBLGlCQUFpQixxREFBRztBQUNwQixZQUFZLHNEQUFLLENBQUMsc0RBQU8sQ0FBQyxzREFBTSwwQkFBMEIsd0RBQVc7QUFDckUsa0NBQWtDLHNEQUFPLENBQUMsc0RBQU07QUFDaEQsaUNBQWlDLHNEQUFJO0FBQ3JDLDZCQUE2QixzREFBTTtBQUNuQztBQUNBO0FBQ0EsYUFBYSxJQUFJO0FBQ2pCO0FBQ0EsaUJBQWlCLHNEQUFRO0FBQ3pCLDZCQUE2QixzREFBSztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx1REFBRztBQUNuQyw4QkFBOEIscURBQUc7QUFDakMsY0FBYyxzREFBTyxDQUFDLHNEQUFNO0FBQzVCLGNBQWMsc0RBQU07QUFDcEIsc0NBQXNDLHNEQUFLLHNDQUFzQyxzREFBTztBQUN4RjtBQUNBLGNBQWMsK0VBQWtDO0FBQ2hELGNBQWMsbUVBQXNCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0VBQWlCLENBQUMsc0RBQU07QUFDaEM7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTtBQUNBLDhCQUE4QixxREFBRztBQUNqQztBQUNBLGNBQWMsMkRBQW1CO0FBQ2pDLGtDQUFrQyxxREFBRztBQUNyQztBQUNBLGNBQWMsMkRBQW1CO0FBQ2pDO0FBQ0E7QUFDQSxvREFBb0Qsa0VBQW9CLEdBQUcscUVBQXVCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLHVDQUF1QztBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZFQUFzQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCx3REFBVTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCw4REFBZ0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDREQUFTO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSEFBc0gsOERBQWdCLGtCQUFrQixzRkFBaUM7QUFDekw7QUFDQTtBQUNBLHVEQUF1RCxrRUFBb0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IseUZBQW9DO0FBQ3BELHVDQUF1QyxrRUFBb0Isa0JBQWtCLHlGQUFvQztBQUNqSDtBQUNBO0FBQ0EsK0RBQStELDREQUFTO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxzREFBUTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvSEFBb0gsc0RBQVEsa0JBQWtCLGdGQUEyQjtBQUN6SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELDBEQUFZO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUZBQThCO0FBQzlDLHVDQUF1QywwREFBWSxrQkFBa0IsbUZBQThCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxrRUFBb0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsb0RBQU07QUFDN0QscUJBQXFCLHFEQUFPO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixnQ0FBZ0MsNkVBQTBCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkVBQXNCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGtDQUFrQywyRUFBd0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsdUVBQTBCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNEQUFLO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsdURBQUc7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9yZWNvZ25pemVyX2VuZ2luZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbG9uZSwgZXZlcnksIGZsYXR0ZW4sIGhhcywgaXNBcnJheSwgaXNFbXB0eSwgaXNPYmplY3QsIHJlZHVjZSwgdW5pcSwgdmFsdWVzLCB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IEFUX0xFQVNUX09ORV9JRFgsIEFUX0xFQVNUX09ORV9TRVBfSURYLCBCSVRTX0ZPUl9NRVRIT0RfVFlQRSwgQklUU19GT1JfT0NDVVJSRU5DRV9JRFgsIE1BTllfSURYLCBNQU5ZX1NFUF9JRFgsIE9QVElPTl9JRFgsIE9SX0lEWCwgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9rZXlzLmpzXCI7XG5pbXBvcnQgeyBpc1JlY29nbml0aW9uRXhjZXB0aW9uLCBNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb24sIE5vdEFsbElucHV0UGFyc2VkRXhjZXB0aW9uLCB9IGZyb20gXCIuLi8uLi9leGNlcHRpb25zX3B1YmxpYy5qc1wiO1xuaW1wb3J0IHsgUFJPRF9UWVBFIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIvbG9va2FoZWFkLmpzXCI7XG5pbXBvcnQgeyBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVTZXBXYWxrZXIsIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVdhbGtlciwgTmV4dFRlcm1pbmFsQWZ0ZXJNYW55U2VwV2Fsa2VyLCBOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIsIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIvaW50ZXJwcmV0ZXIuanNcIjtcbmltcG9ydCB7IERFRkFVTFRfUlVMRV9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyLmpzXCI7XG5pbXBvcnQgeyBJTl9SVUxFX1JFQ09WRVJZX0VYQ0VQVElPTiB9IGZyb20gXCIuL3JlY292ZXJhYmxlLmpzXCI7XG5pbXBvcnQgeyBFT0YgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnNfcHVibGljLmpzXCI7XG5pbXBvcnQgeyBhdWdtZW50VG9rZW5UeXBlcywgaXNUb2tlblR5cGUsIHRva2VuU3RydWN0dXJlZE1hdGNoZXIsIHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXMsIH0gZnJvbSBcIi4uLy4uLy4uL3NjYW4vdG9rZW5zLmpzXCI7XG4vKipcbiAqIFRoaXMgdHJhaXQgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBydW50aW1lIHBhcnNpbmcgZW5naW5lXG4gKiBVc2VkIGJ5IHRoZSBvZmZpY2lhbCBBUEkgKHJlY29nbml6ZXJfYXBpLnRzKVxuICovXG5leHBvcnQgY2xhc3MgUmVjb2duaXplckVuZ2luZSB7XG4gICAgaW5pdFJlY29nbml6ZXJFbmdpbmUodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgIC8vIFRPRE86IHdvdWxkIHVzaW5nIGFuIEVTNiBNYXAgb3IgcGxhaW4gb2JqZWN0IGJlIGZhc3RlciAoQ1NUIGJ1aWxkaW5nIHNjZW5hcmlvKVxuICAgICAgICB0aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGwgPSB7fTtcbiAgICAgICAgdGhpcy5mdWxsUnVsZU5hbWVUb1Nob3J0ID0ge307XG4gICAgICAgIHRoaXMucnVsZVNob3J0TmFtZUlkeCA9IDI1NjtcbiAgICAgICAgdGhpcy50b2tlbk1hdGNoZXIgPSB0b2tlblN0cnVjdHVyZWRNYXRjaGVyTm9DYXRlZ29yaWVzO1xuICAgICAgICB0aGlzLnN1YnJ1bGVJZHggPSAwO1xuICAgICAgICB0aGlzLmRlZmluZWRSdWxlc05hbWVzID0gW107XG4gICAgICAgIHRoaXMudG9rZW5zTWFwID0ge307XG4gICAgICAgIHRoaXMuaXNCYWNrVHJhY2tpbmdTdGFjayA9IFtdO1xuICAgICAgICB0aGlzLlJVTEVfU1RBQ0sgPSBbXTtcbiAgICAgICAgdGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0sgPSBbXTtcbiAgICAgICAgdGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSA9IHt9O1xuICAgICAgICBpZiAoaGFzKGNvbmZpZywgXCJzZXJpYWxpemVkR3JhbW1hclwiKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgUGFyc2VyJ3MgY29uZmlndXJhdGlvbiBjYW4gbm8gbG9uZ2VyIGNvbnRhaW4gYSA8c2VyaWFsaXplZEdyYW1tYXI+IHByb3BlcnR5LlxcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdFNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvY2hhbmdlcy9CUkVBS0lOR19DSEFOR0VTLmh0bWwjXzYtMC0wXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0Rm9yIEZ1cnRoZXIgZGV0YWlscy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXkodG9rZW5Wb2NhYnVsYXJ5KSkge1xuICAgICAgICAgICAgLy8gVGhpcyBvbmx5IGNoZWNrcyBmb3IgVG9rZW4gdm9jYWJ1bGFyaWVzIHByb3ZpZGVkIGFzIGFycmF5cy5cbiAgICAgICAgICAgIC8vIFRoYXQgaXMgZ29vZCBlbm91Z2ggYmVjYXVzZSB0aGUgbWFpbiBvYmplY3RpdmUgaXMgdG8gZGV0ZWN0IHVzZXJzIG9mIHByZS1WNC4wIEFQSXNcbiAgICAgICAgICAgIC8vIHJhdGhlciB0aGFuIGFsbCBlZGdlIGNhc2VzIG9mIGVtcHR5IFRva2VuIHZvY2FidWxhcmllcy5cbiAgICAgICAgICAgIGlmIChpc0VtcHR5KHRva2VuVm9jYWJ1bGFyeSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkEgVG9rZW4gVm9jYWJ1bGFyeSBjYW5ub3QgYmUgZW1wdHkuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcdE5vdGUgdGhhdCB0aGUgZmlyc3QgYXJndW1lbnQgZm9yIHRoZSBwYXJzZXIgY29uc3RydWN0b3JcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0aXMgbm8gbG9uZ2VyIGEgVG9rZW4gdmVjdG9yIChzaW5jZSB2NC4wKS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRva2VuVm9jYWJ1bGFyeVswXS5zdGFydE9mZnNldCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVGhlIFBhcnNlciBjb25zdHJ1Y3RvciBubyBsb25nZXIgYWNjZXB0cyBhIHRva2VuIHZlY3RvciBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcdFNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvY2hhbmdlcy9CUkVBS0lOR19DSEFOR0VTLmh0bWwjXzQtMC0wXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcdEZvciBGdXJ0aGVyIGRldGFpbHMuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KHRva2VuVm9jYWJ1bGFyeSkpIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5zTWFwID0gcmVkdWNlKHRva2VuVm9jYWJ1bGFyeSwgKGFjYywgdG9rVHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFjY1t0b2tUeXBlLm5hbWVdID0gdG9rVHlwZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhhcyh0b2tlblZvY2FidWxhcnksIFwibW9kZXNcIikgJiZcbiAgICAgICAgICAgIGV2ZXJ5KGZsYXR0ZW4odmFsdWVzKHRva2VuVm9jYWJ1bGFyeS5tb2RlcykpLCBpc1Rva2VuVHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFsbFRva2VuVHlwZXMgPSBmbGF0dGVuKHZhbHVlcyh0b2tlblZvY2FidWxhcnkubW9kZXMpKTtcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZVRva2VucyA9IHVuaXEoYWxsVG9rZW5UeXBlcyk7XG4gICAgICAgICAgICB0aGlzLnRva2Vuc01hcCA9IHJlZHVjZSh1bmlxdWVUb2tlbnMsIChhY2MsIHRva1R5cGUpID0+IHtcbiAgICAgICAgICAgICAgICBhY2NbdG9rVHlwZS5uYW1lXSA9IHRva1R5cGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdCh0b2tlblZvY2FidWxhcnkpKSB7XG4gICAgICAgICAgICB0aGlzLnRva2Vuc01hcCA9IGNsb25lKHRva2VuVm9jYWJ1bGFyeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8dG9rZW5zRGljdGlvbmFyeT4gYXJndW1lbnQgbXVzdCBiZSBBbiBBcnJheSBvZiBUb2tlbiBjb25zdHJ1Y3RvcnMsXCIgK1xuICAgICAgICAgICAgICAgIFwiIEEgZGljdGlvbmFyeSBvZiBUb2tlbiBjb25zdHJ1Y3RvcnMgb3IgYW4gSU11bHRpTW9kZUxleGVyRGVmaW5pdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHdheXMgYWRkIEVPRiB0byB0aGUgdG9rZW5OYW1lcyAtPiBjb25zdHJ1Y3RvcnMgbWFwLiBpdCBpcyB1c2VmdWwgdG8gYXNzdXJlIGFsbCB0aGUgaW5wdXQgaGFzIGJlZW5cbiAgICAgICAgLy8gcGFyc2VkIHdpdGggYSBjbGVhciBlcnJvciBtZXNzYWdlIChcImV4cGVjdGluZyBFT0YgYnV0IGZvdW5kIC4uLlwiKVxuICAgICAgICB0aGlzLnRva2Vuc01hcFtcIkVPRlwiXSA9IEVPRjtcbiAgICAgICAgY29uc3QgYWxsVG9rZW5UeXBlcyA9IGhhcyh0b2tlblZvY2FidWxhcnksIFwibW9kZXNcIilcbiAgICAgICAgICAgID8gZmxhdHRlbih2YWx1ZXModG9rZW5Wb2NhYnVsYXJ5Lm1vZGVzKSlcbiAgICAgICAgICAgIDogdmFsdWVzKHRva2VuVm9jYWJ1bGFyeSk7XG4gICAgICAgIGNvbnN0IG5vVG9rZW5DYXRlZ29yaWVzVXNlZCA9IGV2ZXJ5KGFsbFRva2VuVHlwZXMsICh0b2tlbkNvbnN0cnVjdG9yKSA9PiBpc0VtcHR5KHRva2VuQ29uc3RydWN0b3IuY2F0ZWdvcnlNYXRjaGVzKSk7XG4gICAgICAgIHRoaXMudG9rZW5NYXRjaGVyID0gbm9Ub2tlbkNhdGVnb3JpZXNVc2VkXG4gICAgICAgICAgICA/IHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXNcbiAgICAgICAgICAgIDogdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlcjtcbiAgICAgICAgLy8gQmVjYXVzZSBFUzIwMTUrIHN5bnRheCBzaG91bGQgYmUgc3VwcG9ydGVkIGZvciBjcmVhdGluZyBUb2tlbiBjbGFzc2VzXG4gICAgICAgIC8vIFdlIGNhbm5vdCBhc3N1bWUgdGhhdCB0aGUgVG9rZW4gY2xhc3NlcyB3ZXJlIGNyZWF0ZWQgdXNpbmcgdGhlIFwiZXh0ZW5kVG9rZW5cIiB1dGlsaXRpZXNcbiAgICAgICAgLy8gVGhlcmVmb3JlIHdlIG11c3QgYXVnbWVudCB0aGUgVG9rZW4gY2xhc3NlcyBib3RoIG9uIExleGVyIGluaXRpYWxpemF0aW9uIGFuZCBvbiBQYXJzZXIgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgYXVnbWVudFRva2VuVHlwZXModmFsdWVzKHRoaXMudG9rZW5zTWFwKSk7XG4gICAgfVxuICAgIGRlZmluZVJ1bGUocnVsZU5hbWUsIGltcGwsIGNvbmZpZykge1xuICAgICAgICBpZiAodGhpcy5zZWxmQW5hbHlzaXNEb25lKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgR3JhbW1hciBydWxlIDwke3J1bGVOYW1lfT4gbWF5IG5vdCBiZSBkZWZpbmVkIGFmdGVyIHRoZSAncGVyZm9ybVNlbGZBbmFseXNpcycgbWV0aG9kIGhhcyBiZWVuIGNhbGxlZCdcXG5gICtcbiAgICAgICAgICAgICAgICBgTWFrZSBzdXJlIHRoYXQgYWxsIGdyYW1tYXIgcnVsZSBkZWZpbml0aW9ucyBhcmUgZG9uZSBiZWZvcmUgJ3BlcmZvcm1TZWxmQW5hbHlzaXMnIGlzIGNhbGxlZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN5bmNFbmFibGVkID0gaGFzKGNvbmZpZywgXCJyZXN5bmNFbmFibGVkXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5yZXN5bmNFbmFibGVkIC8vIGFzc3VtZXMgZW5kIHVzZXIgcHJvdmlkZXMgdGhlIGNvcnJlY3QgY29uZmlnIHZhbHVlL3R5cGVcbiAgICAgICAgICAgIDogREVGQVVMVF9SVUxFX0NPTkZJRy5yZXN5bmNFbmFibGVkO1xuICAgICAgICBjb25zdCByZWNvdmVyeVZhbHVlRnVuYyA9IGhhcyhjb25maWcsIFwicmVjb3ZlcnlWYWx1ZUZ1bmNcIilcbiAgICAgICAgICAgID8gY29uZmlnLnJlY292ZXJ5VmFsdWVGdW5jIC8vIGFzc3VtZXMgZW5kIHVzZXIgcHJvdmlkZXMgdGhlIGNvcnJlY3QgY29uZmlnIHZhbHVlL3R5cGVcbiAgICAgICAgICAgIDogREVGQVVMVF9SVUxFX0NPTkZJRy5yZWNvdmVyeVZhbHVlRnVuYztcbiAgICAgICAgLy8gcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBVc2Ugc21hbGwgaW50ZWdlcnMgYXMga2V5cyBmb3IgdGhlIGxvbmdlciBodW1hbiByZWFkYWJsZSBcImZ1bGxcIiBydWxlIG5hbWVzLlxuICAgICAgICAvLyB0aGlzIGdyZWF0bHkgaW1wcm92ZXMgTWFwIGFjY2VzcyB0aW1lIChhcyBtdWNoIGFzIDglIGZvciBzb21lIHBlcmZvcm1hbmNlIGJlbmNobWFya3MpLlxuICAgICAgICBjb25zdCBzaG9ydE5hbWUgPSB0aGlzLnJ1bGVTaG9ydE5hbWVJZHggPDwgKEJJVFNfRk9SX01FVEhPRF9UWVBFICsgQklUU19GT1JfT0NDVVJSRU5DRV9JRFgpO1xuICAgICAgICB0aGlzLnJ1bGVTaG9ydE5hbWVJZHgrKztcbiAgICAgICAgdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsW3Nob3J0TmFtZV0gPSBydWxlTmFtZTtcbiAgICAgICAgdGhpcy5mdWxsUnVsZU5hbWVUb1Nob3J0W3J1bGVOYW1lXSA9IHNob3J0TmFtZTtcbiAgICAgICAgbGV0IGludm9rZVJ1bGVXaXRoVHJ5O1xuICAgICAgICAvLyBNaWNybyBvcHRpbWl6YXRpb24sIG9ubHkgY2hlY2sgdGhlIGNvbmRpdGlvbiAqKm9uY2UqKiBvbiBydWxlIGRlZmluaXRpb25cbiAgICAgICAgLy8gaW5zdGVhZCBvZiAqKmV2ZXJ5IHNpbmdsZSoqIHJ1bGUgaW52b2NhdGlvbi5cbiAgICAgICAgaWYgKHRoaXMub3V0cHV0Q3N0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpbnZva2VSdWxlV2l0aFRyeSA9IGZ1bmN0aW9uIGludm9rZVJ1bGVXaXRoVHJ5KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bGVJbnZvY2F0aW9uU3RhdGVVcGRhdGUoc2hvcnROYW1lLCBydWxlTmFtZSwgdGhpcy5zdWJydWxlSWR4KTtcbiAgICAgICAgICAgICAgICAgICAgaW1wbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3N0ID0gdGhpcy5DU1RfU1RBQ0tbdGhpcy5DU1RfU1RBQ0subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3N0UG9zdFJ1bGUoY3N0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNzdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW52b2tlUnVsZUNhdGNoKGUsIHJlc3luY0VuYWJsZWQsIHJlY292ZXJ5VmFsdWVGdW5jKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucnVsZUZpbmFsbHlTdGF0ZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnZva2VSdWxlV2l0aFRyeSA9IGZ1bmN0aW9uIGludm9rZVJ1bGVXaXRoVHJ5Q3N0KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bGVJbnZvY2F0aW9uU3RhdGVVcGRhdGUoc2hvcnROYW1lLCBydWxlTmFtZSwgdGhpcy5zdWJydWxlSWR4KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGltcGwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmludm9rZVJ1bGVDYXRjaChlLCByZXN5bmNFbmFibGVkLCByZWNvdmVyeVZhbHVlRnVuYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bGVGaW5hbGx5U3RhdGVVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdyYXBwZWRHcmFtbWFyUnVsZSA9IE9iamVjdC5hc3NpZ24oaW52b2tlUnVsZVdpdGhUcnksIHsgcnVsZU5hbWUsIG9yaWdpbmFsR3JhbW1hckFjdGlvbjogaW1wbCB9KTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZWRHcmFtbWFyUnVsZTtcbiAgICB9XG4gICAgaW52b2tlUnVsZUNhdGNoKGUsIHJlc3luY0VuYWJsZWRDb25maWcsIHJlY292ZXJ5VmFsdWVGdW5jKSB7XG4gICAgICAgIGNvbnN0IGlzRmlyc3RJbnZva2VkUnVsZSA9IHRoaXMuUlVMRV9TVEFDSy5sZW5ndGggPT09IDE7XG4gICAgICAgIC8vIG5vdGUgdGhlIHJlU3luYyBpcyBhbHdheXMgZW5hYmxlZCBmb3IgdGhlIGZpcnN0IHJ1bGUgaW52b2NhdGlvbiwgYmVjYXVzZSB3ZSBtdXN0IGFsd2F5cyBiZSBhYmxlIHRvXG4gICAgICAgIC8vIHJlU3luYyB3aXRoIEVPRiBhbmQganVzdCBvdXRwdXQgc29tZSBJTlZBTElEIFBhcnNlVHJlZVxuICAgICAgICAvLyBkdXJpbmcgYmFja3RyYWNraW5nIHJlU3luYyByZWNvdmVyeSBpcyBkaXNhYmxlZCwgb3RoZXJ3aXNlIHdlIGNhbid0IGJlIGNlcnRhaW4gdGhlIGJhY2t0cmFja2luZ1xuICAgICAgICAvLyBwYXRoIGlzIHJlYWxseSB0aGUgbW9zdCB2YWxpZCBvbmVcbiAgICAgICAgY29uc3QgcmVTeW5jRW5hYmxlZCA9IHJlc3luY0VuYWJsZWRDb25maWcgJiYgIXRoaXMuaXNCYWNrVHJhY2tpbmcoKSAmJiB0aGlzLnJlY292ZXJ5RW5hYmxlZDtcbiAgICAgICAgaWYgKGlzUmVjb2duaXRpb25FeGNlcHRpb24oZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY29nRXJyb3IgPSBlO1xuICAgICAgICAgICAgaWYgKHJlU3luY0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZVN5bmNUb2tUeXBlID0gdGhpcy5maW5kUmVTeW5jVG9rZW5UeXBlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNJbkN1cnJlbnRSdWxlUmVTeW5jU2V0KHJlU3luY1Rva1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29nRXJyb3IucmVzeW5jZWRUb2tlbnMgPSB0aGlzLnJlU3luY1RvKHJlU3luY1Rva1R5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRDc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRpYWxDc3RSZXN1bHQgPSB0aGlzLkNTVF9TVEFDS1t0aGlzLkNTVF9TVEFDSy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWxDc3RSZXN1bHQucmVjb3ZlcmVkTm9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFydGlhbENzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWNvdmVyeVZhbHVlRnVuYyhlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0Q3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0aWFsQ3N0UmVzdWx0ID0gdGhpcy5DU1RfU1RBQ0tbdGhpcy5DU1RfU1RBQ0subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsQ3N0UmVzdWx0LnJlY292ZXJlZE5vZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb2dFcnJvci5wYXJ0aWFsQ3N0UmVzdWx0ID0gcGFydGlhbENzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB0byBiZSBoYW5kbGVkIEZ1cnRoZXIgdXAgdGhlIGNhbGwgc3RhY2tcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVjb2dFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0ZpcnN0SW52b2tlZFJ1bGUpIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgYSBSZWR1bmRhbnQgaW5wdXQgZXJyb3Igd2lsbCBiZSBjcmVhdGVkIGFzIHdlbGwgYW5kIHdlIGNhbm5vdCBndWFyYW50ZWUgdGhhdCB0aGlzIGlzIGluZGVlZCB0aGUgY2FzZVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvVGVybWluYXRlZFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgLy8gdGhlIHBhcnNlciBzaG91bGQgbmV2ZXIgdGhyb3cgb25lIG9mIGl0cyBvd24gZXJyb3JzIG91dHNpZGUgaXRzIGZsb3cuXG4gICAgICAgICAgICAgICAgLy8gZXZlbiBpZiBlcnJvciByZWNvdmVyeSBpcyBkaXNhYmxlZFxuICAgICAgICAgICAgICAgIHJldHVybiByZWNvdmVyeVZhbHVlRnVuYyhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRvIGJlIHJlY292ZXJlZCBGdXJ0aGVyIHVwIHRoZSBjYWxsIHN0YWNrXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVjb2dFcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNvbWUgb3RoZXIgRXJyb3IgdHlwZSB3aGljaCB3ZSBkb24ndCBrbm93IGhvdyB0byBoYW5kbGUgKGZvciBleGFtcGxlIGEgYnVpbHQgaW4gSmF2YVNjcmlwdCBFcnJvcilcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSW1wbGVtZW50YXRpb24gb2YgcGFyc2luZyBEU0xcbiAgICBvcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSkge1xuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChPUFRJT05fSURYLCBvY2N1cnJlbmNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWxMb2dpYyhhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSwga2V5KTtcbiAgICB9XG4gICAgb3B0aW9uSW50ZXJuYWxMb2dpYyhhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSwga2V5KSB7XG4gICAgICAgIGxldCBsb29rQWhlYWRGdW5jID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUoa2V5KTtcbiAgICAgICAgbGV0IGFjdGlvbjtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb25PUk1ldGhvZERlZiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25PUk1ldGhvZERlZi5ERUY7XG4gICAgICAgICAgICBjb25zdCBwcmVkaWNhdGUgPSBhY3Rpb25PUk1ldGhvZERlZi5HQVRFO1xuICAgICAgICAgICAgLy8gcHJlZGljYXRlIHByZXNlbnRcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yZ0xvb2thaGVhZEZ1bmN0aW9uID0gbG9va0FoZWFkRnVuYztcbiAgICAgICAgICAgICAgICBsb29rQWhlYWRGdW5jID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlZGljYXRlLmNhbGwodGhpcykgJiYgb3JnTG9va2FoZWFkRnVuY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uT1JNZXRob2REZWY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvb2tBaGVhZEZ1bmMuY2FsbCh0aGlzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGF0TGVhc3RPbmVJbnRlcm5hbChwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgY29uc3QgbGFLZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChBVF9MRUFTVF9PTkVfSURYLCBwcm9kT2NjdXJyZW5jZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZiwgbGFLZXkpO1xuICAgIH1cbiAgICBhdExlYXN0T25lSW50ZXJuYWxMb2dpYyhwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWYsIGtleSkge1xuICAgICAgICBsZXQgbG9va0FoZWFkRnVuYyA9IHRoaXMuZ2V0TGFGdW5jRnJvbUNhY2hlKGtleSk7XG4gICAgICAgIGxldCBhY3Rpb247XG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uT1JNZXRob2REZWYgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uT1JNZXRob2REZWYuREVGO1xuICAgICAgICAgICAgY29uc3QgcHJlZGljYXRlID0gYWN0aW9uT1JNZXRob2REZWYuR0FURTtcbiAgICAgICAgICAgIC8vIHByZWRpY2F0ZSBwcmVzZW50XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmdMb29rYWhlYWRGdW5jdGlvbiA9IGxvb2tBaGVhZEZ1bmM7XG4gICAgICAgICAgICAgICAgbG9va0FoZWFkRnVuYyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZWRpY2F0ZS5jYWxsKHRoaXMpICYmIG9yZ0xvb2thaGVhZEZ1bmN0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbk9STWV0aG9kRGVmO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb29rQWhlYWRGdW5jLmNhbGwodGhpcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGxldCBub3RTdHVjayA9IHRoaXMuZG9TaW5nbGVSZXBldGl0aW9uKGFjdGlvbik7XG4gICAgICAgICAgICB3aGlsZSAobG9va0FoZWFkRnVuYy5jYWxsKHRoaXMpID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgbm90U3R1Y2sgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBub3RTdHVjayA9IHRoaXMuZG9TaW5nbGVSZXBldGl0aW9uKGFjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyB0aGlzLnJhaXNlRWFybHlFeGl0RXhjZXB0aW9uKHByb2RPY2N1cnJlbmNlLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUlksIGFjdGlvbk9STWV0aG9kRGVmLkVSUl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGUgdGhhdCB3aGlsZSBpdCBtYXkgc2VlbSB0aGF0IHRoaXMgY2FuIGNhdXNlIGFuIGVycm9yIGJlY2F1c2UgYnkgdXNpbmcgYSByZWN1cnNpdmUgY2FsbCB0b1xuICAgICAgICAvLyBBVF9MRUFTVF9PTkUgd2UgY2hhbmdlIHRoZSBncmFtbWFyIHRvIEFUX0xFQVNUX1RXTywgQVRfTEVBU1RfVEhSRUUgLi4uICwgdGhlIHBvc3NpYmxlIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIC8vIGZyb20gdGhlIHRyeUluUmVwZXRpdGlvblJlY292ZXJ5KC4uLikgd2lsbCBvbmx5IGhhcHBlbiBJRkYgdGhlcmUgcmVhbGx5IGFyZSBUV08vVEhSRUUvLi4uLiBpdGVtcy5cbiAgICAgICAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBcImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeVwiIHdpbGwgYmUgZGVmaW5lZCBhcyBOT09QIHVubGVzcyByZWNvdmVyeSBpcyBlbmFibGVkXG4gICAgICAgIHRoaXMuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5KHRoaXMuYXRMZWFzdE9uZUludGVybmFsLCBbcHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmXSwgbG9va0FoZWFkRnVuYywgQVRfTEVBU1RfT05FX0lEWCwgcHJvZE9jY3VycmVuY2UsIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVdhbGtlcik7XG4gICAgfVxuICAgIGF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGxhS2V5ID0gdGhpcy5nZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQoQVRfTEVBU1RfT05FX1NFUF9JRFgsIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zLCBsYUtleSk7XG4gICAgfVxuICAgIGF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsTG9naWMocHJvZE9jY3VycmVuY2UsIG9wdGlvbnMsIGtleSkge1xuICAgICAgICBjb25zdCBhY3Rpb24gPSBvcHRpb25zLkRFRjtcbiAgICAgICAgY29uc3Qgc2VwYXJhdG9yID0gb3B0aW9ucy5TRVA7XG4gICAgICAgIGNvbnN0IGZpcnN0SXRlcmF0aW9uTG9va2FoZWFkRnVuYyA9IHRoaXMuZ2V0TGFGdW5jRnJvbUNhY2hlKGtleSk7XG4gICAgICAgIC8vIDFzdCBpdGVyYXRpb25cbiAgICAgICAgaWYgKGZpcnN0SXRlcmF0aW9uTG9va2FoZWFkRnVuYy5jYWxsKHRoaXMpID09PSB0cnVlKSB7XG4gICAgICAgICAgICBhY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIC8vICBUT0RPOiBPcHRpbWl6YXRpb24gY2FuIG1vdmUgdGhpcyBmdW5jdGlvbiBjb25zdHJ1Y3Rpb24gaW50byBcImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeVwiXG4gICAgICAgICAgICAvLyAgYmVjYXVzZSBpdCBpcyBvbmx5IG5lZWRlZCBpbiBlcnJvciByZWNvdmVyeSBzY2VuYXJpb3MuXG4gICAgICAgICAgICBjb25zdCBzZXBhcmF0b3JMb29rQWhlYWRGdW5jID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuTWF0Y2hlcih0aGlzLkxBKDEpLCBzZXBhcmF0b3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIDJuZC4ubnRoIGl0ZXJhdGlvbnNcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnRva2VuTWF0Y2hlcih0aGlzLkxBKDEpLCBzZXBhcmF0b3IpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy8gbm90ZSB0aGF0IHRoaXMgQ09OU1VNRSB3aWxsIG5ldmVyIGVudGVyIHJlY292ZXJ5IGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB0aGUgc2VwYXJhdG9yTG9va0FoZWFkRnVuYyBjaGVja3MgdGhhdCB0aGUgc2VwYXJhdG9yIHJlYWxseSBkb2VzIGV4aXN0LlxuICAgICAgICAgICAgICAgIHRoaXMuQ09OU1VNRShzZXBhcmF0b3IpO1xuICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgZm9yIGNoZWNraW5nIGluZmluaXRlIGxvb3AgaGVyZSBkdWUgdG8gY29uc3VtaW5nIHRoZSBzZXBhcmF0b3IuXG4gICAgICAgICAgICAgICAgYWN0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5KHRoaXMucmVwZXRpdGlvblNlcFNlY29uZEludGVybmFsLCBbXG4gICAgICAgICAgICAgICAgcHJvZE9jY3VycmVuY2UsXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yLFxuICAgICAgICAgICAgICAgIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsXG4gICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlcixcbiAgICAgICAgICAgIF0sIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsIEFUX0xFQVNUX09ORV9TRVBfSURYLCBwcm9kT2NjdXJyZW5jZSwgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lU2VwV2Fsa2VyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMucmFpc2VFYXJseUV4aXRFeGNlcHRpb24ocHJvZE9jY3VycmVuY2UsIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWV9XSVRIX1NFUEFSQVRPUiwgb3B0aW9ucy5FUlJfTVNHKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYW55SW50ZXJuYWwocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIGNvbnN0IGxhS2V5ID0gdGhpcy5nZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQoTUFOWV9JRFgsIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFueUludGVybmFsTG9naWMocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmLCBsYUtleSk7XG4gICAgfVxuICAgIG1hbnlJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZiwga2V5KSB7XG4gICAgICAgIGxldCBsb29rYWhlYWRGdW5jdGlvbiA9IHRoaXMuZ2V0TGFGdW5jRnJvbUNhY2hlKGtleSk7XG4gICAgICAgIGxldCBhY3Rpb247XG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uT1JNZXRob2REZWYgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uT1JNZXRob2REZWYuREVGO1xuICAgICAgICAgICAgY29uc3QgcHJlZGljYXRlID0gYWN0aW9uT1JNZXRob2REZWYuR0FURTtcbiAgICAgICAgICAgIC8vIHByZWRpY2F0ZSBwcmVzZW50XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmdMb29rYWhlYWRGdW5jdGlvbiA9IGxvb2thaGVhZEZ1bmN0aW9uO1xuICAgICAgICAgICAgICAgIGxvb2thaGVhZEZ1bmN0aW9uID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlZGljYXRlLmNhbGwodGhpcykgJiYgb3JnTG9va2FoZWFkRnVuY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uT1JNZXRob2REZWY7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5vdFN0dWNrID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKGxvb2thaGVhZEZ1bmN0aW9uLmNhbGwodGhpcykgPT09IHRydWUgJiYgbm90U3R1Y2sgPT09IHRydWUpIHtcbiAgICAgICAgICAgIG5vdFN0dWNrID0gdGhpcy5kb1NpbmdsZVJlcGV0aXRpb24oYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgdGhpcy5hdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkodGhpcy5tYW55SW50ZXJuYWwsIFtwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWZdLCBsb29rYWhlYWRGdW5jdGlvbiwgTUFOWV9JRFgsIHByb2RPY2N1cnJlbmNlLCBOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIsIFxuICAgICAgICAvLyBUaGUgbm90U3R1Y2sgcGFyYW1ldGVyIGlzIG9ubHkgcmVsZXZhbnQgd2hlbiBcImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeVwiXG4gICAgICAgIC8vIGlzIGludm9rZWQgZnJvbSBtYW55SW50ZXJuYWwsIGluIHRoZSBNQU5ZX1NFUCBjYXNlIGFuZCBBVF9MRUFTVF9PTkVbX1NFUF1cbiAgICAgICAgLy8gQW4gaW5maW5pdGUgbG9vcCBjYW5ub3Qgb2NjdXIgYXM6XG4gICAgICAgIC8vIC0gRWl0aGVyIHRoZSBsb29rYWhlYWQgaXMgZ3VhcmFudGVlZCB0byBjb25zdW1lIHNvbWV0aGluZyAoU2luZ2xlIFRva2VuIFNlcGFyYXRvcilcbiAgICAgICAgLy8gLSBBVF9MRUFTVF9PTkUgYnkgZGVmaW5pdGlvbiBpcyBndWFyYW50ZWVkIHRvIGNvbnN1bWUgc29tZXRoaW5nIChvciBlcnJvciBvdXQpLlxuICAgICAgICBub3RTdHVjayk7XG4gICAgfVxuICAgIG1hbnlTZXBGaXJzdEludGVybmFsKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGxhS2V5ID0gdGhpcy5nZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQoTUFOWV9TRVBfSURYLCBwcm9kT2NjdXJyZW5jZSk7XG4gICAgICAgIHRoaXMubWFueVNlcEZpcnN0SW50ZXJuYWxMb2dpYyhwcm9kT2NjdXJyZW5jZSwgb3B0aW9ucywgbGFLZXkpO1xuICAgIH1cbiAgICBtYW55U2VwRmlyc3RJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zLCBrZXkpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gb3B0aW9ucy5ERUY7XG4gICAgICAgIGNvbnN0IHNlcGFyYXRvciA9IG9wdGlvbnMuU0VQO1xuICAgICAgICBjb25zdCBmaXJzdEl0ZXJhdGlvbkxhRnVuYyA9IHRoaXMuZ2V0TGFGdW5jRnJvbUNhY2hlKGtleSk7XG4gICAgICAgIC8vIDFzdCBpdGVyYXRpb25cbiAgICAgICAgaWYgKGZpcnN0SXRlcmF0aW9uTGFGdW5jLmNhbGwodGhpcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgY29uc3Qgc2VwYXJhdG9yTG9va0FoZWFkRnVuYyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b2tlbk1hdGNoZXIodGhpcy5MQSgxKSwgc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyAybmQuLm50aCBpdGVyYXRpb25zXG4gICAgICAgICAgICB3aGlsZSAodGhpcy50b2tlbk1hdGNoZXIodGhpcy5MQSgxKSwgc2VwYXJhdG9yKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB0aGlzIENPTlNVTUUgd2lsbCBuZXZlciBlbnRlciByZWNvdmVyeSBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gdGhlIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMgY2hlY2tzIHRoYXQgdGhlIHNlcGFyYXRvciByZWFsbHkgZG9lcyBleGlzdC5cbiAgICAgICAgICAgICAgICB0aGlzLkNPTlNVTUUoc2VwYXJhdG9yKTtcbiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIGZvciBjaGVja2luZyBpbmZpbml0ZSBsb29wIGhlcmUgZHVlIHRvIGNvbnN1bWluZyB0aGUgc2VwYXJhdG9yLlxuICAgICAgICAgICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBcImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeVwiIHdpbGwgYmUgZGVmaW5lZCBhcyBOT09QIHVubGVzcyByZWNvdmVyeSBpcyBlbmFibGVkXG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeSh0aGlzLnJlcGV0aXRpb25TZXBTZWNvbmRJbnRlcm5hbCwgW1xuICAgICAgICAgICAgICAgIHByb2RPY2N1cnJlbmNlLFxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcixcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3JMb29rQWhlYWRGdW5jLFxuICAgICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgICBOZXh0VGVybWluYWxBZnRlck1hbnlTZXBXYWxrZXIsXG4gICAgICAgICAgICBdLCBzZXBhcmF0b3JMb29rQWhlYWRGdW5jLCBNQU5ZX1NFUF9JRFgsIHByb2RPY2N1cnJlbmNlLCBOZXh0VGVybWluYWxBZnRlck1hbnlTZXBXYWxrZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcGV0aXRpb25TZXBTZWNvbmRJbnRlcm5hbChwcm9kT2NjdXJyZW5jZSwgc2VwYXJhdG9yLCBzZXBhcmF0b3JMb29rQWhlYWRGdW5jLCBhY3Rpb24sIG5leHRUZXJtaW5hbEFmdGVyV2Fsa2VyKSB7XG4gICAgICAgIHdoaWxlIChzZXBhcmF0b3JMb29rQWhlYWRGdW5jKCkpIHtcbiAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB0aGlzIENPTlNVTUUgd2lsbCBuZXZlciBlbnRlciByZWNvdmVyeSBiZWNhdXNlXG4gICAgICAgICAgICAvLyB0aGUgc2VwYXJhdG9yTG9va0FoZWFkRnVuYyBjaGVja3MgdGhhdCB0aGUgc2VwYXJhdG9yIHJlYWxseSBkb2VzIGV4aXN0LlxuICAgICAgICAgICAgdGhpcy5DT05TVU1FKHNlcGFyYXRvcik7XG4gICAgICAgICAgICBhY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBjYW4gb25seSBhcnJpdmUgdG8gdGhpcyBmdW5jdGlvbiBhZnRlciBhbiBlcnJvclxuICAgICAgICAvLyBoYXMgb2NjdXJyZWQgKGhlbmNlIHRoZSBuYW1lICdzZWNvbmQnKSBzbyB0aGUgZm9sbG93aW5nXG4gICAgICAgIC8vIElGIHdpbGwgYWx3YXlzIGJlIGVudGVyZWQsIGl0cyBwb3NzaWJsZSB0byByZW1vdmUgaXQuLi5cbiAgICAgICAgLy8gaG93ZXZlciBpdCBpcyBrZXB0IHRvIGF2b2lkIGNvbmZ1c2lvbiBhbmQgYmUgY29uc2lzdGVudC5cbiAgICAgICAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBcImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeVwiIHdpbGwgYmUgZGVmaW5lZCBhcyBOT09QIHVubGVzcyByZWNvdmVyeSBpcyBlbmFibGVkXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIHRoaXMuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5KHRoaXMucmVwZXRpdGlvblNlcFNlY29uZEludGVybmFsLCBbXG4gICAgICAgICAgICBwcm9kT2NjdXJyZW5jZSxcbiAgICAgICAgICAgIHNlcGFyYXRvcixcbiAgICAgICAgICAgIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsXG4gICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICBuZXh0VGVybWluYWxBZnRlcldhbGtlcixcbiAgICAgICAgXSwgc2VwYXJhdG9yTG9va0FoZWFkRnVuYywgQVRfTEVBU1RfT05FX1NFUF9JRFgsIHByb2RPY2N1cnJlbmNlLCBuZXh0VGVybWluYWxBZnRlcldhbGtlcik7XG4gICAgfVxuICAgIGRvU2luZ2xlUmVwZXRpdGlvbihhY3Rpb24pIHtcbiAgICAgICAgY29uc3QgYmVmb3JlSXRlcmF0aW9uID0gdGhpcy5nZXRMZXhlclBvc2l0aW9uKCk7XG4gICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICBjb25zdCBhZnRlckl0ZXJhdGlvbiA9IHRoaXMuZ2V0TGV4ZXJQb3NpdGlvbigpO1xuICAgICAgICAvLyBUaGlzIGJvb2xlYW4gd2lsbCBpbmRpY2F0ZSBpZiB0aGlzIHJlcGV0aXRpb24gcHJvZ3Jlc3NlZFxuICAgICAgICAvLyBvciBpZiB3ZSBhcmUgXCJzdHVja1wiIChwb3RlbnRpYWwgaW5maW5pdGUgbG9vcCBpbiB0aGUgcmVwZXRpdGlvbikuXG4gICAgICAgIHJldHVybiBhZnRlckl0ZXJhdGlvbiA+IGJlZm9yZUl0ZXJhdGlvbjtcbiAgICB9XG4gICAgb3JJbnRlcm5hbChhbHRzT3JPcHRzLCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIGNvbnN0IGxhS2V5ID0gdGhpcy5nZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQoT1JfSURYLCBvY2N1cnJlbmNlKTtcbiAgICAgICAgY29uc3QgYWx0cyA9IGlzQXJyYXkoYWx0c09yT3B0cykgPyBhbHRzT3JPcHRzIDogYWx0c09yT3B0cy5ERUY7XG4gICAgICAgIGNvbnN0IGxhRnVuYyA9IHRoaXMuZ2V0TGFGdW5jRnJvbUNhY2hlKGxhS2V5KTtcbiAgICAgICAgY29uc3QgYWx0SWR4VG9UYWtlID0gbGFGdW5jLmNhbGwodGhpcywgYWx0cyk7XG4gICAgICAgIGlmIChhbHRJZHhUb1Rha2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY2hvc2VuQWx0ZXJuYXRpdmUgPSBhbHRzW2FsdElkeFRvVGFrZV07XG4gICAgICAgICAgICByZXR1cm4gY2hvc2VuQWx0ZXJuYXRpdmUuQUxULmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yYWlzZU5vQWx0RXhjZXB0aW9uKG9jY3VycmVuY2UsIGFsdHNPck9wdHMuRVJSX01TRyk7XG4gICAgfVxuICAgIHJ1bGVGaW5hbGx5U3RhdGVVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuUlVMRV9TVEFDSy5wb3AoKTtcbiAgICAgICAgdGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0sucG9wKCk7XG4gICAgICAgIC8vIE5PT1Agd2hlbiBjc3QgaXMgZGlzYWJsZWRcbiAgICAgICAgdGhpcy5jc3RGaW5hbGx5U3RhdGVVcGRhdGUoKTtcbiAgICAgICAgaWYgKHRoaXMuUlVMRV9TVEFDSy5sZW5ndGggPT09IDAgJiYgdGhpcy5pc0F0RW5kT2ZJbnB1dCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RSZWR1bmRhbnRUb2sgPSB0aGlzLkxBKDEpO1xuICAgICAgICAgICAgY29uc3QgZXJyTXNnID0gdGhpcy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZE5vdEFsbElucHV0UGFyc2VkTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgZmlyc3RSZWR1bmRhbnQ6IGZpcnN0UmVkdW5kYW50VG9rLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiB0aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5TQVZFX0VSUk9SKG5ldyBOb3RBbGxJbnB1dFBhcnNlZEV4Y2VwdGlvbihlcnJNc2csIGZpcnN0UmVkdW5kYW50VG9rKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIGlkeCwgb3B0aW9ucykge1xuICAgICAgICBsZXQgcnVsZVJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBvcHRpb25zICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLkFSR1MgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnN1YnJ1bGVJZHggPSBpZHg7XG4gICAgICAgICAgICBydWxlUmVzdWx0ID0gcnVsZVRvQ2FsbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdE5vblRlcm1pbmFsKHJ1bGVSZXN1bHQsIG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLkxBQkVMICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuTEFCRUxcbiAgICAgICAgICAgICAgICA6IHJ1bGVUb0NhbGwucnVsZU5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJ1bGVSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMuc3VicnVsZUludGVybmFsRXJyb3IoZSwgb3B0aW9ucywgcnVsZVRvQ2FsbC5ydWxlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3VicnVsZUludGVybmFsRXJyb3IoZSwgb3B0aW9ucywgcnVsZU5hbWUpIHtcbiAgICAgICAgaWYgKGlzUmVjb2duaXRpb25FeGNlcHRpb24oZSkgJiYgZS5wYXJ0aWFsQ3N0UmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdE5vblRlcm1pbmFsKGUucGFydGlhbENzdFJlc3VsdCwgb3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuTEFCRUwgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5MQUJFTFxuICAgICAgICAgICAgICAgIDogcnVsZU5hbWUpO1xuICAgICAgICAgICAgZGVsZXRlIGUucGFydGlhbENzdFJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICBjb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgaWR4LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBjb25zdW1lZFRva2VuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFRva2VuID0gdGhpcy5MQSgxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRva2VuTWF0Y2hlcihuZXh0VG9rZW4sIHRva1R5cGUpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lVG9rZW4oKTtcbiAgICAgICAgICAgICAgICBjb25zdW1lZFRva2VuID0gbmV4dFRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lSW50ZXJuYWxFcnJvcih0b2tUeXBlLCBuZXh0VG9rZW4sIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlRnJvbUNvbnN1bXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zdW1lZFRva2VuID0gdGhpcy5jb25zdW1lSW50ZXJuYWxSZWNvdmVyeSh0b2tUeXBlLCBpZHgsIGVGcm9tQ29uc3VtcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3N0UG9zdFRlcm1pbmFsKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLkxBQkVMICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5MQUJFTFxuICAgICAgICAgICAgOiB0b2tUeXBlLm5hbWUsIGNvbnN1bWVkVG9rZW4pO1xuICAgICAgICByZXR1cm4gY29uc3VtZWRUb2tlbjtcbiAgICB9XG4gICAgY29uc3VtZUludGVybmFsRXJyb3IodG9rVHlwZSwgbmV4dFRva2VuLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBtc2c7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVG9rZW4gPSB0aGlzLkxBKDApO1xuICAgICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuRVJSX01TRykge1xuICAgICAgICAgICAgbXNnID0gb3B0aW9ucy5FUlJfTVNHO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbXNnID0gdGhpcy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZE1pc21hdGNoVG9rZW5NZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdG9rVHlwZSxcbiAgICAgICAgICAgICAgICBhY3R1YWw6IG5leHRUb2tlbixcbiAgICAgICAgICAgICAgICBwcmV2aW91czogcHJldmlvdXNUb2tlbixcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyB0aGlzLlNBVkVfRVJST1IobmV3IE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbihtc2csIG5leHRUb2tlbiwgcHJldmlvdXNUb2tlbikpO1xuICAgIH1cbiAgICBjb25zdW1lSW50ZXJuYWxSZWNvdmVyeSh0b2tUeXBlLCBpZHgsIGVGcm9tQ29uc3VtcHRpb24pIHtcbiAgICAgICAgLy8gbm8gcmVjb3ZlcnkgYWxsb3dlZCBkdXJpbmcgYmFja3RyYWNraW5nLCBvdGhlcndpc2UgYmFja3RyYWNraW5nIG1heSByZWNvdmVyIGludmFsaWQgc3ludGF4IGFuZCBhY2NlcHQgaXRcbiAgICAgICAgLy8gYnV0IHRoZSBvcmlnaW5hbCBzeW50YXggY291bGQgaGF2ZSBiZWVuIHBhcnNlZCBzdWNjZXNzZnVsbHkgd2l0aG91dCBhbnkgYmFja3RyYWNraW5nICsgcmVjb3ZlcnlcbiAgICAgICAgaWYgKHRoaXMucmVjb3ZlcnlFbmFibGVkICYmXG4gICAgICAgICAgICAvLyBUT0RPOiBtb3JlIHJvYnVzdCBjaGVja2luZyBvZiB0aGUgZXhjZXB0aW9uIHR5cGUuIFBlcmhhcHMgVHlwZXNjcmlwdCBleHRlbmRpbmcgZXhwcmVzc2lvbnM/XG4gICAgICAgICAgICBlRnJvbUNvbnN1bXB0aW9uLm5hbWUgPT09IFwiTWlzbWF0Y2hlZFRva2VuRXhjZXB0aW9uXCIgJiZcbiAgICAgICAgICAgICF0aGlzLmlzQmFja1RyYWNraW5nKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvbGxvd3MgPSB0aGlzLmdldEZvbGxvd3NGb3JJblJ1bGVSZWNvdmVyeSh0b2tUeXBlLCBpZHgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cnlJblJ1bGVSZWNvdmVyeSh0b2tUeXBlLCBmb2xsb3dzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlRnJvbUluUnVsZVJlY292ZXJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVGcm9tSW5SdWxlUmVjb3ZlcnkubmFtZSA9PT0gSU5fUlVMRV9SRUNPVkVSWV9FWENFUFRJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFpbGVkIGluIFJ1bGVSZWNvdmVyeS5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3cgdGhlIG9yaWdpbmFsIGVycm9yIGluIG9yZGVyIHRvIHRyaWdnZXIgcmVTeW5jIGVycm9yIHJlY292ZXJ5XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVGcm9tQ29uc3VtcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlRnJvbUluUnVsZVJlY292ZXJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVGcm9tQ29uc3VtcHRpb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2F2ZVJlY29nU3RhdGUoKSB7XG4gICAgICAgIC8vIGVycm9ycyBpcyBhIGdldHRlciB3aGljaCB3aWxsIGNsb25lIHRoZSBlcnJvcnMgYXJyYXlcbiAgICAgICAgY29uc3Qgc2F2ZWRFcnJvcnMgPSB0aGlzLmVycm9ycztcbiAgICAgICAgY29uc3Qgc2F2ZWRSdWxlU3RhY2sgPSBjbG9uZSh0aGlzLlJVTEVfU1RBQ0spO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXJyb3JzOiBzYXZlZEVycm9ycyxcbiAgICAgICAgICAgIGxleGVyU3RhdGU6IHRoaXMuZXhwb3J0TGV4ZXJTdGF0ZSgpLFxuICAgICAgICAgICAgUlVMRV9TVEFDSzogc2F2ZWRSdWxlU3RhY2ssXG4gICAgICAgICAgICBDU1RfU1RBQ0s6IHRoaXMuQ1NUX1NUQUNLLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZWxvYWRSZWNvZ1N0YXRlKG5ld1N0YXRlKSB7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gbmV3U3RhdGUuZXJyb3JzO1xuICAgICAgICB0aGlzLmltcG9ydExleGVyU3RhdGUobmV3U3RhdGUubGV4ZXJTdGF0ZSk7XG4gICAgICAgIHRoaXMuUlVMRV9TVEFDSyA9IG5ld1N0YXRlLlJVTEVfU1RBQ0s7XG4gICAgfVxuICAgIHJ1bGVJbnZvY2F0aW9uU3RhdGVVcGRhdGUoc2hvcnROYW1lLCBmdWxsTmFtZSwgaWR4SW5DYWxsaW5nUnVsZSkge1xuICAgICAgICB0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSy5wdXNoKGlkeEluQ2FsbGluZ1J1bGUpO1xuICAgICAgICB0aGlzLlJVTEVfU1RBQ0sucHVzaChzaG9ydE5hbWUpO1xuICAgICAgICAvLyBOT09QIHdoZW4gY3N0IGlzIGRpc2FibGVkXG4gICAgICAgIHRoaXMuY3N0SW52b2NhdGlvblN0YXRlVXBkYXRlKGZ1bGxOYW1lKTtcbiAgICB9XG4gICAgaXNCYWNrVHJhY2tpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzQmFja1RyYWNraW5nU3RhY2subGVuZ3RoICE9PSAwO1xuICAgIH1cbiAgICBnZXRDdXJyUnVsZUZ1bGxOYW1lKCkge1xuICAgICAgICBjb25zdCBzaG9ydE5hbWUgPSB0aGlzLmdldExhc3RFeHBsaWNpdFJ1bGVTaG9ydE5hbWUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbFtzaG9ydE5hbWVdO1xuICAgIH1cbiAgICBzaG9ydFJ1bGVOYW1lVG9GdWxsTmFtZShzaG9ydE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbFtzaG9ydE5hbWVdO1xuICAgIH1cbiAgICBpc0F0RW5kT2ZJbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW5NYXRjaGVyKHRoaXMuTEEoMSksIEVPRik7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnJlc2V0TGV4ZXJTdGF0ZSgpO1xuICAgICAgICB0aGlzLnN1YnJ1bGVJZHggPSAwO1xuICAgICAgICB0aGlzLmlzQmFja1RyYWNraW5nU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5SVUxFX1NUQUNLID0gW107XG4gICAgICAgIC8vIFRPRE86IGV4dHJhY3QgYSBzcGVjaWZpYyByZXNldCBmb3IgVHJlZUJ1aWxkZXIgdHJhaXRcbiAgICAgICAgdGhpcy5DU1RfU1RBQ0sgPSBbXTtcbiAgICAgICAgdGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0sgPSBbXTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvZ25pemVyX2VuZ2luZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_engine.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recoverable.js":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recoverable.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EOF_FOLLOW_KEY: () => (/* binding */ EOF_FOLLOW_KEY),\n/* harmony export */   IN_RULE_RECOVERY_EXCEPTION: () => (/* binding */ IN_RULE_RECOVERY_EXCEPTION),\n/* harmony export */   InRuleRecoveryException: () => (/* binding */ InRuleRecoveryException),\n/* harmony export */   Recoverable: () => (/* binding */ Recoverable),\n/* harmony export */   attemptInRepetitionRecovery: () => (/* binding */ attemptInRepetitionRecovery)\n/* harmony export */ });\n/* harmony import */ var _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../scan/tokens_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens_public.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/dropRight.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/find.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/includes.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/flatten.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/clone.js\");\n/* harmony import */ var _exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../exceptions_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/exceptions_public.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../constants.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/constants.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n\n\n\n\n\nconst EOF_FOLLOW_KEY = {};\nconst IN_RULE_RECOVERY_EXCEPTION = \"InRuleRecoveryException\";\nclass InRuleRecoveryException extends Error {\n    constructor(message) {\n        super(message);\n        this.name = IN_RULE_RECOVERY_EXCEPTION;\n    }\n}\n/**\n * This trait is responsible for the error recovery and fault tolerant logic\n */\nclass Recoverable {\n    initRecoverable(config) {\n        this.firstAfterRepMap = {};\n        this.resyncFollows = {};\n        this.recoveryEnabled = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, \"recoveryEnabled\")\n            ? config.recoveryEnabled // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_PARSER_CONFIG.recoveryEnabled;\n        // performance optimization, NOOP will be inlined which\n        // effectively means that this optional feature does not exist\n        // when not used.\n        if (this.recoveryEnabled) {\n            this.attemptInRepetitionRecovery = attemptInRepetitionRecovery;\n        }\n    }\n    getTokenToInsert(tokType) {\n        const tokToInsert = (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.createTokenInstance)(tokType, \"\", NaN, NaN, NaN, NaN, NaN, NaN);\n        tokToInsert.isInsertedInRecovery = true;\n        return tokToInsert;\n    }\n    canTokenTypeBeInsertedInRecovery(tokType) {\n        return true;\n    }\n    canTokenTypeBeDeletedInRecovery(tokType) {\n        return true;\n    }\n    tryInRepetitionRecovery(grammarRule, grammarRuleArgs, lookAheadFunc, expectedTokType) {\n        // TODO: can the resyncTokenType be cached?\n        const reSyncTokType = this.findReSyncTokenType();\n        const savedLexerState = this.exportLexerState();\n        const resyncedTokens = [];\n        let passedResyncPoint = false;\n        const nextTokenWithoutResync = this.LA(1);\n        let currToken = this.LA(1);\n        const generateErrorMessage = () => {\n            const previousToken = this.LA(0);\n            // we are preemptively re-syncing before an error has been detected, therefor we must reproduce\n            // the error that would have been thrown\n            const msg = this.errorMessageProvider.buildMismatchTokenMessage({\n                expected: expectedTokType,\n                actual: nextTokenWithoutResync,\n                previous: previousToken,\n                ruleName: this.getCurrRuleFullName(),\n            });\n            const error = new _exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__.MismatchedTokenException(msg, nextTokenWithoutResync, this.LA(0));\n            // the first token here will be the original cause of the error, this is not part of the resyncedTokens property.\n            error.resyncedTokens = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(resyncedTokens);\n            this.SAVE_ERROR(error);\n        };\n        while (!passedResyncPoint) {\n            // re-synced to a point where we can safely exit the repetition/\n            if (this.tokenMatcher(currToken, expectedTokType)) {\n                generateErrorMessage();\n                return; // must return here to avoid reverting the inputIdx\n            }\n            else if (lookAheadFunc.call(this)) {\n                // we skipped enough tokens so we can resync right back into another iteration of the repetition grammar rule\n                generateErrorMessage();\n                // recursive invocation in other to support multiple re-syncs in the same top level repetition grammar rule\n                grammarRule.apply(this, grammarRuleArgs);\n                return; // must return here to avoid reverting the inputIdx\n            }\n            else if (this.tokenMatcher(currToken, reSyncTokType)) {\n                passedResyncPoint = true;\n            }\n            else {\n                currToken = this.SKIP_TOKEN();\n                this.addToResyncTokens(currToken, resyncedTokens);\n            }\n        }\n        // we were unable to find a CLOSER point to resync inside the Repetition, reset the state.\n        // The parsing exception we were trying to prevent will happen in the NEXT parsing step. it may be handled by\n        // \"between rules\" resync recovery later in the flow.\n        this.importLexerState(savedLexerState);\n    }\n    shouldInRepetitionRecoveryBeTried(expectTokAfterLastMatch, nextTokIdx, notStuck) {\n        // Edge case of arriving from a MANY repetition which is stuck\n        // Attempting recovery in this case could cause an infinite loop\n        if (notStuck === false) {\n            return false;\n        }\n        // no need to recover, next token is what we expect...\n        if (this.tokenMatcher(this.LA(1), expectTokAfterLastMatch)) {\n            return false;\n        }\n        // error recovery is disabled during backtracking as it can make the parser ignore a valid grammar path\n        // and prefer some backtracking path that includes recovered errors.\n        if (this.isBackTracking()) {\n            return false;\n        }\n        // if we can perform inRule recovery (single token insertion or deletion) we always prefer that recovery algorithm\n        // because if it works, it makes the least amount of changes to the input stream (greedy algorithm)\n        //noinspection RedundantIfStatementJS\n        if (this.canPerformInRuleRecovery(expectTokAfterLastMatch, this.getFollowsForInRuleRecovery(expectTokAfterLastMatch, nextTokIdx))) {\n            return false;\n        }\n        return true;\n    }\n    // Error Recovery functionality\n    getFollowsForInRuleRecovery(tokType, tokIdxInRule) {\n        const grammarPath = this.getCurrentGrammarPath(tokType, tokIdxInRule);\n        const follows = this.getNextPossibleTokenTypes(grammarPath);\n        return follows;\n    }\n    tryInRuleRecovery(expectedTokType, follows) {\n        if (this.canRecoverWithSingleTokenInsertion(expectedTokType, follows)) {\n            const tokToInsert = this.getTokenToInsert(expectedTokType);\n            return tokToInsert;\n        }\n        if (this.canRecoverWithSingleTokenDeletion(expectedTokType)) {\n            const nextTok = this.SKIP_TOKEN();\n            this.consumeToken();\n            return nextTok;\n        }\n        throw new InRuleRecoveryException(\"sad sad panda\");\n    }\n    canPerformInRuleRecovery(expectedToken, follows) {\n        return (this.canRecoverWithSingleTokenInsertion(expectedToken, follows) ||\n            this.canRecoverWithSingleTokenDeletion(expectedToken));\n    }\n    canRecoverWithSingleTokenInsertion(expectedTokType, follows) {\n        if (!this.canTokenTypeBeInsertedInRecovery(expectedTokType)) {\n            return false;\n        }\n        // must know the possible following tokens to perform single token insertion\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(follows)) {\n            return false;\n        }\n        const mismatchedTok = this.LA(1);\n        const isMisMatchedTokInFollows = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(follows, (possibleFollowsTokType) => {\n            return this.tokenMatcher(mismatchedTok, possibleFollowsTokType);\n        }) !== undefined;\n        return isMisMatchedTokInFollows;\n    }\n    canRecoverWithSingleTokenDeletion(expectedTokType) {\n        if (!this.canTokenTypeBeDeletedInRecovery(expectedTokType)) {\n            return false;\n        }\n        const isNextTokenWhatIsExpected = this.tokenMatcher(this.LA(2), expectedTokType);\n        return isNextTokenWhatIsExpected;\n    }\n    isInCurrentRuleReSyncSet(tokenTypeIdx) {\n        const followKey = this.getCurrFollowKey();\n        const currentRuleReSyncSet = this.getFollowSetFromFollowKey(followKey);\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currentRuleReSyncSet, tokenTypeIdx);\n    }\n    findReSyncTokenType() {\n        const allPossibleReSyncTokTypes = this.flattenFollowSet();\n        // this loop will always terminate as EOF is always in the follow stack and also always (virtually) in the input\n        let nextToken = this.LA(1);\n        let k = 2;\n        while (true) {\n            const foundMatch = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(allPossibleReSyncTokTypes, (resyncTokType) => {\n                const canMatch = (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.tokenMatcher)(nextToken, resyncTokType);\n                return canMatch;\n            });\n            if (foundMatch !== undefined) {\n                return foundMatch;\n            }\n            nextToken = this.LA(k);\n            k++;\n        }\n    }\n    getCurrFollowKey() {\n        // the length is at least one as we always add the ruleName to the stack before invoking the rule.\n        if (this.RULE_STACK.length === 1) {\n            return EOF_FOLLOW_KEY;\n        }\n        const currRuleShortName = this.getLastExplicitRuleShortName();\n        const currRuleIdx = this.getLastExplicitRuleOccurrenceIndex();\n        const prevRuleShortName = this.getPreviousExplicitRuleShortName();\n        return {\n            ruleName: this.shortRuleNameToFullName(currRuleShortName),\n            idxInCallingRule: currRuleIdx,\n            inRule: this.shortRuleNameToFullName(prevRuleShortName),\n        };\n    }\n    buildFullFollowKeyStack() {\n        const explicitRuleStack = this.RULE_STACK;\n        const explicitOccurrenceStack = this.RULE_OCCURRENCE_STACK;\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(explicitRuleStack, (ruleName, idx) => {\n            if (idx === 0) {\n                return EOF_FOLLOW_KEY;\n            }\n            return {\n                ruleName: this.shortRuleNameToFullName(ruleName),\n                idxInCallingRule: explicitOccurrenceStack[idx],\n                inRule: this.shortRuleNameToFullName(explicitRuleStack[idx - 1]),\n            };\n        });\n    }\n    flattenFollowSet() {\n        const followStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(this.buildFullFollowKeyStack(), (currKey) => {\n            return this.getFollowSetFromFollowKey(currKey);\n        });\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(followStack);\n    }\n    getFollowSetFromFollowKey(followKey) {\n        if (followKey === EOF_FOLLOW_KEY) {\n            return [_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.EOF];\n        }\n        const followName = followKey.ruleName + followKey.idxInCallingRule + _constants_js__WEBPACK_IMPORTED_MODULE_2__.IN + followKey.inRule;\n        return this.resyncFollows[followName];\n    }\n    // It does not make any sense to include a virtual EOF token in the list of resynced tokens\n    // as EOF does not really exist and thus does not contain any useful information (line/column numbers)\n    addToResyncTokens(token, resyncTokens) {\n        if (!this.tokenMatcher(token, _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.EOF)) {\n            resyncTokens.push(token);\n        }\n        return resyncTokens;\n    }\n    reSyncTo(tokType) {\n        const resyncedTokens = [];\n        let nextTok = this.LA(1);\n        while (this.tokenMatcher(nextTok, tokType) === false) {\n            nextTok = this.SKIP_TOKEN();\n            this.addToResyncTokens(nextTok, resyncedTokens);\n        }\n        // the last token is not part of the error.\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(resyncedTokens);\n    }\n    attemptInRepetitionRecovery(prodFunc, args, lookaheadFunc, dslMethodIdx, prodOccurrence, nextToksWalker, notStuck) {\n        // by default this is a NO-OP\n        // The actual implementation is with the function(not method) below\n    }\n    getCurrentGrammarPath(tokType, tokIdxInRule) {\n        const pathRuleStack = this.getHumanReadableRuleStack();\n        const pathOccurrenceStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(this.RULE_OCCURRENCE_STACK);\n        const grammarPath = {\n            ruleStack: pathRuleStack,\n            occurrenceStack: pathOccurrenceStack,\n            lastTok: tokType,\n            lastTokOccurrence: tokIdxInRule,\n        };\n        return grammarPath;\n    }\n    getHumanReadableRuleStack() {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(this.RULE_STACK, (currShortName) => this.shortRuleNameToFullName(currShortName));\n    }\n}\nfunction attemptInRepetitionRecovery(prodFunc, args, lookaheadFunc, dslMethodIdx, prodOccurrence, nextToksWalker, notStuck) {\n    const key = this.getKeyForAutomaticLookahead(dslMethodIdx, prodOccurrence);\n    let firstAfterRepInfo = this.firstAfterRepMap[key];\n    if (firstAfterRepInfo === undefined) {\n        const currRuleName = this.getCurrRuleFullName();\n        const ruleGrammar = this.getGAstProductions()[currRuleName];\n        const walker = new nextToksWalker(ruleGrammar, prodOccurrence);\n        firstAfterRepInfo = walker.startWalking();\n        this.firstAfterRepMap[key] = firstAfterRepInfo;\n    }\n    let expectTokAfterLastMatch = firstAfterRepInfo.token;\n    let nextTokIdx = firstAfterRepInfo.occurrence;\n    const isEndOfRule = firstAfterRepInfo.isEndOfRule;\n    // special edge case of a TOP most repetition after which the input should END.\n    // this will force an attempt for inRule recovery in that scenario.\n    if (this.RULE_STACK.length === 1 &&\n        isEndOfRule &&\n        expectTokAfterLastMatch === undefined) {\n        expectTokAfterLastMatch = _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.EOF;\n        nextTokIdx = 1;\n    }\n    // We don't have anything to re-sync to...\n    // this condition was extracted from `shouldInRepetitionRecoveryBeTried` to act as a type-guard\n    if (expectTokAfterLastMatch === undefined || nextTokIdx === undefined) {\n        return;\n    }\n    if (this.shouldInRepetitionRecoveryBeTried(expectTokAfterLastMatch, nextTokIdx, notStuck)) {\n        // TODO: performance optimization: instead of passing the original args here, we modify\n        // the args param (or create a new one) and make sure the lookahead func is explicitly provided\n        // to avoid searching the cache for it once more.\n        this.tryInRepetitionRecovery(prodFunc, args, lookaheadFunc, expectTokAfterLastMatch);\n    }\n}\n//# sourceMappingURL=recoverable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9yZWNvdmVyYWJsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5RjtBQUNDO0FBQ3BCO0FBQzlCO0FBQ2E7QUFDOUM7QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFEQUFHO0FBQ2xDO0FBQ0EsY0FBYyw2REFBcUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwyRUFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYiw4QkFBOEIsMkVBQXdCO0FBQ3REO0FBQ0EsbUNBQW1DLHFEQUFTO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxxREFBSTtBQUM3QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFEQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFEQUFJO0FBQ25DLGlDQUFpQyxvRUFBWTtBQUM3QztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFEQUFHO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDRCQUE0QixxREFBRztBQUMvQjtBQUNBLFNBQVM7QUFDVCxlQUFlLHNEQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1REFBRztBQUN2QjtBQUNBLDZFQUE2RSw2Q0FBRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHVEQUFHO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msc0RBQUs7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBRztBQUNsQjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHVEQUFHO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9wYXJzZXIvdHJhaXRzL3JlY292ZXJhYmxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVRva2VuSW5zdGFuY2UsIEVPRiwgdG9rZW5NYXRjaGVyLCB9IGZyb20gXCIuLi8uLi8uLi9zY2FuL3Rva2Vuc19wdWJsaWMuanNcIjtcbmltcG9ydCB7IGNsb25lLCBkcm9wUmlnaHQsIGZpbmQsIGZsYXR0ZW4sIGhhcywgaW5jbHVkZXMsIGlzRW1wdHksIG1hcCwgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb24gfSBmcm9tIFwiLi4vLi4vZXhjZXB0aW9uc19wdWJsaWMuanNcIjtcbmltcG9ydCB7IElOIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9QQVJTRVJfQ09ORklHIH0gZnJvbSBcIi4uL3BhcnNlci5qc1wiO1xuZXhwb3J0IGNvbnN0IEVPRl9GT0xMT1dfS0VZID0ge307XG5leHBvcnQgY29uc3QgSU5fUlVMRV9SRUNPVkVSWV9FWENFUFRJT04gPSBcIkluUnVsZVJlY292ZXJ5RXhjZXB0aW9uXCI7XG5leHBvcnQgY2xhc3MgSW5SdWxlUmVjb3ZlcnlFeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gSU5fUlVMRV9SRUNPVkVSWV9FWENFUFRJT047XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIHRyYWl0IGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgZXJyb3IgcmVjb3ZlcnkgYW5kIGZhdWx0IHRvbGVyYW50IGxvZ2ljXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWNvdmVyYWJsZSB7XG4gICAgaW5pdFJlY292ZXJhYmxlKGNvbmZpZykge1xuICAgICAgICB0aGlzLmZpcnN0QWZ0ZXJSZXBNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5yZXN5bmNGb2xsb3dzID0ge307XG4gICAgICAgIHRoaXMucmVjb3ZlcnlFbmFibGVkID0gaGFzKGNvbmZpZywgXCJyZWNvdmVyeUVuYWJsZWRcIilcbiAgICAgICAgICAgID8gY29uZmlnLnJlY292ZXJ5RW5hYmxlZCAvLyBhc3N1bWVzIGVuZCB1c2VyIHByb3ZpZGVzIHRoZSBjb3JyZWN0IGNvbmZpZyB2YWx1ZS90eXBlXG4gICAgICAgICAgICA6IERFRkFVTFRfUEFSU0VSX0NPTkZJRy5yZWNvdmVyeUVuYWJsZWQ7XG4gICAgICAgIC8vIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiwgTk9PUCB3aWxsIGJlIGlubGluZWQgd2hpY2hcbiAgICAgICAgLy8gZWZmZWN0aXZlbHkgbWVhbnMgdGhhdCB0aGlzIG9wdGlvbmFsIGZlYXR1cmUgZG9lcyBub3QgZXhpc3RcbiAgICAgICAgLy8gd2hlbiBub3QgdXNlZC5cbiAgICAgICAgaWYgKHRoaXMucmVjb3ZlcnlFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeSA9IGF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRUb2tlblRvSW5zZXJ0KHRva1R5cGUpIHtcbiAgICAgICAgY29uc3QgdG9rVG9JbnNlcnQgPSBjcmVhdGVUb2tlbkluc3RhbmNlKHRva1R5cGUsIFwiXCIsIE5hTiwgTmFOLCBOYU4sIE5hTiwgTmFOLCBOYU4pO1xuICAgICAgICB0b2tUb0luc2VydC5pc0luc2VydGVkSW5SZWNvdmVyeSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0b2tUb0luc2VydDtcbiAgICB9XG4gICAgY2FuVG9rZW5UeXBlQmVJbnNlcnRlZEluUmVjb3ZlcnkodG9rVHlwZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2FuVG9rZW5UeXBlQmVEZWxldGVkSW5SZWNvdmVyeSh0b2tUeXBlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB0cnlJblJlcGV0aXRpb25SZWNvdmVyeShncmFtbWFyUnVsZSwgZ3JhbW1hclJ1bGVBcmdzLCBsb29rQWhlYWRGdW5jLCBleHBlY3RlZFRva1R5cGUpIHtcbiAgICAgICAgLy8gVE9ETzogY2FuIHRoZSByZXN5bmNUb2tlblR5cGUgYmUgY2FjaGVkP1xuICAgICAgICBjb25zdCByZVN5bmNUb2tUeXBlID0gdGhpcy5maW5kUmVTeW5jVG9rZW5UeXBlKCk7XG4gICAgICAgIGNvbnN0IHNhdmVkTGV4ZXJTdGF0ZSA9IHRoaXMuZXhwb3J0TGV4ZXJTdGF0ZSgpO1xuICAgICAgICBjb25zdCByZXN5bmNlZFRva2VucyA9IFtdO1xuICAgICAgICBsZXQgcGFzc2VkUmVzeW5jUG9pbnQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbmV4dFRva2VuV2l0aG91dFJlc3luYyA9IHRoaXMuTEEoMSk7XG4gICAgICAgIGxldCBjdXJyVG9rZW4gPSB0aGlzLkxBKDEpO1xuICAgICAgICBjb25zdCBnZW5lcmF0ZUVycm9yTWVzc2FnZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzVG9rZW4gPSB0aGlzLkxBKDApO1xuICAgICAgICAgICAgLy8gd2UgYXJlIHByZWVtcHRpdmVseSByZS1zeW5jaW5nIGJlZm9yZSBhbiBlcnJvciBoYXMgYmVlbiBkZXRlY3RlZCwgdGhlcmVmb3Igd2UgbXVzdCByZXByb2R1Y2VcbiAgICAgICAgICAgIC8vIHRoZSBlcnJvciB0aGF0IHdvdWxkIGhhdmUgYmVlbiB0aHJvd25cbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuZXJyb3JNZXNzYWdlUHJvdmlkZXIuYnVpbGRNaXNtYXRjaFRva2VuTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkVG9rVHlwZSxcbiAgICAgICAgICAgICAgICBhY3R1YWw6IG5leHRUb2tlbldpdGhvdXRSZXN5bmMsXG4gICAgICAgICAgICAgICAgcHJldmlvdXM6IHByZXZpb3VzVG9rZW4sXG4gICAgICAgICAgICAgICAgcnVsZU5hbWU6IHRoaXMuZ2V0Q3VyclJ1bGVGdWxsTmFtZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb24obXNnLCBuZXh0VG9rZW5XaXRob3V0UmVzeW5jLCB0aGlzLkxBKDApKTtcbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCB0b2tlbiBoZXJlIHdpbGwgYmUgdGhlIG9yaWdpbmFsIGNhdXNlIG9mIHRoZSBlcnJvciwgdGhpcyBpcyBub3QgcGFydCBvZiB0aGUgcmVzeW5jZWRUb2tlbnMgcHJvcGVydHkuXG4gICAgICAgICAgICBlcnJvci5yZXN5bmNlZFRva2VucyA9IGRyb3BSaWdodChyZXN5bmNlZFRva2Vucyk7XG4gICAgICAgICAgICB0aGlzLlNBVkVfRVJST1IoZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICB3aGlsZSAoIXBhc3NlZFJlc3luY1BvaW50KSB7XG4gICAgICAgICAgICAvLyByZS1zeW5jZWQgdG8gYSBwb2ludCB3aGVyZSB3ZSBjYW4gc2FmZWx5IGV4aXQgdGhlIHJlcGV0aXRpb24vXG4gICAgICAgICAgICBpZiAodGhpcy50b2tlbk1hdGNoZXIoY3VyclRva2VuLCBleHBlY3RlZFRva1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVFcnJvck1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIG11c3QgcmV0dXJuIGhlcmUgdG8gYXZvaWQgcmV2ZXJ0aW5nIHRoZSBpbnB1dElkeFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobG9va0FoZWFkRnVuYy5jYWxsKHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgLy8gd2Ugc2tpcHBlZCBlbm91Z2ggdG9rZW5zIHNvIHdlIGNhbiByZXN5bmMgcmlnaHQgYmFjayBpbnRvIGFub3RoZXIgaXRlcmF0aW9uIG9mIHRoZSByZXBldGl0aW9uIGdyYW1tYXIgcnVsZVxuICAgICAgICAgICAgICAgIGdlbmVyYXRlRXJyb3JNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgLy8gcmVjdXJzaXZlIGludm9jYXRpb24gaW4gb3RoZXIgdG8gc3VwcG9ydCBtdWx0aXBsZSByZS1zeW5jcyBpbiB0aGUgc2FtZSB0b3AgbGV2ZWwgcmVwZXRpdGlvbiBncmFtbWFyIHJ1bGVcbiAgICAgICAgICAgICAgICBncmFtbWFyUnVsZS5hcHBseSh0aGlzLCBncmFtbWFyUnVsZUFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gbXVzdCByZXR1cm4gaGVyZSB0byBhdm9pZCByZXZlcnRpbmcgdGhlIGlucHV0SWR4XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnRva2VuTWF0Y2hlcihjdXJyVG9rZW4sIHJlU3luY1Rva1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgcGFzc2VkUmVzeW5jUG9pbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VyclRva2VuID0gdGhpcy5TS0lQX1RPS0VOKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUb1Jlc3luY1Rva2VucyhjdXJyVG9rZW4sIHJlc3luY2VkVG9rZW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSB3ZXJlIHVuYWJsZSB0byBmaW5kIGEgQ0xPU0VSIHBvaW50IHRvIHJlc3luYyBpbnNpZGUgdGhlIFJlcGV0aXRpb24sIHJlc2V0IHRoZSBzdGF0ZS5cbiAgICAgICAgLy8gVGhlIHBhcnNpbmcgZXhjZXB0aW9uIHdlIHdlcmUgdHJ5aW5nIHRvIHByZXZlbnQgd2lsbCBoYXBwZW4gaW4gdGhlIE5FWFQgcGFyc2luZyBzdGVwLiBpdCBtYXkgYmUgaGFuZGxlZCBieVxuICAgICAgICAvLyBcImJldHdlZW4gcnVsZXNcIiByZXN5bmMgcmVjb3ZlcnkgbGF0ZXIgaW4gdGhlIGZsb3cuXG4gICAgICAgIHRoaXMuaW1wb3J0TGV4ZXJTdGF0ZShzYXZlZExleGVyU3RhdGUpO1xuICAgIH1cbiAgICBzaG91bGRJblJlcGV0aXRpb25SZWNvdmVyeUJlVHJpZWQoZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2gsIG5leHRUb2tJZHgsIG5vdFN0dWNrKSB7XG4gICAgICAgIC8vIEVkZ2UgY2FzZSBvZiBhcnJpdmluZyBmcm9tIGEgTUFOWSByZXBldGl0aW9uIHdoaWNoIGlzIHN0dWNrXG4gICAgICAgIC8vIEF0dGVtcHRpbmcgcmVjb3ZlcnkgaW4gdGhpcyBjYXNlIGNvdWxkIGNhdXNlIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgaWYgKG5vdFN0dWNrID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vIG5lZWQgdG8gcmVjb3ZlciwgbmV4dCB0b2tlbiBpcyB3aGF0IHdlIGV4cGVjdC4uLlxuICAgICAgICBpZiAodGhpcy50b2tlbk1hdGNoZXIodGhpcy5MQSgxKSwgZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2gpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXJyb3IgcmVjb3ZlcnkgaXMgZGlzYWJsZWQgZHVyaW5nIGJhY2t0cmFja2luZyBhcyBpdCBjYW4gbWFrZSB0aGUgcGFyc2VyIGlnbm9yZSBhIHZhbGlkIGdyYW1tYXIgcGF0aFxuICAgICAgICAvLyBhbmQgcHJlZmVyIHNvbWUgYmFja3RyYWNraW5nIHBhdGggdGhhdCBpbmNsdWRlcyByZWNvdmVyZWQgZXJyb3JzLlxuICAgICAgICBpZiAodGhpcy5pc0JhY2tUcmFja2luZygpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgY2FuIHBlcmZvcm0gaW5SdWxlIHJlY292ZXJ5IChzaW5nbGUgdG9rZW4gaW5zZXJ0aW9uIG9yIGRlbGV0aW9uKSB3ZSBhbHdheXMgcHJlZmVyIHRoYXQgcmVjb3ZlcnkgYWxnb3JpdGhtXG4gICAgICAgIC8vIGJlY2F1c2UgaWYgaXQgd29ya3MsIGl0IG1ha2VzIHRoZSBsZWFzdCBhbW91bnQgb2YgY2hhbmdlcyB0byB0aGUgaW5wdXQgc3RyZWFtIChncmVlZHkgYWxnb3JpdGhtKVxuICAgICAgICAvL25vaW5zcGVjdGlvbiBSZWR1bmRhbnRJZlN0YXRlbWVudEpTXG4gICAgICAgIGlmICh0aGlzLmNhblBlcmZvcm1JblJ1bGVSZWNvdmVyeShleHBlY3RUb2tBZnRlckxhc3RNYXRjaCwgdGhpcy5nZXRGb2xsb3dzRm9ySW5SdWxlUmVjb3ZlcnkoZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2gsIG5leHRUb2tJZHgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBFcnJvciBSZWNvdmVyeSBmdW5jdGlvbmFsaXR5XG4gICAgZ2V0Rm9sbG93c0ZvckluUnVsZVJlY292ZXJ5KHRva1R5cGUsIHRva0lkeEluUnVsZSkge1xuICAgICAgICBjb25zdCBncmFtbWFyUGF0aCA9IHRoaXMuZ2V0Q3VycmVudEdyYW1tYXJQYXRoKHRva1R5cGUsIHRva0lkeEluUnVsZSk7XG4gICAgICAgIGNvbnN0IGZvbGxvd3MgPSB0aGlzLmdldE5leHRQb3NzaWJsZVRva2VuVHlwZXMoZ3JhbW1hclBhdGgpO1xuICAgICAgICByZXR1cm4gZm9sbG93cztcbiAgICB9XG4gICAgdHJ5SW5SdWxlUmVjb3ZlcnkoZXhwZWN0ZWRUb2tUeXBlLCBmb2xsb3dzKSB7XG4gICAgICAgIGlmICh0aGlzLmNhblJlY292ZXJXaXRoU2luZ2xlVG9rZW5JbnNlcnRpb24oZXhwZWN0ZWRUb2tUeXBlLCBmb2xsb3dzKSkge1xuICAgICAgICAgICAgY29uc3QgdG9rVG9JbnNlcnQgPSB0aGlzLmdldFRva2VuVG9JbnNlcnQoZXhwZWN0ZWRUb2tUeXBlKTtcbiAgICAgICAgICAgIHJldHVybiB0b2tUb0luc2VydDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jYW5SZWNvdmVyV2l0aFNpbmdsZVRva2VuRGVsZXRpb24oZXhwZWN0ZWRUb2tUeXBlKSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFRvayA9IHRoaXMuU0tJUF9UT0tFTigpO1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lVG9rZW4oKTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0VG9rO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBJblJ1bGVSZWNvdmVyeUV4Y2VwdGlvbihcInNhZCBzYWQgcGFuZGFcIik7XG4gICAgfVxuICAgIGNhblBlcmZvcm1JblJ1bGVSZWNvdmVyeShleHBlY3RlZFRva2VuLCBmb2xsb3dzKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5jYW5SZWNvdmVyV2l0aFNpbmdsZVRva2VuSW5zZXJ0aW9uKGV4cGVjdGVkVG9rZW4sIGZvbGxvd3MpIHx8XG4gICAgICAgICAgICB0aGlzLmNhblJlY292ZXJXaXRoU2luZ2xlVG9rZW5EZWxldGlvbihleHBlY3RlZFRva2VuKSk7XG4gICAgfVxuICAgIGNhblJlY292ZXJXaXRoU2luZ2xlVG9rZW5JbnNlcnRpb24oZXhwZWN0ZWRUb2tUeXBlLCBmb2xsb3dzKSB7XG4gICAgICAgIGlmICghdGhpcy5jYW5Ub2tlblR5cGVCZUluc2VydGVkSW5SZWNvdmVyeShleHBlY3RlZFRva1R5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbXVzdCBrbm93IHRoZSBwb3NzaWJsZSBmb2xsb3dpbmcgdG9rZW5zIHRvIHBlcmZvcm0gc2luZ2xlIHRva2VuIGluc2VydGlvblxuICAgICAgICBpZiAoaXNFbXB0eShmb2xsb3dzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1pc21hdGNoZWRUb2sgPSB0aGlzLkxBKDEpO1xuICAgICAgICBjb25zdCBpc01pc01hdGNoZWRUb2tJbkZvbGxvd3MgPSBmaW5kKGZvbGxvd3MsIChwb3NzaWJsZUZvbGxvd3NUb2tUeXBlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2tlbk1hdGNoZXIobWlzbWF0Y2hlZFRvaywgcG9zc2libGVGb2xsb3dzVG9rVHlwZSk7XG4gICAgICAgIH0pICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBpc01pc01hdGNoZWRUb2tJbkZvbGxvd3M7XG4gICAgfVxuICAgIGNhblJlY292ZXJXaXRoU2luZ2xlVG9rZW5EZWxldGlvbihleHBlY3RlZFRva1R5cGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhblRva2VuVHlwZUJlRGVsZXRlZEluUmVjb3ZlcnkoZXhwZWN0ZWRUb2tUeXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzTmV4dFRva2VuV2hhdElzRXhwZWN0ZWQgPSB0aGlzLnRva2VuTWF0Y2hlcih0aGlzLkxBKDIpLCBleHBlY3RlZFRva1R5cGUpO1xuICAgICAgICByZXR1cm4gaXNOZXh0VG9rZW5XaGF0SXNFeHBlY3RlZDtcbiAgICB9XG4gICAgaXNJbkN1cnJlbnRSdWxlUmVTeW5jU2V0KHRva2VuVHlwZUlkeCkge1xuICAgICAgICBjb25zdCBmb2xsb3dLZXkgPSB0aGlzLmdldEN1cnJGb2xsb3dLZXkoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFJ1bGVSZVN5bmNTZXQgPSB0aGlzLmdldEZvbGxvd1NldEZyb21Gb2xsb3dLZXkoZm9sbG93S2V5KTtcbiAgICAgICAgcmV0dXJuIGluY2x1ZGVzKGN1cnJlbnRSdWxlUmVTeW5jU2V0LCB0b2tlblR5cGVJZHgpO1xuICAgIH1cbiAgICBmaW5kUmVTeW5jVG9rZW5UeXBlKCkge1xuICAgICAgICBjb25zdCBhbGxQb3NzaWJsZVJlU3luY1Rva1R5cGVzID0gdGhpcy5mbGF0dGVuRm9sbG93U2V0KCk7XG4gICAgICAgIC8vIHRoaXMgbG9vcCB3aWxsIGFsd2F5cyB0ZXJtaW5hdGUgYXMgRU9GIGlzIGFsd2F5cyBpbiB0aGUgZm9sbG93IHN0YWNrIGFuZCBhbHNvIGFsd2F5cyAodmlydHVhbGx5KSBpbiB0aGUgaW5wdXRcbiAgICAgICAgbGV0IG5leHRUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgIGxldCBrID0gMjtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kTWF0Y2ggPSBmaW5kKGFsbFBvc3NpYmxlUmVTeW5jVG9rVHlwZXMsIChyZXN5bmNUb2tUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FuTWF0Y2ggPSB0b2tlbk1hdGNoZXIobmV4dFRva2VuLCByZXN5bmNUb2tUeXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FuTWF0Y2g7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChmb3VuZE1hdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmRNYXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRUb2tlbiA9IHRoaXMuTEEoayk7XG4gICAgICAgICAgICBrKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q3VyckZvbGxvd0tleSgpIHtcbiAgICAgICAgLy8gdGhlIGxlbmd0aCBpcyBhdCBsZWFzdCBvbmUgYXMgd2UgYWx3YXlzIGFkZCB0aGUgcnVsZU5hbWUgdG8gdGhlIHN0YWNrIGJlZm9yZSBpbnZva2luZyB0aGUgcnVsZS5cbiAgICAgICAgaWYgKHRoaXMuUlVMRV9TVEFDSy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBFT0ZfRk9MTE9XX0tFWTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyUnVsZVNob3J0TmFtZSA9IHRoaXMuZ2V0TGFzdEV4cGxpY2l0UnVsZVNob3J0TmFtZSgpO1xuICAgICAgICBjb25zdCBjdXJyUnVsZUlkeCA9IHRoaXMuZ2V0TGFzdEV4cGxpY2l0UnVsZU9jY3VycmVuY2VJbmRleCgpO1xuICAgICAgICBjb25zdCBwcmV2UnVsZVNob3J0TmFtZSA9IHRoaXMuZ2V0UHJldmlvdXNFeHBsaWNpdFJ1bGVTaG9ydE5hbWUoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJ1bGVOYW1lOiB0aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxOYW1lKGN1cnJSdWxlU2hvcnROYW1lKSxcbiAgICAgICAgICAgIGlkeEluQ2FsbGluZ1J1bGU6IGN1cnJSdWxlSWR4LFxuICAgICAgICAgICAgaW5SdWxlOiB0aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxOYW1lKHByZXZSdWxlU2hvcnROYW1lKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYnVpbGRGdWxsRm9sbG93S2V5U3RhY2soKSB7XG4gICAgICAgIGNvbnN0IGV4cGxpY2l0UnVsZVN0YWNrID0gdGhpcy5SVUxFX1NUQUNLO1xuICAgICAgICBjb25zdCBleHBsaWNpdE9jY3VycmVuY2VTdGFjayA9IHRoaXMuUlVMRV9PQ0NVUlJFTkNFX1NUQUNLO1xuICAgICAgICByZXR1cm4gbWFwKGV4cGxpY2l0UnVsZVN0YWNrLCAocnVsZU5hbWUsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBFT0ZfRk9MTE9XX0tFWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcnVsZU5hbWU6IHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbE5hbWUocnVsZU5hbWUpLFxuICAgICAgICAgICAgICAgIGlkeEluQ2FsbGluZ1J1bGU6IGV4cGxpY2l0T2NjdXJyZW5jZVN0YWNrW2lkeF0sXG4gICAgICAgICAgICAgICAgaW5SdWxlOiB0aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxOYW1lKGV4cGxpY2l0UnVsZVN0YWNrW2lkeCAtIDFdKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmbGF0dGVuRm9sbG93U2V0KCkge1xuICAgICAgICBjb25zdCBmb2xsb3dTdGFjayA9IG1hcCh0aGlzLmJ1aWxkRnVsbEZvbGxvd0tleVN0YWNrKCksIChjdXJyS2V5KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGb2xsb3dTZXRGcm9tRm9sbG93S2V5KGN1cnJLZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW4oZm9sbG93U3RhY2spO1xuICAgIH1cbiAgICBnZXRGb2xsb3dTZXRGcm9tRm9sbG93S2V5KGZvbGxvd0tleSkge1xuICAgICAgICBpZiAoZm9sbG93S2V5ID09PSBFT0ZfRk9MTE9XX0tFWSkge1xuICAgICAgICAgICAgcmV0dXJuIFtFT0ZdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZvbGxvd05hbWUgPSBmb2xsb3dLZXkucnVsZU5hbWUgKyBmb2xsb3dLZXkuaWR4SW5DYWxsaW5nUnVsZSArIElOICsgZm9sbG93S2V5LmluUnVsZTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzeW5jRm9sbG93c1tmb2xsb3dOYW1lXTtcbiAgICB9XG4gICAgLy8gSXQgZG9lcyBub3QgbWFrZSBhbnkgc2Vuc2UgdG8gaW5jbHVkZSBhIHZpcnR1YWwgRU9GIHRva2VuIGluIHRoZSBsaXN0IG9mIHJlc3luY2VkIHRva2Vuc1xuICAgIC8vIGFzIEVPRiBkb2VzIG5vdCByZWFsbHkgZXhpc3QgYW5kIHRodXMgZG9lcyBub3QgY29udGFpbiBhbnkgdXNlZnVsIGluZm9ybWF0aW9uIChsaW5lL2NvbHVtbiBudW1iZXJzKVxuICAgIGFkZFRvUmVzeW5jVG9rZW5zKHRva2VuLCByZXN5bmNUb2tlbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRva2VuTWF0Y2hlcih0b2tlbiwgRU9GKSkge1xuICAgICAgICAgICAgcmVzeW5jVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN5bmNUb2tlbnM7XG4gICAgfVxuICAgIHJlU3luY1RvKHRva1R5cGUpIHtcbiAgICAgICAgY29uc3QgcmVzeW5jZWRUb2tlbnMgPSBbXTtcbiAgICAgICAgbGV0IG5leHRUb2sgPSB0aGlzLkxBKDEpO1xuICAgICAgICB3aGlsZSAodGhpcy50b2tlbk1hdGNoZXIobmV4dFRvaywgdG9rVHlwZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBuZXh0VG9rID0gdGhpcy5TS0lQX1RPS0VOKCk7XG4gICAgICAgICAgICB0aGlzLmFkZFRvUmVzeW5jVG9rZW5zKG5leHRUb2ssIHJlc3luY2VkVG9rZW5zKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgbGFzdCB0b2tlbiBpcyBub3QgcGFydCBvZiB0aGUgZXJyb3IuXG4gICAgICAgIHJldHVybiBkcm9wUmlnaHQocmVzeW5jZWRUb2tlbnMpO1xuICAgIH1cbiAgICBhdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkocHJvZEZ1bmMsIGFyZ3MsIGxvb2thaGVhZEZ1bmMsIGRzbE1ldGhvZElkeCwgcHJvZE9jY3VycmVuY2UsIG5leHRUb2tzV2Fsa2VyLCBub3RTdHVjaykge1xuICAgICAgICAvLyBieSBkZWZhdWx0IHRoaXMgaXMgYSBOTy1PUFxuICAgICAgICAvLyBUaGUgYWN0dWFsIGltcGxlbWVudGF0aW9uIGlzIHdpdGggdGhlIGZ1bmN0aW9uKG5vdCBtZXRob2QpIGJlbG93XG4gICAgfVxuICAgIGdldEN1cnJlbnRHcmFtbWFyUGF0aCh0b2tUeXBlLCB0b2tJZHhJblJ1bGUpIHtcbiAgICAgICAgY29uc3QgcGF0aFJ1bGVTdGFjayA9IHRoaXMuZ2V0SHVtYW5SZWFkYWJsZVJ1bGVTdGFjaygpO1xuICAgICAgICBjb25zdCBwYXRoT2NjdXJyZW5jZVN0YWNrID0gY2xvbmUodGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0spO1xuICAgICAgICBjb25zdCBncmFtbWFyUGF0aCA9IHtcbiAgICAgICAgICAgIHJ1bGVTdGFjazogcGF0aFJ1bGVTdGFjayxcbiAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogcGF0aE9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgIGxhc3RUb2s6IHRva1R5cGUsXG4gICAgICAgICAgICBsYXN0VG9rT2NjdXJyZW5jZTogdG9rSWR4SW5SdWxlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZ3JhbW1hclBhdGg7XG4gICAgfVxuICAgIGdldEh1bWFuUmVhZGFibGVSdWxlU3RhY2soKSB7XG4gICAgICAgIHJldHVybiBtYXAodGhpcy5SVUxFX1NUQUNLLCAoY3VyclNob3J0TmFtZSkgPT4gdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsTmFtZShjdXJyU2hvcnROYW1lKSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeShwcm9kRnVuYywgYXJncywgbG9va2FoZWFkRnVuYywgZHNsTWV0aG9kSWR4LCBwcm9kT2NjdXJyZW5jZSwgbmV4dFRva3NXYWxrZXIsIG5vdFN0dWNrKSB7XG4gICAgY29uc3Qga2V5ID0gdGhpcy5nZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQoZHNsTWV0aG9kSWR4LCBwcm9kT2NjdXJyZW5jZSk7XG4gICAgbGV0IGZpcnN0QWZ0ZXJSZXBJbmZvID0gdGhpcy5maXJzdEFmdGVyUmVwTWFwW2tleV07XG4gICAgaWYgKGZpcnN0QWZ0ZXJSZXBJbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgY3VyclJ1bGVOYW1lID0gdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKCk7XG4gICAgICAgIGNvbnN0IHJ1bGVHcmFtbWFyID0gdGhpcy5nZXRHQXN0UHJvZHVjdGlvbnMoKVtjdXJyUnVsZU5hbWVdO1xuICAgICAgICBjb25zdCB3YWxrZXIgPSBuZXcgbmV4dFRva3NXYWxrZXIocnVsZUdyYW1tYXIsIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgZmlyc3RBZnRlclJlcEluZm8gPSB3YWxrZXIuc3RhcnRXYWxraW5nKCk7XG4gICAgICAgIHRoaXMuZmlyc3RBZnRlclJlcE1hcFtrZXldID0gZmlyc3RBZnRlclJlcEluZm87XG4gICAgfVxuICAgIGxldCBleHBlY3RUb2tBZnRlckxhc3RNYXRjaCA9IGZpcnN0QWZ0ZXJSZXBJbmZvLnRva2VuO1xuICAgIGxldCBuZXh0VG9rSWR4ID0gZmlyc3RBZnRlclJlcEluZm8ub2NjdXJyZW5jZTtcbiAgICBjb25zdCBpc0VuZE9mUnVsZSA9IGZpcnN0QWZ0ZXJSZXBJbmZvLmlzRW5kT2ZSdWxlO1xuICAgIC8vIHNwZWNpYWwgZWRnZSBjYXNlIG9mIGEgVE9QIG1vc3QgcmVwZXRpdGlvbiBhZnRlciB3aGljaCB0aGUgaW5wdXQgc2hvdWxkIEVORC5cbiAgICAvLyB0aGlzIHdpbGwgZm9yY2UgYW4gYXR0ZW1wdCBmb3IgaW5SdWxlIHJlY292ZXJ5IGluIHRoYXQgc2NlbmFyaW8uXG4gICAgaWYgKHRoaXMuUlVMRV9TVEFDSy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgaXNFbmRPZlJ1bGUgJiZcbiAgICAgICAgZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBleHBlY3RUb2tBZnRlckxhc3RNYXRjaCA9IEVPRjtcbiAgICAgICAgbmV4dFRva0lkeCA9IDE7XG4gICAgfVxuICAgIC8vIFdlIGRvbid0IGhhdmUgYW55dGhpbmcgdG8gcmUtc3luYyB0by4uLlxuICAgIC8vIHRoaXMgY29uZGl0aW9uIHdhcyBleHRyYWN0ZWQgZnJvbSBgc2hvdWxkSW5SZXBldGl0aW9uUmVjb3ZlcnlCZVRyaWVkYCB0byBhY3QgYXMgYSB0eXBlLWd1YXJkXG4gICAgaWYgKGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoID09PSB1bmRlZmluZWQgfHwgbmV4dFRva0lkeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2hvdWxkSW5SZXBldGl0aW9uUmVjb3ZlcnlCZVRyaWVkKGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoLCBuZXh0VG9rSWR4LCBub3RTdHVjaykpIHtcbiAgICAgICAgLy8gVE9ETzogcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBpbnN0ZWFkIG9mIHBhc3NpbmcgdGhlIG9yaWdpbmFsIGFyZ3MgaGVyZSwgd2UgbW9kaWZ5XG4gICAgICAgIC8vIHRoZSBhcmdzIHBhcmFtIChvciBjcmVhdGUgYSBuZXcgb25lKSBhbmQgbWFrZSBzdXJlIHRoZSBsb29rYWhlYWQgZnVuYyBpcyBleHBsaWNpdGx5IHByb3ZpZGVkXG4gICAgICAgIC8vIHRvIGF2b2lkIHNlYXJjaGluZyB0aGUgY2FjaGUgZm9yIGl0IG9uY2UgbW9yZS5cbiAgICAgICAgdGhpcy50cnlJblJlcGV0aXRpb25SZWNvdmVyeShwcm9kRnVuYywgYXJncywgbG9va2FoZWFkRnVuYywgZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2gpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY292ZXJhYmxlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recoverable.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/tree_builder.js":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/tree_builder.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TreeBuilder: () => (/* binding */ TreeBuilder)\n/* harmony export */ });\n/* harmony import */ var _cst_cst_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../cst/cst.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/cst/cst.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/noop.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isUndefined.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/keys.js\");\n/* harmony import */ var _cst_cst_visitor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../cst/cst_visitor.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/cst/cst_visitor.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n\n\n\n\n/**\n * This trait is responsible for the CST building logic.\n */\nclass TreeBuilder {\n    initTreeBuilder(config) {\n        this.CST_STACK = [];\n        // outputCst is no longer exposed/defined in the pubic API\n        this.outputCst = config.outputCst;\n        this.nodeLocationTracking = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(config, \"nodeLocationTracking\")\n            ? config.nodeLocationTracking // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_PARSER_CONFIG.nodeLocationTracking;\n        if (!this.outputCst) {\n            this.cstInvocationStateUpdate = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n            this.cstFinallyStateUpdate = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n            this.cstPostTerminal = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n            this.cstPostNonTerminal = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n            this.cstPostRule = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n        }\n        else {\n            if (/full/i.test(this.nodeLocationTracking)) {\n                if (this.recoveryEnabled) {\n                    this.setNodeLocationFromToken = _cst_cst_js__WEBPACK_IMPORTED_MODULE_0__.setNodeLocationFull;\n                    this.setNodeLocationFromNode = _cst_cst_js__WEBPACK_IMPORTED_MODULE_0__.setNodeLocationFull;\n                    this.cstPostRule = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                    this.setInitialNodeLocation = this.setInitialNodeLocationFullRecovery;\n                }\n                else {\n                    this.setNodeLocationFromToken = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                    this.setNodeLocationFromNode = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                    this.cstPostRule = this.cstPostRuleFull;\n                    this.setInitialNodeLocation = this.setInitialNodeLocationFullRegular;\n                }\n            }\n            else if (/onlyOffset/i.test(this.nodeLocationTracking)) {\n                if (this.recoveryEnabled) {\n                    this.setNodeLocationFromToken = _cst_cst_js__WEBPACK_IMPORTED_MODULE_0__.setNodeLocationOnlyOffset;\n                    this.setNodeLocationFromNode = _cst_cst_js__WEBPACK_IMPORTED_MODULE_0__.setNodeLocationOnlyOffset;\n                    this.cstPostRule = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                    this.setInitialNodeLocation =\n                        this.setInitialNodeLocationOnlyOffsetRecovery;\n                }\n                else {\n                    this.setNodeLocationFromToken = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                    this.setNodeLocationFromNode = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                    this.cstPostRule = this.cstPostRuleOnlyOffset;\n                    this.setInitialNodeLocation =\n                        this.setInitialNodeLocationOnlyOffsetRegular;\n                }\n            }\n            else if (/none/i.test(this.nodeLocationTracking)) {\n                this.setNodeLocationFromToken = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                this.setNodeLocationFromNode = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                this.cstPostRule = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                this.setInitialNodeLocation = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n            }\n            else {\n                throw Error(`Invalid <nodeLocationTracking> config option: \"${config.nodeLocationTracking}\"`);\n            }\n        }\n    }\n    setInitialNodeLocationOnlyOffsetRecovery(cstNode) {\n        cstNode.location = {\n            startOffset: NaN,\n            endOffset: NaN,\n        };\n    }\n    setInitialNodeLocationOnlyOffsetRegular(cstNode) {\n        cstNode.location = {\n            // without error recovery the starting Location of a new CstNode is guaranteed\n            // To be the next Token's startOffset (for valid inputs).\n            // For invalid inputs there won't be any CSTOutput so this potential\n            // inaccuracy does not matter\n            startOffset: this.LA(1).startOffset,\n            endOffset: NaN,\n        };\n    }\n    setInitialNodeLocationFullRecovery(cstNode) {\n        cstNode.location = {\n            startOffset: NaN,\n            startLine: NaN,\n            startColumn: NaN,\n            endOffset: NaN,\n            endLine: NaN,\n            endColumn: NaN,\n        };\n    }\n    /**\n       *  @see setInitialNodeLocationOnlyOffsetRegular for explanation why this work\n  \n       * @param cstNode\n       */\n    setInitialNodeLocationFullRegular(cstNode) {\n        const nextToken = this.LA(1);\n        cstNode.location = {\n            startOffset: nextToken.startOffset,\n            startLine: nextToken.startLine,\n            startColumn: nextToken.startColumn,\n            endOffset: NaN,\n            endLine: NaN,\n            endColumn: NaN,\n        };\n    }\n    cstInvocationStateUpdate(fullRuleName) {\n        const cstNode = {\n            name: fullRuleName,\n            children: Object.create(null),\n        };\n        this.setInitialNodeLocation(cstNode);\n        this.CST_STACK.push(cstNode);\n    }\n    cstFinallyStateUpdate() {\n        this.CST_STACK.pop();\n    }\n    cstPostRuleFull(ruleCstNode) {\n        // casts to `required<CstNodeLocation>` are safe because `cstPostRuleFull` should only be invoked when full location is enabled\n        const prevToken = this.LA(0);\n        const loc = ruleCstNode.location;\n        // If this condition is true it means we consumed at least one Token\n        // In this CstNode.\n        if (loc.startOffset <= prevToken.startOffset === true) {\n            loc.endOffset = prevToken.endOffset;\n            loc.endLine = prevToken.endLine;\n            loc.endColumn = prevToken.endColumn;\n        }\n        // \"empty\" CstNode edge case\n        else {\n            loc.startOffset = NaN;\n            loc.startLine = NaN;\n            loc.startColumn = NaN;\n        }\n    }\n    cstPostRuleOnlyOffset(ruleCstNode) {\n        const prevToken = this.LA(0);\n        // `location' is not null because `cstPostRuleOnlyOffset` will only be invoked when location tracking is enabled.\n        const loc = ruleCstNode.location;\n        // If this condition is true it means we consumed at least one Token\n        // In this CstNode.\n        if (loc.startOffset <= prevToken.startOffset === true) {\n            loc.endOffset = prevToken.endOffset;\n        }\n        // \"empty\" CstNode edge case\n        else {\n            loc.startOffset = NaN;\n        }\n    }\n    cstPostTerminal(key, consumedToken) {\n        const rootCst = this.CST_STACK[this.CST_STACK.length - 1];\n        (0,_cst_cst_js__WEBPACK_IMPORTED_MODULE_0__.addTerminalToCst)(rootCst, consumedToken, key);\n        // This is only used when **both** error recovery and CST Output are enabled.\n        this.setNodeLocationFromToken(rootCst.location, consumedToken);\n    }\n    cstPostNonTerminal(ruleCstResult, ruleName) {\n        const preCstNode = this.CST_STACK[this.CST_STACK.length - 1];\n        (0,_cst_cst_js__WEBPACK_IMPORTED_MODULE_0__.addNoneTerminalToCst)(preCstNode, ruleName, ruleCstResult);\n        // This is only used when **both** error recovery and CST Output are enabled.\n        this.setNodeLocationFromNode(preCstNode.location, ruleCstResult.location);\n    }\n    getBaseCstVisitorConstructor() {\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.baseCstVisitorConstructor)) {\n            const newBaseCstVisitorConstructor = (0,_cst_cst_visitor_js__WEBPACK_IMPORTED_MODULE_1__.createBaseSemanticVisitorConstructor)(this.className, (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this.gastProductionsCache));\n            this.baseCstVisitorConstructor = newBaseCstVisitorConstructor;\n            return newBaseCstVisitorConstructor;\n        }\n        return this.baseCstVisitorConstructor;\n    }\n    getBaseCstVisitorConstructorWithDefaults() {\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.baseCstVisitorWithDefaultsConstructor)) {\n            const newConstructor = (0,_cst_cst_visitor_js__WEBPACK_IMPORTED_MODULE_1__.createBaseVisitorConstructorWithDefaults)(this.className, (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this.gastProductionsCache), this.getBaseCstVisitorConstructor());\n            this.baseCstVisitorWithDefaultsConstructor = newConstructor;\n            return newConstructor;\n        }\n        return this.baseCstVisitorWithDefaultsConstructor;\n    }\n    getLastExplicitRuleShortName() {\n        const ruleStack = this.RULE_STACK;\n        return ruleStack[ruleStack.length - 1];\n    }\n    getPreviousExplicitRuleShortName() {\n        const ruleStack = this.RULE_STACK;\n        return ruleStack[ruleStack.length - 2];\n    }\n    getLastExplicitRuleOccurrenceIndex() {\n        const occurrenceStack = this.RULE_OCCURRENCE_STACK;\n        return occurrenceStack[occurrenceStack.length - 1];\n    }\n}\n//# sourceMappingURL=tree_builder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy90cmVlX2J1aWxkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMkg7QUFDbEU7QUFDa0U7QUFDdEU7QUFDckQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxxREFBRztBQUN2QztBQUNBLGNBQWMsNkRBQXFCO0FBQ25DO0FBQ0EsNENBQTRDLGlEQUFJO0FBQ2hELHlDQUF5QyxpREFBSTtBQUM3QyxtQ0FBbUMsaURBQUk7QUFDdkMsc0NBQXNDLGlEQUFJO0FBQzFDLCtCQUErQixpREFBSTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCw0REFBbUI7QUFDdkUsbURBQW1ELDREQUFtQjtBQUN0RSx1Q0FBdUMsaURBQUk7QUFDM0M7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGlEQUFJO0FBQ3hELG1EQUFtRCxpREFBSTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsa0VBQXlCO0FBQzdFLG1EQUFtRCxrRUFBeUI7QUFDNUUsdUNBQXVDLGlEQUFJO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGlEQUFJO0FBQ3hELG1EQUFtRCxpREFBSTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsaURBQUk7QUFDcEQsK0NBQStDLGlEQUFJO0FBQ25ELG1DQUFtQyxpREFBSTtBQUN2Qyw4Q0FBOEMsaURBQUk7QUFDbEQ7QUFDQTtBQUNBLDhFQUE4RSw0QkFBNEI7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2REFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQW9CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBVztBQUN2QixpREFBaUQseUZBQW9DLGlCQUFpQixxREFBSTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFXO0FBQ3ZCLG1DQUFtQyw2RkFBd0MsaUJBQWlCLHFEQUFJO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZXRoYW5raW0vTmVzdG9yL21lZGZldGNoLmpzL25vZGVfbW9kdWxlcy8ucG5wbS9jaGV2cm90YWluQDExLjAuMy9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvdHJlZV9idWlsZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZE5vbmVUZXJtaW5hbFRvQ3N0LCBhZGRUZXJtaW5hbFRvQ3N0LCBzZXROb2RlTG9jYXRpb25GdWxsLCBzZXROb2RlTG9jYXRpb25Pbmx5T2Zmc2V0LCB9IGZyb20gXCIuLi8uLi9jc3QvY3N0LmpzXCI7XG5pbXBvcnQgeyBoYXMsIGlzVW5kZWZpbmVkLCBrZXlzLCBub29wIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgY3JlYXRlQmFzZVNlbWFudGljVmlzaXRvckNvbnN0cnVjdG9yLCBjcmVhdGVCYXNlVmlzaXRvckNvbnN0cnVjdG9yV2l0aERlZmF1bHRzLCB9IGZyb20gXCIuLi8uLi9jc3QvY3N0X3Zpc2l0b3IuanNcIjtcbmltcG9ydCB7IERFRkFVTFRfUEFSU0VSX0NPTkZJRyB9IGZyb20gXCIuLi9wYXJzZXIuanNcIjtcbi8qKlxuICogVGhpcyB0cmFpdCBpcyByZXNwb25zaWJsZSBmb3IgdGhlIENTVCBidWlsZGluZyBsb2dpYy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRyZWVCdWlsZGVyIHtcbiAgICBpbml0VHJlZUJ1aWxkZXIoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuQ1NUX1NUQUNLID0gW107XG4gICAgICAgIC8vIG91dHB1dENzdCBpcyBubyBsb25nZXIgZXhwb3NlZC9kZWZpbmVkIGluIHRoZSBwdWJpYyBBUElcbiAgICAgICAgdGhpcy5vdXRwdXRDc3QgPSBjb25maWcub3V0cHV0Q3N0O1xuICAgICAgICB0aGlzLm5vZGVMb2NhdGlvblRyYWNraW5nID0gaGFzKGNvbmZpZywgXCJub2RlTG9jYXRpb25UcmFja2luZ1wiKVxuICAgICAgICAgICAgPyBjb25maWcubm9kZUxvY2F0aW9uVHJhY2tpbmcgLy8gYXNzdW1lcyBlbmQgdXNlciBwcm92aWRlcyB0aGUgY29ycmVjdCBjb25maWcgdmFsdWUvdHlwZVxuICAgICAgICAgICAgOiBERUZBVUxUX1BBUlNFUl9DT05GSUcubm9kZUxvY2F0aW9uVHJhY2tpbmc7XG4gICAgICAgIGlmICghdGhpcy5vdXRwdXRDc3QpIHtcbiAgICAgICAgICAgIHRoaXMuY3N0SW52b2NhdGlvblN0YXRlVXBkYXRlID0gbm9vcDtcbiAgICAgICAgICAgIHRoaXMuY3N0RmluYWxseVN0YXRlVXBkYXRlID0gbm9vcDtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdFRlcm1pbmFsID0gbm9vcDtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdE5vblRlcm1pbmFsID0gbm9vcDtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdFJ1bGUgPSBub29wO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKC9mdWxsL2kudGVzdCh0aGlzLm5vZGVMb2NhdGlvblRyYWNraW5nKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY292ZXJ5RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbiA9IHNldE5vZGVMb2NhdGlvbkZ1bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUgPSBzZXROb2RlTG9jYXRpb25GdWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNzdFBvc3RSdWxlID0gbm9vcDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uID0gdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uRnVsbFJlY292ZXJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tVG9rZW4gPSBub29wO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ob2RlID0gbm9vcDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZSA9IHRoaXMuY3N0UG9zdFJ1bGVGdWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb24gPSB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb25GdWxsUmVndWxhcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgvb25seU9mZnNldC9pLnRlc3QodGhpcy5ub2RlTG9jYXRpb25UcmFja2luZykpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWNvdmVyeUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tVG9rZW4gPSBzZXROb2RlTG9jYXRpb25Pbmx5T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ob2RlID0gc2V0Tm9kZUxvY2F0aW9uT25seU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZSA9IG5vb3A7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVjb3Zlcnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbiA9IG5vb3A7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUgPSBub29wO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNzdFBvc3RSdWxlID0gdGhpcy5jc3RQb3N0UnVsZU9ubHlPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVndWxhcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgvbm9uZS9pLnRlc3QodGhpcy5ub2RlTG9jYXRpb25UcmFja2luZykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbiA9IG5vb3A7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tTm9kZSA9IG5vb3A7XG4gICAgICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZSA9IG5vb3A7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uID0gbm9vcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIDxub2RlTG9jYXRpb25UcmFja2luZz4gY29uZmlnIG9wdGlvbjogXCIke2NvbmZpZy5ub2RlTG9jYXRpb25UcmFja2luZ31cImApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVjb3ZlcnkoY3N0Tm9kZSkge1xuICAgICAgICBjc3ROb2RlLmxvY2F0aW9uID0ge1xuICAgICAgICAgICAgc3RhcnRPZmZzZXQ6IE5hTixcbiAgICAgICAgICAgIGVuZE9mZnNldDogTmFOLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzZXRJbml0aWFsTm9kZUxvY2F0aW9uT25seU9mZnNldFJlZ3VsYXIoY3N0Tm9kZSkge1xuICAgICAgICBjc3ROb2RlLmxvY2F0aW9uID0ge1xuICAgICAgICAgICAgLy8gd2l0aG91dCBlcnJvciByZWNvdmVyeSB0aGUgc3RhcnRpbmcgTG9jYXRpb24gb2YgYSBuZXcgQ3N0Tm9kZSBpcyBndWFyYW50ZWVkXG4gICAgICAgICAgICAvLyBUbyBiZSB0aGUgbmV4dCBUb2tlbidzIHN0YXJ0T2Zmc2V0IChmb3IgdmFsaWQgaW5wdXRzKS5cbiAgICAgICAgICAgIC8vIEZvciBpbnZhbGlkIGlucHV0cyB0aGVyZSB3b24ndCBiZSBhbnkgQ1NUT3V0cHV0IHNvIHRoaXMgcG90ZW50aWFsXG4gICAgICAgICAgICAvLyBpbmFjY3VyYWN5IGRvZXMgbm90IG1hdHRlclxuICAgICAgICAgICAgc3RhcnRPZmZzZXQ6IHRoaXMuTEEoMSkuc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICBlbmRPZmZzZXQ6IE5hTixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc2V0SW5pdGlhbE5vZGVMb2NhdGlvbkZ1bGxSZWNvdmVyeShjc3ROb2RlKSB7XG4gICAgICAgIGNzdE5vZGUubG9jYXRpb24gPSB7XG4gICAgICAgICAgICBzdGFydE9mZnNldDogTmFOLFxuICAgICAgICAgICAgc3RhcnRMaW5lOiBOYU4sXG4gICAgICAgICAgICBzdGFydENvbHVtbjogTmFOLFxuICAgICAgICAgICAgZW5kT2Zmc2V0OiBOYU4sXG4gICAgICAgICAgICBlbmRMaW5lOiBOYU4sXG4gICAgICAgICAgICBlbmRDb2x1bW46IE5hTixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICAgKiAgQHNlZSBzZXRJbml0aWFsTm9kZUxvY2F0aW9uT25seU9mZnNldFJlZ3VsYXIgZm9yIGV4cGxhbmF0aW9uIHdoeSB0aGlzIHdvcmtcbiAgXG4gICAgICAgKiBAcGFyYW0gY3N0Tm9kZVxuICAgICAgICovXG4gICAgc2V0SW5pdGlhbE5vZGVMb2NhdGlvbkZ1bGxSZWd1bGFyKGNzdE5vZGUpIHtcbiAgICAgICAgY29uc3QgbmV4dFRva2VuID0gdGhpcy5MQSgxKTtcbiAgICAgICAgY3N0Tm9kZS5sb2NhdGlvbiA9IHtcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0OiBuZXh0VG9rZW4uc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICBzdGFydExpbmU6IG5leHRUb2tlbi5zdGFydExpbmUsXG4gICAgICAgICAgICBzdGFydENvbHVtbjogbmV4dFRva2VuLnN0YXJ0Q29sdW1uLFxuICAgICAgICAgICAgZW5kT2Zmc2V0OiBOYU4sXG4gICAgICAgICAgICBlbmRMaW5lOiBOYU4sXG4gICAgICAgICAgICBlbmRDb2x1bW46IE5hTixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY3N0SW52b2NhdGlvblN0YXRlVXBkYXRlKGZ1bGxSdWxlTmFtZSkge1xuICAgICAgICBjb25zdCBjc3ROb2RlID0ge1xuICAgICAgICAgICAgbmFtZTogZnVsbFJ1bGVOYW1lLFxuICAgICAgICAgICAgY2hpbGRyZW46IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbihjc3ROb2RlKTtcbiAgICAgICAgdGhpcy5DU1RfU1RBQ0sucHVzaChjc3ROb2RlKTtcbiAgICB9XG4gICAgY3N0RmluYWxseVN0YXRlVXBkYXRlKCkge1xuICAgICAgICB0aGlzLkNTVF9TVEFDSy5wb3AoKTtcbiAgICB9XG4gICAgY3N0UG9zdFJ1bGVGdWxsKHJ1bGVDc3ROb2RlKSB7XG4gICAgICAgIC8vIGNhc3RzIHRvIGByZXF1aXJlZDxDc3ROb2RlTG9jYXRpb24+YCBhcmUgc2FmZSBiZWNhdXNlIGBjc3RQb3N0UnVsZUZ1bGxgIHNob3VsZCBvbmx5IGJlIGludm9rZWQgd2hlbiBmdWxsIGxvY2F0aW9uIGlzIGVuYWJsZWRcbiAgICAgICAgY29uc3QgcHJldlRva2VuID0gdGhpcy5MQSgwKTtcbiAgICAgICAgY29uc3QgbG9jID0gcnVsZUNzdE5vZGUubG9jYXRpb247XG4gICAgICAgIC8vIElmIHRoaXMgY29uZGl0aW9uIGlzIHRydWUgaXQgbWVhbnMgd2UgY29uc3VtZWQgYXQgbGVhc3Qgb25lIFRva2VuXG4gICAgICAgIC8vIEluIHRoaXMgQ3N0Tm9kZS5cbiAgICAgICAgaWYgKGxvYy5zdGFydE9mZnNldCA8PSBwcmV2VG9rZW4uc3RhcnRPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGxvYy5lbmRPZmZzZXQgPSBwcmV2VG9rZW4uZW5kT2Zmc2V0O1xuICAgICAgICAgICAgbG9jLmVuZExpbmUgPSBwcmV2VG9rZW4uZW5kTGluZTtcbiAgICAgICAgICAgIGxvYy5lbmRDb2x1bW4gPSBwcmV2VG9rZW4uZW5kQ29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIC8vIFwiZW1wdHlcIiBDc3ROb2RlIGVkZ2UgY2FzZVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvYy5zdGFydE9mZnNldCA9IE5hTjtcbiAgICAgICAgICAgIGxvYy5zdGFydExpbmUgPSBOYU47XG4gICAgICAgICAgICBsb2Muc3RhcnRDb2x1bW4gPSBOYU47XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3N0UG9zdFJ1bGVPbmx5T2Zmc2V0KHJ1bGVDc3ROb2RlKSB7XG4gICAgICAgIGNvbnN0IHByZXZUb2tlbiA9IHRoaXMuTEEoMCk7XG4gICAgICAgIC8vIGBsb2NhdGlvbicgaXMgbm90IG51bGwgYmVjYXVzZSBgY3N0UG9zdFJ1bGVPbmx5T2Zmc2V0YCB3aWxsIG9ubHkgYmUgaW52b2tlZCB3aGVuIGxvY2F0aW9uIHRyYWNraW5nIGlzIGVuYWJsZWQuXG4gICAgICAgIGNvbnN0IGxvYyA9IHJ1bGVDc3ROb2RlLmxvY2F0aW9uO1xuICAgICAgICAvLyBJZiB0aGlzIGNvbmRpdGlvbiBpcyB0cnVlIGl0IG1lYW5zIHdlIGNvbnN1bWVkIGF0IGxlYXN0IG9uZSBUb2tlblxuICAgICAgICAvLyBJbiB0aGlzIENzdE5vZGUuXG4gICAgICAgIGlmIChsb2Muc3RhcnRPZmZzZXQgPD0gcHJldlRva2VuLnN0YXJ0T2Zmc2V0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBsb2MuZW5kT2Zmc2V0ID0gcHJldlRva2VuLmVuZE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICAvLyBcImVtcHR5XCIgQ3N0Tm9kZSBlZGdlIGNhc2VcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2Muc3RhcnRPZmZzZXQgPSBOYU47XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3N0UG9zdFRlcm1pbmFsKGtleSwgY29uc3VtZWRUb2tlbikge1xuICAgICAgICBjb25zdCByb290Q3N0ID0gdGhpcy5DU1RfU1RBQ0tbdGhpcy5DU1RfU1RBQ0subGVuZ3RoIC0gMV07XG4gICAgICAgIGFkZFRlcm1pbmFsVG9Dc3Qocm9vdENzdCwgY29uc3VtZWRUb2tlbiwga2V5KTtcbiAgICAgICAgLy8gVGhpcyBpcyBvbmx5IHVzZWQgd2hlbiAqKmJvdGgqKiBlcnJvciByZWNvdmVyeSBhbmQgQ1NUIE91dHB1dCBhcmUgZW5hYmxlZC5cbiAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tVG9rZW4ocm9vdENzdC5sb2NhdGlvbiwgY29uc3VtZWRUb2tlbik7XG4gICAgfVxuICAgIGNzdFBvc3ROb25UZXJtaW5hbChydWxlQ3N0UmVzdWx0LCBydWxlTmFtZSkge1xuICAgICAgICBjb25zdCBwcmVDc3ROb2RlID0gdGhpcy5DU1RfU1RBQ0tbdGhpcy5DU1RfU1RBQ0subGVuZ3RoIC0gMV07XG4gICAgICAgIGFkZE5vbmVUZXJtaW5hbFRvQ3N0KHByZUNzdE5vZGUsIHJ1bGVOYW1lLCBydWxlQ3N0UmVzdWx0KTtcbiAgICAgICAgLy8gVGhpcyBpcyBvbmx5IHVzZWQgd2hlbiAqKmJvdGgqKiBlcnJvciByZWNvdmVyeSBhbmQgQ1NUIE91dHB1dCBhcmUgZW5hYmxlZC5cbiAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tTm9kZShwcmVDc3ROb2RlLmxvY2F0aW9uLCBydWxlQ3N0UmVzdWx0LmxvY2F0aW9uKTtcbiAgICB9XG4gICAgZ2V0QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHRoaXMuYmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0Jhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IgPSBjcmVhdGVCYXNlU2VtYW50aWNWaXNpdG9yQ29uc3RydWN0b3IodGhpcy5jbGFzc05hbWUsIGtleXModGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSkpO1xuICAgICAgICAgICAgdGhpcy5iYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yID0gbmV3QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIHJldHVybiBuZXdCYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3I7XG4gICAgfVxuICAgIGdldEJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3JXaXRoRGVmYXVsdHMoKSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh0aGlzLmJhc2VDc3RWaXNpdG9yV2l0aERlZmF1bHRzQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdDb25zdHJ1Y3RvciA9IGNyZWF0ZUJhc2VWaXNpdG9yQ29uc3RydWN0b3JXaXRoRGVmYXVsdHModGhpcy5jbGFzc05hbWUsIGtleXModGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSksIHRoaXMuZ2V0QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcigpKTtcbiAgICAgICAgICAgIHRoaXMuYmFzZUNzdFZpc2l0b3JXaXRoRGVmYXVsdHNDb25zdHJ1Y3RvciA9IG5ld0NvbnN0cnVjdG9yO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0NvbnN0cnVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VDc3RWaXNpdG9yV2l0aERlZmF1bHRzQ29uc3RydWN0b3I7XG4gICAgfVxuICAgIGdldExhc3RFeHBsaWNpdFJ1bGVTaG9ydE5hbWUoKSB7XG4gICAgICAgIGNvbnN0IHJ1bGVTdGFjayA9IHRoaXMuUlVMRV9TVEFDSztcbiAgICAgICAgcmV0dXJuIHJ1bGVTdGFja1tydWxlU3RhY2subGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIGdldFByZXZpb3VzRXhwbGljaXRSdWxlU2hvcnROYW1lKCkge1xuICAgICAgICBjb25zdCBydWxlU3RhY2sgPSB0aGlzLlJVTEVfU1RBQ0s7XG4gICAgICAgIHJldHVybiBydWxlU3RhY2tbcnVsZVN0YWNrLmxlbmd0aCAtIDJdO1xuICAgIH1cbiAgICBnZXRMYXN0RXhwbGljaXRSdWxlT2NjdXJyZW5jZUluZGV4KCkge1xuICAgICAgICBjb25zdCBvY2N1cnJlbmNlU3RhY2sgPSB0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSztcbiAgICAgICAgcmV0dXJuIG9jY3VycmVuY2VTdGFja1tvY2N1cnJlbmNlU3RhY2subGVuZ3RoIC0gMV07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJlZV9idWlsZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/tree_builder.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/utils/apply_mixins.js":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/utils/apply_mixins.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyMixins: () => (/* binding */ applyMixins)\n/* harmony export */ });\nfunction applyMixins(derivedCtor, baseCtors) {\n    baseCtors.forEach((baseCtor) => {\n        const baseProto = baseCtor.prototype;\n        Object.getOwnPropertyNames(baseProto).forEach((propName) => {\n            if (propName === \"constructor\") {\n                return;\n            }\n            const basePropDescriptor = Object.getOwnPropertyDescriptor(baseProto, propName);\n            // Handle Accessors\n            if (basePropDescriptor &&\n                (basePropDescriptor.get || basePropDescriptor.set)) {\n                Object.defineProperty(derivedCtor.prototype, propName, basePropDescriptor);\n            }\n            else {\n                derivedCtor.prototype[propName] = baseCtor.prototype[propName];\n            }\n        });\n    });\n}\n//# sourceMappingURL=apply_mixins.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3V0aWxzL2FwcGx5X21peGlucy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3V0aWxzL2FwcGx5X21peGlucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gYXBwbHlNaXhpbnMoZGVyaXZlZEN0b3IsIGJhc2VDdG9ycykge1xuICAgIGJhc2VDdG9ycy5mb3JFYWNoKChiYXNlQ3RvcikgPT4ge1xuICAgICAgICBjb25zdCBiYXNlUHJvdG8gPSBiYXNlQ3Rvci5wcm90b3R5cGU7XG4gICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGJhc2VQcm90bykuZm9yRWFjaCgocHJvcE5hbWUpID0+IHtcbiAgICAgICAgICAgIGlmIChwcm9wTmFtZSA9PT0gXCJjb25zdHJ1Y3RvclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYmFzZVByb3BEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlUHJvdG8sIHByb3BOYW1lKTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBBY2Nlc3NvcnNcbiAgICAgICAgICAgIGlmIChiYXNlUHJvcERlc2NyaXB0b3IgJiZcbiAgICAgICAgICAgICAgICAoYmFzZVByb3BEZXNjcmlwdG9yLmdldCB8fCBiYXNlUHJvcERlc2NyaXB0b3Iuc2V0KSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZXJpdmVkQ3Rvci5wcm90b3R5cGUsIHByb3BOYW1lLCBiYXNlUHJvcERlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVyaXZlZEN0b3IucHJvdG90eXBlW3Byb3BOYW1lXSA9IGJhc2VDdG9yLnByb3RvdHlwZVtwcm9wTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwbHlfbWl4aW5zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/utils/apply_mixins.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer.js":
/*!*********************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_MODE: () => (/* binding */ DEFAULT_MODE),\n/* harmony export */   LineTerminatorOptimizedTester: () => (/* binding */ LineTerminatorOptimizedTester),\n/* harmony export */   MODES: () => (/* binding */ MODES),\n/* harmony export */   SUPPORT_STICKY: () => (/* binding */ SUPPORT_STICKY),\n/* harmony export */   addStartOfInput: () => (/* binding */ addStartOfInput),\n/* harmony export */   addStickyFlag: () => (/* binding */ addStickyFlag),\n/* harmony export */   analyzeTokenTypes: () => (/* binding */ analyzeTokenTypes),\n/* harmony export */   buildLineBreakIssueMessage: () => (/* binding */ buildLineBreakIssueMessage),\n/* harmony export */   charCodeToOptimizedIndex: () => (/* binding */ charCodeToOptimizedIndex),\n/* harmony export */   cloneEmptyGroups: () => (/* binding */ cloneEmptyGroups),\n/* harmony export */   disableSticky: () => (/* binding */ disableSticky),\n/* harmony export */   enableSticky: () => (/* binding */ enableSticky),\n/* harmony export */   findDuplicatePatterns: () => (/* binding */ findDuplicatePatterns),\n/* harmony export */   findEmptyMatchRegExps: () => (/* binding */ findEmptyMatchRegExps),\n/* harmony export */   findEndOfInputAnchor: () => (/* binding */ findEndOfInputAnchor),\n/* harmony export */   findInvalidGroupType: () => (/* binding */ findInvalidGroupType),\n/* harmony export */   findInvalidPatterns: () => (/* binding */ findInvalidPatterns),\n/* harmony export */   findMissingPatterns: () => (/* binding */ findMissingPatterns),\n/* harmony export */   findModesThatDoNotExist: () => (/* binding */ findModesThatDoNotExist),\n/* harmony export */   findStartOfInputAnchor: () => (/* binding */ findStartOfInputAnchor),\n/* harmony export */   findUnreachablePatterns: () => (/* binding */ findUnreachablePatterns),\n/* harmony export */   findUnsupportedFlags: () => (/* binding */ findUnsupportedFlags),\n/* harmony export */   isCustomPattern: () => (/* binding */ isCustomPattern),\n/* harmony export */   isShortPattern: () => (/* binding */ isShortPattern),\n/* harmony export */   minOptimizationVal: () => (/* binding */ minOptimizationVal),\n/* harmony export */   performRuntimeChecks: () => (/* binding */ performRuntimeChecks),\n/* harmony export */   performWarningRuntimeChecks: () => (/* binding */ performWarningRuntimeChecks),\n/* harmony export */   validatePatterns: () => (/* binding */ validatePatterns)\n/* harmony export */ });\n/* harmony import */ var _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/regexp-to-ast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+regexp-to-ast@11.0.3/node_modules/@chevrotain/regexp-to-ast/lib/src/api.js\");\n/* harmony import */ var _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lexer_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_public.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/defaults.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/reject.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isRegExp.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/includes.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isFunction.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isString.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isUndefined.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/indexOf.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/reduce.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/filter.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/difference.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/compact.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/head.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/find.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/flatten.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/values.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/keys.js\");\n/* harmony import */ var _chevrotain_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chevrotain/utils */ \"(ssr)/../node_modules/.pnpm/@chevrotain+utils@11.0.3/node_modules/@chevrotain/utils/lib/src/api.js\");\n/* harmony import */ var _reg_exp_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reg_exp.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/reg_exp.js\");\n/* harmony import */ var _reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./reg_exp_parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/reg_exp_parser.js\");\n\n\n\n\n\n\nconst PATTERN = \"PATTERN\";\nconst DEFAULT_MODE = \"defaultMode\";\nconst MODES = \"modes\";\nlet SUPPORT_STICKY = typeof new RegExp(\"(?:)\").sticky === \"boolean\";\nfunction disableSticky() {\n    SUPPORT_STICKY = false;\n}\nfunction enableSticky() {\n    SUPPORT_STICKY = true;\n}\nfunction analyzeTokenTypes(tokenTypes, options) {\n    options = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(options, {\n        useSticky: SUPPORT_STICKY,\n        debug: false,\n        safeMode: false,\n        positionTracking: \"full\",\n        lineTerminatorCharacters: [\"\\r\", \"\\n\"],\n        tracer: (msg, action) => action(),\n    });\n    const tracer = options.tracer;\n    tracer(\"initCharCodeToOptimizedIndexMap\", () => {\n        initCharCodeToOptimizedIndexMap();\n    });\n    let onlyRelevantTypes;\n    tracer(\"Reject Lexer.NA\", () => {\n        onlyRelevantTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(tokenTypes, (currType) => {\n            return currType[PATTERN] === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.NA;\n        });\n    });\n    let hasCustom = false;\n    let allTransformedPatterns;\n    tracer(\"Transform Patterns\", () => {\n        hasCustom = false;\n        allTransformedPatterns = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (currType) => {\n            const currPattern = currType[PATTERN];\n            /* istanbul ignore else */\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currPattern)) {\n                const regExpSource = currPattern.source;\n                if (regExpSource.length === 1 &&\n                    // only these regExp meta characters which can appear in a length one regExp\n                    regExpSource !== \"^\" &&\n                    regExpSource !== \"$\" &&\n                    regExpSource !== \".\" &&\n                    !currPattern.ignoreCase) {\n                    return regExpSource;\n                }\n                else if (regExpSource.length === 2 &&\n                    regExpSource[0] === \"\\\\\" &&\n                    // not a meta character\n                    !(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])([\n                        \"d\",\n                        \"D\",\n                        \"s\",\n                        \"S\",\n                        \"t\",\n                        \"r\",\n                        \"n\",\n                        \"t\",\n                        \"0\",\n                        \"c\",\n                        \"b\",\n                        \"B\",\n                        \"f\",\n                        \"v\",\n                        \"w\",\n                        \"W\",\n                    ], regExpSource[1])) {\n                    // escaped meta Characters: /\\+/ /\\[/\n                    // or redundant escaping: /\\a/\n                    // without the escaping \"\\\"\n                    return regExpSource[1];\n                }\n                else {\n                    return options.useSticky\n                        ? addStickyFlag(currPattern)\n                        : addStartOfInput(currPattern);\n                }\n            }\n            else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currPattern)) {\n                hasCustom = true;\n                // CustomPatternMatcherFunc - custom patterns do not require any transformations, only wrapping in a RegExp Like object\n                return { exec: currPattern };\n            }\n            else if (typeof currPattern === \"object\") {\n                hasCustom = true;\n                // ICustomPattern\n                return currPattern;\n            }\n            else if (typeof currPattern === \"string\") {\n                if (currPattern.length === 1) {\n                    return currPattern;\n                }\n                else {\n                    const escapedRegExpString = currPattern.replace(/[\\\\^$.*+?()[\\]{}|]/g, \"\\\\$&\");\n                    const wrappedRegExp = new RegExp(escapedRegExpString);\n                    return options.useSticky\n                        ? addStickyFlag(wrappedRegExp)\n                        : addStartOfInput(wrappedRegExp);\n                }\n            }\n            else {\n                throw Error(\"non exhaustive match\");\n            }\n        });\n    });\n    let patternIdxToType;\n    let patternIdxToGroup;\n    let patternIdxToLongerAltIdxArr;\n    let patternIdxToPushMode;\n    let patternIdxToPopMode;\n    tracer(\"misc mapping\", () => {\n        patternIdxToType = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (currType) => currType.tokenTypeIdx);\n        patternIdxToGroup = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (clazz) => {\n            const groupName = clazz.GROUP;\n            /* istanbul ignore next */\n            if (groupName === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.SKIPPED) {\n                return undefined;\n            }\n            else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(groupName)) {\n                return groupName;\n            }\n            else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(groupName)) {\n                return false;\n            }\n            else {\n                throw Error(\"non exhaustive match\");\n            }\n        });\n        patternIdxToLongerAltIdxArr = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (clazz) => {\n            const longerAltType = clazz.LONGER_ALT;\n            if (longerAltType) {\n                const longerAltIdxArr = (0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(longerAltType)\n                    ? (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(longerAltType, (type) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(onlyRelevantTypes, type))\n                    : [(0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(onlyRelevantTypes, longerAltType)];\n                return longerAltIdxArr;\n            }\n        });\n        patternIdxToPushMode = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (clazz) => clazz.PUSH_MODE);\n        patternIdxToPopMode = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (clazz) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(clazz, \"POP_MODE\"));\n    });\n    let patternIdxToCanLineTerminator;\n    tracer(\"Line Terminator Handling\", () => {\n        const lineTerminatorCharCodes = getCharCodes(options.lineTerminatorCharacters);\n        patternIdxToCanLineTerminator = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (tokType) => false);\n        if (options.positionTracking !== \"onlyOffset\") {\n            patternIdxToCanLineTerminator = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (tokType) => {\n                if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(tokType, \"LINE_BREAKS\")) {\n                    return !!tokType.LINE_BREAKS;\n                }\n                else {\n                    return (checkLineBreaksIssues(tokType, lineTerminatorCharCodes) === false &&\n                        (0,_reg_exp_js__WEBPACK_IMPORTED_MODULE_3__.canMatchCharCode)(lineTerminatorCharCodes, tokType.PATTERN));\n                }\n            });\n        }\n    });\n    let patternIdxToIsCustom;\n    let patternIdxToShort;\n    let emptyGroups;\n    let patternIdxToConfig;\n    tracer(\"Misc Mapping #2\", () => {\n        patternIdxToIsCustom = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, isCustomPattern);\n        patternIdxToShort = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(allTransformedPatterns, isShortPattern);\n        emptyGroups = (0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(onlyRelevantTypes, (acc, clazz) => {\n            const groupName = clazz.GROUP;\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(groupName) && !(groupName === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.SKIPPED)) {\n                acc[groupName] = [];\n            }\n            return acc;\n        }, {});\n        patternIdxToConfig = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(allTransformedPatterns, (x, idx) => {\n            return {\n                pattern: allTransformedPatterns[idx],\n                longerAlt: patternIdxToLongerAltIdxArr[idx],\n                canLineTerminator: patternIdxToCanLineTerminator[idx],\n                isCustom: patternIdxToIsCustom[idx],\n                short: patternIdxToShort[idx],\n                group: patternIdxToGroup[idx],\n                push: patternIdxToPushMode[idx],\n                pop: patternIdxToPopMode[idx],\n                tokenTypeIdx: patternIdxToType[idx],\n                tokenType: onlyRelevantTypes[idx],\n            };\n        });\n    });\n    let canBeOptimized = true;\n    let charCodeToPatternIdxToConfig = [];\n    if (!options.safeMode) {\n        tracer(\"First Char Optimization\", () => {\n            charCodeToPatternIdxToConfig = (0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(onlyRelevantTypes, (result, currTokType, idx) => {\n                if (typeof currTokType.PATTERN === \"string\") {\n                    const charCode = currTokType.PATTERN.charCodeAt(0);\n                    const optimizedIdx = charCodeToOptimizedIndex(charCode);\n                    addToMapOfArrays(result, optimizedIdx, patternIdxToConfig[idx]);\n                }\n                else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(currTokType.START_CHARS_HINT)) {\n                    let lastOptimizedIdx;\n                    (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(currTokType.START_CHARS_HINT, (charOrInt) => {\n                        const charCode = typeof charOrInt === \"string\"\n                            ? charOrInt.charCodeAt(0)\n                            : charOrInt;\n                        const currOptimizedIdx = charCodeToOptimizedIndex(charCode);\n                        // Avoid adding the config multiple times\n                        /* istanbul ignore else */\n                        // - Difficult to check this scenario effects as it is only a performance\n                        //   optimization that does not change correctness\n                        if (lastOptimizedIdx !== currOptimizedIdx) {\n                            lastOptimizedIdx = currOptimizedIdx;\n                            addToMapOfArrays(result, currOptimizedIdx, patternIdxToConfig[idx]);\n                        }\n                    });\n                }\n                else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currTokType.PATTERN)) {\n                    if (currTokType.PATTERN.unicode) {\n                        canBeOptimized = false;\n                        if (options.ensureOptimizations) {\n                            (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_2__.PRINT_ERROR)(`${_reg_exp_js__WEBPACK_IMPORTED_MODULE_3__.failedOptimizationPrefixMsg}` +\n                                `\\tUnable to analyze < ${currTokType.PATTERN.toString()} > pattern.\\n` +\n                                \"\\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\\n\" +\n                                \"\\tThis will disable the lexer's first char optimizations.\\n\" +\n                                \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE\");\n                        }\n                    }\n                    else {\n                        const optimizedCodes = (0,_reg_exp_js__WEBPACK_IMPORTED_MODULE_3__.getOptimizedStartCodesIndices)(currTokType.PATTERN, options.ensureOptimizations);\n                        /* istanbul ignore if */\n                        // start code will only be empty given an empty regExp or failure of regexp-to-ast library\n                        // the first should be a different validation and the second cannot be tested.\n                        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(optimizedCodes)) {\n                            // we cannot understand what codes may start possible matches\n                            // The optimization correctness requires knowing start codes for ALL patterns.\n                            // Not actually sure this is an error, no debug message\n                            canBeOptimized = false;\n                        }\n                        (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(optimizedCodes, (code) => {\n                            addToMapOfArrays(result, code, patternIdxToConfig[idx]);\n                        });\n                    }\n                }\n                else {\n                    if (options.ensureOptimizations) {\n                        (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_2__.PRINT_ERROR)(`${_reg_exp_js__WEBPACK_IMPORTED_MODULE_3__.failedOptimizationPrefixMsg}` +\n                            `\\tTokenType: <${currTokType.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\\n` +\n                            \"\\tThis will disable the lexer's first char optimizations.\\n\" +\n                            \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE\");\n                    }\n                    canBeOptimized = false;\n                }\n                return result;\n            }, []);\n        });\n    }\n    return {\n        emptyGroups: emptyGroups,\n        patternIdxToConfig: patternIdxToConfig,\n        charCodeToPatternIdxToConfig: charCodeToPatternIdxToConfig,\n        hasCustom: hasCustom,\n        canBeOptimized: canBeOptimized,\n    };\n}\nfunction validatePatterns(tokenTypes, validModesNames) {\n    let errors = [];\n    const missingResult = findMissingPatterns(tokenTypes);\n    errors = errors.concat(missingResult.errors);\n    const invalidResult = findInvalidPatterns(missingResult.valid);\n    const validTokenTypes = invalidResult.valid;\n    errors = errors.concat(invalidResult.errors);\n    errors = errors.concat(validateRegExpPattern(validTokenTypes));\n    errors = errors.concat(findInvalidGroupType(validTokenTypes));\n    errors = errors.concat(findModesThatDoNotExist(validTokenTypes, validModesNames));\n    errors = errors.concat(findUnreachablePatterns(validTokenTypes));\n    return errors;\n}\nfunction validateRegExpPattern(tokenTypes) {\n    let errors = [];\n    const withRegExpPatterns = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currTokType) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currTokType[PATTERN]));\n    errors = errors.concat(findEndOfInputAnchor(withRegExpPatterns));\n    errors = errors.concat(findStartOfInputAnchor(withRegExpPatterns));\n    errors = errors.concat(findUnsupportedFlags(withRegExpPatterns));\n    errors = errors.concat(findDuplicatePatterns(withRegExpPatterns));\n    errors = errors.concat(findEmptyMatchRegExps(withRegExpPatterns));\n    return errors;\n}\nfunction findMissingPatterns(tokenTypes) {\n    const tokenTypesWithMissingPattern = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currType) => {\n        return !(0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(currType, PATTERN);\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(tokenTypesWithMissingPattern, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- missing static 'PATTERN' property\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.MISSING_PATTERN,\n            tokenTypes: [currType],\n        };\n    });\n    const valid = (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(tokenTypes, tokenTypesWithMissingPattern);\n    return { errors, valid };\n}\nfunction findInvalidPatterns(tokenTypes) {\n    const tokenTypesWithInvalidPattern = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currType) => {\n        const pattern = currType[PATTERN];\n        return (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(pattern) &&\n            !(0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(pattern) &&\n            !(0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(pattern, \"exec\") &&\n            !(0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(pattern));\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(tokenTypesWithInvalidPattern, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' can only be a RegExp, a\" +\n                \" Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.INVALID_PATTERN,\n            tokenTypes: [currType],\n        };\n    });\n    const valid = (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(tokenTypes, tokenTypesWithInvalidPattern);\n    return { errors, valid };\n}\nconst end_of_input = /[^\\\\][$]/;\nfunction findEndOfInputAnchor(tokenTypes) {\n    class EndAnchorFinder extends _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__.BaseRegExpVisitor {\n        constructor() {\n            super(...arguments);\n            this.found = false;\n        }\n        visitEndAnchor(node) {\n            this.found = true;\n        }\n    }\n    const invalidRegex = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currType) => {\n        const pattern = currType.PATTERN;\n        try {\n            const regexpAst = (0,_reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_4__.getRegExpAst)(pattern);\n            const endAnchorVisitor = new EndAnchorFinder();\n            endAnchorVisitor.visit(regexpAst);\n            return endAnchorVisitor.found;\n        }\n        catch (e) {\n            // old behavior in case of runtime exceptions with regexp-to-ast.\n            /* istanbul ignore next - cannot ensure an error in regexp-to-ast*/\n            return end_of_input.test(pattern.source);\n        }\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(invalidRegex, (currType) => {\n        return {\n            message: \"Unexpected RegExp Anchor Error:\\n\" +\n                \"\\tToken Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' cannot contain end of input anchor '$'\\n\" +\n                \"\\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\" +\n                \"\\tfor details.\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\nfunction findEmptyMatchRegExps(tokenTypes) {\n    const matchesEmptyString = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currType) => {\n        const pattern = currType.PATTERN;\n        return pattern.test(\"\");\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(matchesEmptyString, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' must not match an empty string\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\nconst start_of_input = /[^\\\\[][\\^]|^\\^/;\nfunction findStartOfInputAnchor(tokenTypes) {\n    class StartAnchorFinder extends _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__.BaseRegExpVisitor {\n        constructor() {\n            super(...arguments);\n            this.found = false;\n        }\n        visitStartAnchor(node) {\n            this.found = true;\n        }\n    }\n    const invalidRegex = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currType) => {\n        const pattern = currType.PATTERN;\n        try {\n            const regexpAst = (0,_reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_4__.getRegExpAst)(pattern);\n            const startAnchorVisitor = new StartAnchorFinder();\n            startAnchorVisitor.visit(regexpAst);\n            return startAnchorVisitor.found;\n        }\n        catch (e) {\n            // old behavior in case of runtime exceptions with regexp-to-ast.\n            /* istanbul ignore next - cannot ensure an error in regexp-to-ast*/\n            return start_of_input.test(pattern.source);\n        }\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(invalidRegex, (currType) => {\n        return {\n            message: \"Unexpected RegExp Anchor Error:\\n\" +\n                \"\\tToken Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' cannot contain start of input anchor '^'\\n\" +\n                \"\\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\" +\n                \"\\tfor details.\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\nfunction findUnsupportedFlags(tokenTypes) {\n    const invalidFlags = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currType) => {\n        const pattern = currType[PATTERN];\n        return pattern instanceof RegExp && (pattern.multiline || pattern.global);\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(invalidFlags, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' may NOT contain global('g') or multiline('m')\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\n// This can only test for identical duplicate RegExps, not semantically equivalent ones.\nfunction findDuplicatePatterns(tokenTypes) {\n    const found = [];\n    let identicalPatterns = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(tokenTypes, (outerType) => {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(tokenTypes, (result, innerType) => {\n            if (outerType.PATTERN.source === innerType.PATTERN.source &&\n                !(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(found, innerType) &&\n                innerType.PATTERN !== _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.NA) {\n                // this avoids duplicates in the result, each Token Type may only appear in one \"set\"\n                // in essence we are creating Equivalence classes on equality relation.\n                found.push(innerType);\n                result.push(innerType);\n                return result;\n            }\n            return result;\n        }, []);\n    });\n    identicalPatterns = (0,lodash_es__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(identicalPatterns);\n    const duplicatePatterns = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(identicalPatterns, (currIdenticalSet) => {\n        return currIdenticalSet.length > 1;\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(duplicatePatterns, (setOfIdentical) => {\n        const tokenTypeNames = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(setOfIdentical, (currType) => {\n            return currType.name;\n        });\n        const dupPatternSrc = (0,lodash_es__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(setOfIdentical).PATTERN;\n        return {\n            message: `The same RegExp pattern ->${dupPatternSrc}<-` +\n                `has been used in all of the following Token Types: ${tokenTypeNames.join(\", \")} <-`,\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,\n            tokenTypes: setOfIdentical,\n        };\n    });\n    return errors;\n}\nfunction findInvalidGroupType(tokenTypes) {\n    const invalidTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (clazz) => {\n        if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(clazz, \"GROUP\")) {\n            return false;\n        }\n        const group = clazz.GROUP;\n        return group !== _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.SKIPPED && group !== _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.NA && !(0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(group);\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(invalidTypes, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\nfunction findModesThatDoNotExist(tokenTypes, validModes) {\n    const invalidModes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (clazz) => {\n        return (clazz.PUSH_MODE !== undefined && !(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(validModes, clazz.PUSH_MODE));\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(invalidModes, (tokType) => {\n        const msg = `Token Type: ->${tokType.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${tokType.PUSH_MODE}<-` +\n            `which does not exist`;\n        return {\n            message: msg,\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,\n            tokenTypes: [tokType],\n        };\n    });\n    return errors;\n}\nfunction findUnreachablePatterns(tokenTypes) {\n    const errors = [];\n    const canBeTested = (0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(tokenTypes, (result, tokType, idx) => {\n        const pattern = tokType.PATTERN;\n        if (pattern === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.NA) {\n            return result;\n        }\n        // a more comprehensive validation for all forms of regExps would require\n        // deeper regExp analysis capabilities\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(pattern)) {\n            result.push({ str: pattern, idx, tokenType: tokType });\n        }\n        else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(pattern) && noMetaChar(pattern)) {\n            result.push({ str: pattern.source, idx, tokenType: tokType });\n        }\n        return result;\n    }, []);\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(tokenTypes, (tokType, testIdx) => {\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(canBeTested, ({ str, idx, tokenType }) => {\n            if (testIdx < idx && testTokenType(str, tokType.PATTERN)) {\n                const msg = `Token: ->${tokenType.name}<- can never be matched.\\n` +\n                    `Because it appears AFTER the Token Type ->${tokType.name}<-` +\n                    `in the lexer's definition.\\n` +\n                    `See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;\n                errors.push({\n                    message: msg,\n                    type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.UNREACHABLE_PATTERN,\n                    tokenTypes: [tokType, tokenType],\n                });\n            }\n        });\n    });\n    return errors;\n}\nfunction testTokenType(str, pattern) {\n    /* istanbul ignore else */\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(pattern)) {\n        const regExpArray = pattern.exec(str);\n        return regExpArray !== null && regExpArray.index === 0;\n    }\n    else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(pattern)) {\n        // maintain the API of custom patterns\n        return pattern(str, 0, [], {});\n    }\n    else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(pattern, \"exec\")) {\n        // maintain the API of custom patterns\n        return pattern.exec(str, 0, [], {});\n    }\n    else if (typeof pattern === \"string\") {\n        return pattern === str;\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction noMetaChar(regExp) {\n    //https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp\n    const metaChars = [\n        \".\",\n        \"\\\\\",\n        \"[\",\n        \"]\",\n        \"|\",\n        \"^\",\n        \"$\",\n        \"(\",\n        \")\",\n        \"?\",\n        \"*\",\n        \"+\",\n        \"{\",\n    ];\n    return ((0,lodash_es__WEBPACK_IMPORTED_MODULE_23__[\"default\"])(metaChars, (char) => regExp.source.indexOf(char) !== -1) === undefined);\n}\nfunction addStartOfInput(pattern) {\n    const flags = pattern.ignoreCase ? \"i\" : \"\";\n    // always wrapping in a none capturing group preceded by '^' to make sure matching can only work on start of input.\n    // duplicate/redundant start of input markers have no meaning (/^^^^A/ === /^A/)\n    return new RegExp(`^(?:${pattern.source})`, flags);\n}\nfunction addStickyFlag(pattern) {\n    const flags = pattern.ignoreCase ? \"iy\" : \"y\";\n    // always wrapping in a none capturing group preceded by '^' to make sure matching can only work on start of input.\n    // duplicate/redundant start of input markers have no meaning (/^^^^A/ === /^A/)\n    return new RegExp(`${pattern.source}`, flags);\n}\nfunction performRuntimeChecks(lexerDefinition, trackLines, lineTerminatorCharacters) {\n    const errors = [];\n    // some run time checks to help the end users.\n    if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lexerDefinition, DEFAULT_MODE)) {\n        errors.push({\n            message: \"A MultiMode Lexer cannot be initialized without a <\" +\n                DEFAULT_MODE +\n                \"> property in its definition\\n\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE,\n        });\n    }\n    if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lexerDefinition, MODES)) {\n        errors.push({\n            message: \"A MultiMode Lexer cannot be initialized without a <\" +\n                MODES +\n                \"> property in its definition\\n\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY,\n        });\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lexerDefinition, MODES) &&\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lexerDefinition, DEFAULT_MODE) &&\n        !(0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lexerDefinition.modes, lexerDefinition.defaultMode)) {\n        errors.push({\n            message: `A MultiMode Lexer cannot be initialized with a ${DEFAULT_MODE}: <${lexerDefinition.defaultMode}>` +\n                `which does not exist\\n`,\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST,\n        });\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lexerDefinition, MODES)) {\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(lexerDefinition.modes, (currModeValue, currModeName) => {\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(currModeValue, (currTokType, currIdx) => {\n                if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(currTokType)) {\n                    errors.push({\n                        message: `A Lexer cannot be initialized using an undefined Token Type. Mode:` +\n                            `<${currModeName}> at index: <${currIdx}>\\n`,\n                        type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED,\n                    });\n                }\n                else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(currTokType, \"LONGER_ALT\")) {\n                    const longerAlt = (0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(currTokType.LONGER_ALT)\n                        ? currTokType.LONGER_ALT\n                        : [currTokType.LONGER_ALT];\n                    (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(longerAlt, (currLongerAlt) => {\n                        if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(currLongerAlt) &&\n                            !(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(currModeValue, currLongerAlt)) {\n                            errors.push({\n                                message: `A MultiMode Lexer cannot be initialized with a longer_alt <${currLongerAlt.name}> on token <${currTokType.name}> outside of mode <${currModeName}>\\n`,\n                                type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE,\n                            });\n                        }\n                    });\n                }\n            });\n        });\n    }\n    return errors;\n}\nfunction performWarningRuntimeChecks(lexerDefinition, trackLines, lineTerminatorCharacters) {\n    const warnings = [];\n    let hasAnyLineBreak = false;\n    const allTokenTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_21__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_24__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_25__[\"default\"])(lexerDefinition.modes)));\n    const concreteTokenTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(allTokenTypes, (currType) => currType[PATTERN] === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.NA);\n    const terminatorCharCodes = getCharCodes(lineTerminatorCharacters);\n    if (trackLines) {\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(concreteTokenTypes, (tokType) => {\n            const currIssue = checkLineBreaksIssues(tokType, terminatorCharCodes);\n            if (currIssue !== false) {\n                const message = buildLineBreakIssueMessage(tokType, currIssue);\n                const warningDescriptor = {\n                    message,\n                    type: currIssue.issue,\n                    tokenType: tokType,\n                };\n                warnings.push(warningDescriptor);\n            }\n            else {\n                // we don't want to attempt to scan if the user explicitly specified the line_breaks option.\n                if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(tokType, \"LINE_BREAKS\")) {\n                    if (tokType.LINE_BREAKS === true) {\n                        hasAnyLineBreak = true;\n                    }\n                }\n                else {\n                    if ((0,_reg_exp_js__WEBPACK_IMPORTED_MODULE_3__.canMatchCharCode)(terminatorCharCodes, tokType.PATTERN)) {\n                        hasAnyLineBreak = true;\n                    }\n                }\n            }\n        });\n    }\n    if (trackLines && !hasAnyLineBreak) {\n        warnings.push({\n            message: \"Warning: No LINE_BREAKS Found.\\n\" +\n                \"\\tThis Lexer has been defined to track line and column information,\\n\" +\n                \"\\tBut none of the Token Types can be identified as matching a line terminator.\\n\" +\n                \"\\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \\n\" +\n                \"\\tfor details.\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS,\n        });\n    }\n    return warnings;\n}\nfunction cloneEmptyGroups(emptyGroups) {\n    const clonedResult = {};\n    const groupKeys = (0,lodash_es__WEBPACK_IMPORTED_MODULE_26__[\"default\"])(emptyGroups);\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(groupKeys, (currKey) => {\n        const currGroupValue = emptyGroups[currKey];\n        /* istanbul ignore else */\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(currGroupValue)) {\n            clonedResult[currKey] = [];\n        }\n        else {\n            throw Error(\"non exhaustive match\");\n        }\n    });\n    return clonedResult;\n}\n// TODO: refactor to avoid duplication\nfunction isCustomPattern(tokenType) {\n    const pattern = tokenType.PATTERN;\n    /* istanbul ignore else */\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(pattern)) {\n        return false;\n    }\n    else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(pattern)) {\n        // CustomPatternMatcherFunc - custom patterns do not require any transformations, only wrapping in a RegExp Like object\n        return true;\n    }\n    else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(pattern, \"exec\")) {\n        // ICustomPattern\n        return true;\n    }\n    else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(pattern)) {\n        return false;\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction isShortPattern(pattern) {\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(pattern) && pattern.length === 1) {\n        return pattern.charCodeAt(0);\n    }\n    else {\n        return false;\n    }\n}\n/**\n * Faster than using a RegExp for default newline detection during lexing.\n */\nconst LineTerminatorOptimizedTester = {\n    // implements /\\n|\\r\\n?/g.test\n    test: function (text) {\n        const len = text.length;\n        for (let i = this.lastIndex; i < len; i++) {\n            const c = text.charCodeAt(i);\n            if (c === 10) {\n                this.lastIndex = i + 1;\n                return true;\n            }\n            else if (c === 13) {\n                if (text.charCodeAt(i + 1) === 10) {\n                    this.lastIndex = i + 2;\n                }\n                else {\n                    this.lastIndex = i + 1;\n                }\n                return true;\n            }\n        }\n        return false;\n    },\n    lastIndex: 0,\n};\nfunction checkLineBreaksIssues(tokType, lineTerminatorCharCodes) {\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(tokType, \"LINE_BREAKS\")) {\n        // if the user explicitly declared the line_breaks option we will respect their choice\n        // and assume it is correct.\n        return false;\n    }\n    else {\n        /* istanbul ignore else */\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(tokType.PATTERN)) {\n            try {\n                // TODO: why is the casting suddenly needed?\n                (0,_reg_exp_js__WEBPACK_IMPORTED_MODULE_3__.canMatchCharCode)(lineTerminatorCharCodes, tokType.PATTERN);\n            }\n            catch (e) {\n                /* istanbul ignore next - to test this we would have to mock <canMatchCharCode> to throw an error */\n                return {\n                    issue: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,\n                    errMsg: e.message,\n                };\n            }\n            return false;\n        }\n        else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(tokType.PATTERN)) {\n            // string literal patterns can always be analyzed to detect line terminator usage\n            return false;\n        }\n        else if (isCustomPattern(tokType)) {\n            // custom token types\n            return { issue: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.CUSTOM_LINE_BREAK };\n        }\n        else {\n            throw Error(\"non exhaustive match\");\n        }\n    }\n}\nfunction buildLineBreakIssueMessage(tokType, details) {\n    /* istanbul ignore else */\n    if (details.issue === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.IDENTIFY_TERMINATOR) {\n        return (\"Warning: unable to identify line terminator usage in pattern.\\n\" +\n            `\\tThe problem is in the <${tokType.name}> Token Type\\n` +\n            `\\t Root cause: ${details.errMsg}.\\n` +\n            \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR\");\n    }\n    else if (details.issue === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.CUSTOM_LINE_BREAK) {\n        return (\"Warning: A Custom Token Pattern should specify the <line_breaks> option.\\n\" +\n            `\\tThe problem is in the <${tokType.name}> Token Type\\n` +\n            \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK\");\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction getCharCodes(charsOrCodes) {\n    const charCodes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(charsOrCodes, (numOrString) => {\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(numOrString)) {\n            return numOrString.charCodeAt(0);\n        }\n        else {\n            return numOrString;\n        }\n    });\n    return charCodes;\n}\nfunction addToMapOfArrays(map, key, value) {\n    if (map[key] === undefined) {\n        map[key] = [value];\n    }\n    else {\n        map[key].push(value);\n    }\n}\nconst minOptimizationVal = 256;\n/**\n * We are mapping charCode above ASCI (256) into buckets each in the size of 256.\n * This is because ASCI are the most common start chars so each one of those will get its own\n * possible token configs vector.\n *\n * Tokens starting with charCodes \"above\" ASCI are uncommon, so we can \"afford\"\n * to place these into buckets of possible token configs, What we gain from\n * this is avoiding the case of creating an optimization 'charCodeToPatternIdxToConfig'\n * which would contain 10,000+ arrays of small size (e.g unicode Identifiers scenario).\n * Our 'charCodeToPatternIdxToConfig' max size will now be:\n * 256 + (2^16 / 2^8) - 1 === 511\n *\n * note the hack for fast division integer part extraction\n * See: https://stackoverflow.com/a/4228528\n */\nlet charCodeToOptimizedIdxMap = [];\nfunction charCodeToOptimizedIndex(charCode) {\n    return charCode < minOptimizationVal\n        ? charCode\n        : charCodeToOptimizedIdxMap[charCode];\n}\n/**\n * This is a compromise between cold start / hot running performance\n * Creating this array takes ~3ms on a modern machine,\n * But if we perform the computation at runtime as needed the CSS Lexer benchmark\n * performance degrades by ~10%\n *\n * TODO: Perhaps it should be lazy initialized only if a charCode > 255 is used.\n */\nfunction initCharCodeToOptimizedIndexMap() {\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(charCodeToOptimizedIdxMap)) {\n        charCodeToOptimizedIdxMap = new Array(65536);\n        for (let i = 0; i < 65536; i++) {\n            charCodeToOptimizedIdxMap[i] = i > 255 ? 255 + ~~(i / 255) : i;\n        }\n    }\n}\n//# sourceMappingURL=lexer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvc2Nhbi9sZXhlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThEO0FBQ087QUFDdUo7QUFDNUs7QUFDNkQ7QUFDMUQ7QUFDbkQ7QUFDTztBQUNBO0FBQ0E7QUFDQTtBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQLGNBQWMscURBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEJBQTRCLHFEQUFNO0FBQ2xDLHlDQUF5QyxtREFBSztBQUM5QyxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHFEQUFHO0FBQ3BDO0FBQ0E7QUFDQSxnQkFBZ0IscURBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFEQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHNEQUFVO0FBQy9CO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixxREFBRztBQUM5Qiw0QkFBNEIscURBQUc7QUFDL0I7QUFDQTtBQUNBLDhCQUE4QixtREFBSztBQUNuQztBQUNBO0FBQ0EscUJBQXFCLHNEQUFRO0FBQzdCO0FBQ0E7QUFDQSxxQkFBcUIsc0RBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxzQ0FBc0MscURBQUc7QUFDekM7QUFDQTtBQUNBLHdDQUF3QyxzREFBTztBQUMvQyxzQkFBc0IscURBQUcsMEJBQTBCLHNEQUFPO0FBQzFELHVCQUF1QixzREFBTztBQUM5QjtBQUNBO0FBQ0EsU0FBUztBQUNULCtCQUErQixxREFBRztBQUNsQyw4QkFBOEIscURBQUcsK0JBQStCLHNEQUFHO0FBQ25FLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MscURBQUc7QUFDM0M7QUFDQSw0Q0FBNEMscURBQUc7QUFDL0Msb0JBQW9CLHNEQUFHO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZEQUFnQjtBQUN4QztBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFEQUFHO0FBQ2xDLDRCQUE0QixxREFBRztBQUMvQixzQkFBc0Isc0RBQU07QUFDNUI7QUFDQSxnQkFBZ0Isc0RBQVEsK0JBQStCLG1EQUFLO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiLDZCQUE2QixxREFBRztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHNEQUFNO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0RBQU87QUFDaEM7QUFDQSxvQkFBb0Isc0RBQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EseUJBQXlCLHFEQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4REFBVyxJQUFJLG9FQUEyQixDQUFDO0FBQ3ZFLHlEQUF5RCxnQ0FBZ0M7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLDBFQUE2QjtBQUM1RTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0RBQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBTztBQUMvQjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4REFBVyxJQUFJLG9FQUEyQixDQUFDO0FBQ25FLDZDQUE2QyxpQkFBaUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQU0sOEJBQThCLHFEQUFRO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx5Q0FBeUMsc0RBQU07QUFDL0MsZ0JBQWdCLHNEQUFHO0FBQ25CLEtBQUs7QUFDTCxtQkFBbUIscURBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0VBQXdCO0FBQzFDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLHNEQUFVO0FBQzVCLGFBQWE7QUFDYjtBQUNPO0FBQ1AseUNBQXlDLHNEQUFNO0FBQy9DO0FBQ0EsaUJBQWlCLHFEQUFRO0FBQ3pCLGFBQWEsc0RBQVU7QUFDdkIsYUFBYSxzREFBRztBQUNoQixhQUFhLHNEQUFRO0FBQ3JCLEtBQUs7QUFDTCxtQkFBbUIscURBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsMEJBQTBCLGdDQUFnQyxnQkFBZ0I7QUFDbkgsa0JBQWtCLHNFQUF3QjtBQUMxQztBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQixzREFBVTtBQUM1QixhQUFhO0FBQ2I7QUFDQTtBQUNPO0FBQ1Asa0NBQWtDLHdFQUFpQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHNEQUFNO0FBQy9CO0FBQ0E7QUFDQSw4QkFBOEIsZ0VBQVk7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG1CQUFtQixxREFBRztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzRUFBd0I7QUFDMUM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUCwrQkFBK0Isc0RBQU07QUFDckM7QUFDQTtBQUNBLEtBQUs7QUFDTCxtQkFBbUIscURBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0VBQXdCO0FBQzFDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ087QUFDUCxvQ0FBb0Msd0VBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0RBQU07QUFDL0I7QUFDQTtBQUNBLDhCQUE4QixnRUFBWTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLHFEQUFHO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNFQUF3QjtBQUMxQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQLHlCQUF5QixzREFBTTtBQUMvQjtBQUNBO0FBQ0EsS0FBSztBQUNMLG1CQUFtQixxREFBRztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzRUFBd0I7QUFDMUM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsNEJBQTRCLHFEQUFHO0FBQy9CLGVBQWUsc0RBQU07QUFDckI7QUFDQSxpQkFBaUIscURBQVE7QUFDekIsc0NBQXNDLG1EQUFLO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCx3QkFBd0Isc0RBQU87QUFDL0IsOEJBQThCLHNEQUFNO0FBQ3BDO0FBQ0EsS0FBSztBQUNMLG1CQUFtQixxREFBRztBQUN0QiwrQkFBK0IscURBQUc7QUFDbEM7QUFDQSxTQUFTO0FBQ1QsOEJBQThCLHNEQUFLO0FBQ25DO0FBQ0Esa0RBQWtELGNBQWM7QUFDaEUsc0VBQXNFLDJCQUEyQjtBQUNqRyxrQkFBa0Isc0VBQXdCO0FBQzFDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1AseUJBQXlCLHNEQUFNO0FBQy9CLGFBQWEsc0RBQUc7QUFDaEI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1EQUFLLHNCQUFzQixtREFBSyxRQUFRLHNEQUFRO0FBQ3pFLEtBQUs7QUFDTCxtQkFBbUIscURBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0VBQXdCO0FBQzFDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1AseUJBQXlCLHNEQUFNO0FBQy9CLGtEQUFrRCxxREFBUTtBQUMxRCxLQUFLO0FBQ0wsbUJBQW1CLHFEQUFHO0FBQ3RCLHFDQUFxQyxhQUFhLDZEQUE2RCxrQkFBa0I7QUFDakk7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNFQUF3QjtBQUMxQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQO0FBQ0Esd0JBQXdCLHNEQUFNO0FBQzlCO0FBQ0Esd0JBQXdCLG1EQUFLO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBUTtBQUNwQiwwQkFBMEIsdUNBQXVDO0FBQ2pFO0FBQ0EsaUJBQWlCLHFEQUFRO0FBQ3pCLDBCQUEwQiw4Q0FBOEM7QUFDeEU7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLHNEQUFPO0FBQ1gsUUFBUSxzREFBTyxpQkFBaUIscUJBQXFCO0FBQ3JEO0FBQ0Esd0NBQXdDLGVBQWU7QUFDdkQsaUVBQWlFLGFBQWE7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsc0VBQXdCO0FBQ2xEO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzREFBVTtBQUN2QjtBQUNBLHFDQUFxQztBQUNyQztBQUNBLGFBQWEsc0RBQUc7QUFDaEI7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFlBQVksc0RBQUk7QUFDaEI7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixlQUFlO0FBQzVDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZUFBZTtBQUN4QztBQUNPO0FBQ1A7QUFDQTtBQUNBLFNBQVMsc0RBQUc7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzRUFBd0I7QUFDMUMsU0FBUztBQUNUO0FBQ0EsU0FBUyxzREFBRztBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNFQUF3QjtBQUMxQyxTQUFTO0FBQ1Q7QUFDQSxRQUFRLHNEQUFHO0FBQ1gsUUFBUSxzREFBRztBQUNYLFNBQVMsc0RBQUc7QUFDWjtBQUNBLHVFQUF1RSxhQUFhLEtBQUssNEJBQTRCO0FBQ3JIO0FBQ0Esa0JBQWtCLHNFQUF3QjtBQUMxQyxTQUFTO0FBQ1Q7QUFDQSxRQUFRLHNEQUFHO0FBQ1gsUUFBUSxzREFBTztBQUNmLFlBQVksc0RBQU87QUFDbkIsb0JBQW9CLHNEQUFXO0FBQy9CO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxlQUFlLFFBQVE7QUFDcEUsOEJBQThCLHNFQUF3QjtBQUN0RCxxQkFBcUI7QUFDckI7QUFDQSx5QkFBeUIsc0RBQUc7QUFDNUIsc0NBQXNDLHNEQUFPO0FBQzdDO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQU87QUFDM0IsNkJBQTZCLHNEQUFXO0FBQ3hDLDZCQUE2QixxREFBUTtBQUNyQztBQUNBLHVHQUF1RyxtQkFBbUIsY0FBYyxpQkFBaUIscUJBQXFCLGFBQWE7QUFDM0wsc0NBQXNDLHNFQUF3QjtBQUM5RCw2QkFBNkI7QUFDN0I7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDBCQUEwQixzREFBTyxDQUFDLHNEQUFPLENBQUMsc0RBQU07QUFDaEQsK0JBQStCLHFEQUFNLG9EQUFvRCxtREFBSztBQUM5RjtBQUNBO0FBQ0EsUUFBUSxzREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBRztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZEQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNFQUF3QjtBQUMxQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLHNCQUFzQixzREFBSTtBQUMxQixJQUFJLHNEQUFPO0FBQ1g7QUFDQTtBQUNBLFlBQVksc0RBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxRQUFRLHFEQUFRO0FBQ2hCO0FBQ0E7QUFDQSxhQUFhLHNEQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsc0RBQUc7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzREFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFFBQVEsc0RBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsU0FBUztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBUTtBQUNwQjtBQUNBO0FBQ0EsZ0JBQWdCLDZEQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzRUFBd0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzREFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLE9BQU8sc0VBQXdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSwwQkFBMEIsc0VBQXdCO0FBQ2xEO0FBQ0Esd0NBQXdDLGFBQWE7QUFDckQsOEJBQThCLGVBQWU7QUFDN0M7QUFDQTtBQUNBLCtCQUErQixzRUFBd0I7QUFDdkQ7QUFDQSx3Q0FBd0MsYUFBYTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxREFBRztBQUN6QixZQUFZLHNEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQU87QUFDZjtBQUNBLHdCQUF3QixXQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldGhhbmtpbS9OZXN0b3IvbWVkZmV0Y2guanMvbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvc2Nhbi9sZXhlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlUmVnRXhwVmlzaXRvciB9IGZyb20gXCJAY2hldnJvdGFpbi9yZWdleHAtdG8tYXN0XCI7XG5pbXBvcnQgeyBMZXhlciwgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLCB9IGZyb20gXCIuL2xleGVyX3B1YmxpYy5qc1wiO1xuaW1wb3J0IHsgY29tcGFjdCwgZGVmYXVsdHMsIGRpZmZlcmVuY2UsIGZpbHRlciwgZmluZCwgZmlyc3QsIGZsYXR0ZW4sIGZvckVhY2gsIGhhcywgaW5jbHVkZXMsIGluZGV4T2YsIGlzQXJyYXksIGlzRW1wdHksIGlzRnVuY3Rpb24sIGlzUmVnRXhwLCBpc1N0cmluZywgaXNVbmRlZmluZWQsIGtleXMsIG1hcCwgcmVkdWNlLCByZWplY3QsIHZhbHVlcywgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBQUklOVF9FUlJPUiB9IGZyb20gXCJAY2hldnJvdGFpbi91dGlsc1wiO1xuaW1wb3J0IHsgY2FuTWF0Y2hDaGFyQ29kZSwgZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnLCBnZXRPcHRpbWl6ZWRTdGFydENvZGVzSW5kaWNlcywgfSBmcm9tIFwiLi9yZWdfZXhwLmpzXCI7XG5pbXBvcnQgeyBnZXRSZWdFeHBBc3QgfSBmcm9tIFwiLi9yZWdfZXhwX3BhcnNlci5qc1wiO1xuY29uc3QgUEFUVEVSTiA9IFwiUEFUVEVSTlwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfTU9ERSA9IFwiZGVmYXVsdE1vZGVcIjtcbmV4cG9ydCBjb25zdCBNT0RFUyA9IFwibW9kZXNcIjtcbmV4cG9ydCBsZXQgU1VQUE9SVF9TVElDS1kgPSB0eXBlb2YgbmV3IFJlZ0V4cChcIig/OilcIikuc3RpY2t5ID09PSBcImJvb2xlYW5cIjtcbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlU3RpY2t5KCkge1xuICAgIFNVUFBPUlRfU1RJQ0tZID0gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlU3RpY2t5KCkge1xuICAgIFNVUFBPUlRfU1RJQ0tZID0gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhbmFseXplVG9rZW5UeXBlcyh0b2tlblR5cGVzLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgdXNlU3RpY2t5OiBTVVBQT1JUX1NUSUNLWSxcbiAgICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgICBzYWZlTW9kZTogZmFsc2UsXG4gICAgICAgIHBvc2l0aW9uVHJhY2tpbmc6IFwiZnVsbFwiLFxuICAgICAgICBsaW5lVGVybWluYXRvckNoYXJhY3RlcnM6IFtcIlxcclwiLCBcIlxcblwiXSxcbiAgICAgICAgdHJhY2VyOiAobXNnLCBhY3Rpb24pID0+IGFjdGlvbigpLFxuICAgIH0pO1xuICAgIGNvbnN0IHRyYWNlciA9IG9wdGlvbnMudHJhY2VyO1xuICAgIHRyYWNlcihcImluaXRDaGFyQ29kZVRvT3B0aW1pemVkSW5kZXhNYXBcIiwgKCkgPT4ge1xuICAgICAgICBpbml0Q2hhckNvZGVUb09wdGltaXplZEluZGV4TWFwKCk7XG4gICAgfSk7XG4gICAgbGV0IG9ubHlSZWxldmFudFR5cGVzO1xuICAgIHRyYWNlcihcIlJlamVjdCBMZXhlci5OQVwiLCAoKSA9PiB7XG4gICAgICAgIG9ubHlSZWxldmFudFR5cGVzID0gcmVqZWN0KHRva2VuVHlwZXMsIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJUeXBlW1BBVFRFUk5dID09PSBMZXhlci5OQTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgbGV0IGhhc0N1c3RvbSA9IGZhbHNlO1xuICAgIGxldCBhbGxUcmFuc2Zvcm1lZFBhdHRlcm5zO1xuICAgIHRyYWNlcihcIlRyYW5zZm9ybSBQYXR0ZXJuc1wiLCAoKSA9PiB7XG4gICAgICAgIGhhc0N1c3RvbSA9IGZhbHNlO1xuICAgICAgICBhbGxUcmFuc2Zvcm1lZFBhdHRlcm5zID0gbWFwKG9ubHlSZWxldmFudFR5cGVzLCAoY3VyclR5cGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJQYXR0ZXJuID0gY3VyclR5cGVbUEFUVEVSTl07XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGlzUmVnRXhwKGN1cnJQYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ0V4cFNvdXJjZSA9IGN1cnJQYXR0ZXJuLnNvdXJjZTtcbiAgICAgICAgICAgICAgICBpZiAocmVnRXhwU291cmNlLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHRoZXNlIHJlZ0V4cCBtZXRhIGNoYXJhY3RlcnMgd2hpY2ggY2FuIGFwcGVhciBpbiBhIGxlbmd0aCBvbmUgcmVnRXhwXG4gICAgICAgICAgICAgICAgICAgIHJlZ0V4cFNvdXJjZSAhPT0gXCJeXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVnRXhwU291cmNlICE9PSBcIiRcIiAmJlxuICAgICAgICAgICAgICAgICAgICByZWdFeHBTb3VyY2UgIT09IFwiLlwiICYmXG4gICAgICAgICAgICAgICAgICAgICFjdXJyUGF0dGVybi5pZ25vcmVDYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdFeHBTb3VyY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlZ0V4cFNvdXJjZS5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVnRXhwU291cmNlWzBdID09PSBcIlxcXFxcIiAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBub3QgYSBtZXRhIGNoYXJhY3RlclxuICAgICAgICAgICAgICAgICAgICAhaW5jbHVkZXMoW1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwid1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJXXCIsXG4gICAgICAgICAgICAgICAgICAgIF0sIHJlZ0V4cFNvdXJjZVsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNjYXBlZCBtZXRhIENoYXJhY3RlcnM6IC9cXCsvIC9cXFsvXG4gICAgICAgICAgICAgICAgICAgIC8vIG9yIHJlZHVuZGFudCBlc2NhcGluZzogL1xcYS9cbiAgICAgICAgICAgICAgICAgICAgLy8gd2l0aG91dCB0aGUgZXNjYXBpbmcgXCJcXFwiXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdFeHBTb3VyY2VbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy51c2VTdGlja3lcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYWRkU3RpY2t5RmxhZyhjdXJyUGF0dGVybilcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYWRkU3RhcnRPZklucHV0KGN1cnJQYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGN1cnJQYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIGhhc0N1c3RvbSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gQ3VzdG9tUGF0dGVybk1hdGNoZXJGdW5jIC0gY3VzdG9tIHBhdHRlcm5zIGRvIG5vdCByZXF1aXJlIGFueSB0cmFuc2Zvcm1hdGlvbnMsIG9ubHkgd3JhcHBpbmcgaW4gYSBSZWdFeHAgTGlrZSBvYmplY3RcbiAgICAgICAgICAgICAgICByZXR1cm4geyBleGVjOiBjdXJyUGF0dGVybiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGN1cnJQYXR0ZXJuID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgaGFzQ3VzdG9tID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBJQ3VzdG9tUGF0dGVyblxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyUGF0dGVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjdXJyUGF0dGVybiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyUGF0dGVybi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJQYXR0ZXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXNjYXBlZFJlZ0V4cFN0cmluZyA9IGN1cnJQYXR0ZXJuLnJlcGxhY2UoL1tcXFxcXiQuKis/KClbXFxde318XS9nLCBcIlxcXFwkJlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZFJlZ0V4cCA9IG5ldyBSZWdFeHAoZXNjYXBlZFJlZ0V4cFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnVzZVN0aWNreVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBhZGRTdGlja3lGbGFnKHdyYXBwZWRSZWdFeHApXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGFkZFN0YXJ0T2ZJbnB1dCh3cmFwcGVkUmVnRXhwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBsZXQgcGF0dGVybklkeFRvVHlwZTtcbiAgICBsZXQgcGF0dGVybklkeFRvR3JvdXA7XG4gICAgbGV0IHBhdHRlcm5JZHhUb0xvbmdlckFsdElkeEFycjtcbiAgICBsZXQgcGF0dGVybklkeFRvUHVzaE1vZGU7XG4gICAgbGV0IHBhdHRlcm5JZHhUb1BvcE1vZGU7XG4gICAgdHJhY2VyKFwibWlzYyBtYXBwaW5nXCIsICgpID0+IHtcbiAgICAgICAgcGF0dGVybklkeFRvVHlwZSA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgKGN1cnJUeXBlKSA9PiBjdXJyVHlwZS50b2tlblR5cGVJZHgpO1xuICAgICAgICBwYXR0ZXJuSWR4VG9Hcm91cCA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgKGNsYXp6KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBncm91cE5hbWUgPSBjbGF6ei5HUk9VUDtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICBpZiAoZ3JvdXBOYW1lID09PSBMZXhlci5TS0lQUEVEKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzU3RyaW5nKGdyb3VwTmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNVbmRlZmluZWQoZ3JvdXBOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwYXR0ZXJuSWR4VG9Mb25nZXJBbHRJZHhBcnIgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIChjbGF6eikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9uZ2VyQWx0VHlwZSA9IGNsYXp6LkxPTkdFUl9BTFQ7XG4gICAgICAgICAgICBpZiAobG9uZ2VyQWx0VHlwZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvbmdlckFsdElkeEFyciA9IGlzQXJyYXkobG9uZ2VyQWx0VHlwZSlcbiAgICAgICAgICAgICAgICAgICAgPyBtYXAobG9uZ2VyQWx0VHlwZSwgKHR5cGUpID0+IGluZGV4T2Yob25seVJlbGV2YW50VHlwZXMsIHR5cGUpKVxuICAgICAgICAgICAgICAgICAgICA6IFtpbmRleE9mKG9ubHlSZWxldmFudFR5cGVzLCBsb25nZXJBbHRUeXBlKV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvbmdlckFsdElkeEFycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHBhdHRlcm5JZHhUb1B1c2hNb2RlID0gbWFwKG9ubHlSZWxldmFudFR5cGVzLCAoY2xhenopID0+IGNsYXp6LlBVU0hfTU9ERSk7XG4gICAgICAgIHBhdHRlcm5JZHhUb1BvcE1vZGUgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIChjbGF6eikgPT4gaGFzKGNsYXp6LCBcIlBPUF9NT0RFXCIpKTtcbiAgICB9KTtcbiAgICBsZXQgcGF0dGVybklkeFRvQ2FuTGluZVRlcm1pbmF0b3I7XG4gICAgdHJhY2VyKFwiTGluZSBUZXJtaW5hdG9yIEhhbmRsaW5nXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgbGluZVRlcm1pbmF0b3JDaGFyQ29kZXMgPSBnZXRDaGFyQ29kZXMob3B0aW9ucy5saW5lVGVybWluYXRvckNoYXJhY3RlcnMpO1xuICAgICAgICBwYXR0ZXJuSWR4VG9DYW5MaW5lVGVybWluYXRvciA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgKHRva1R5cGUpID0+IGZhbHNlKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucG9zaXRpb25UcmFja2luZyAhPT0gXCJvbmx5T2Zmc2V0XCIpIHtcbiAgICAgICAgICAgIHBhdHRlcm5JZHhUb0NhbkxpbmVUZXJtaW5hdG9yID0gbWFwKG9ubHlSZWxldmFudFR5cGVzLCAodG9rVHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChoYXModG9rVHlwZSwgXCJMSU5FX0JSRUFLU1wiKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gISF0b2tUeXBlLkxJTkVfQlJFQUtTO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjaGVja0xpbmVCcmVha3NJc3N1ZXModG9rVHlwZSwgbGluZVRlcm1pbmF0b3JDaGFyQ29kZXMpID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuTWF0Y2hDaGFyQ29kZShsaW5lVGVybWluYXRvckNoYXJDb2RlcywgdG9rVHlwZS5QQVRURVJOKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgcGF0dGVybklkeFRvSXNDdXN0b207XG4gICAgbGV0IHBhdHRlcm5JZHhUb1Nob3J0O1xuICAgIGxldCBlbXB0eUdyb3VwcztcbiAgICBsZXQgcGF0dGVybklkeFRvQ29uZmlnO1xuICAgIHRyYWNlcihcIk1pc2MgTWFwcGluZyAjMlwiLCAoKSA9PiB7XG4gICAgICAgIHBhdHRlcm5JZHhUb0lzQ3VzdG9tID0gbWFwKG9ubHlSZWxldmFudFR5cGVzLCBpc0N1c3RvbVBhdHRlcm4pO1xuICAgICAgICBwYXR0ZXJuSWR4VG9TaG9ydCA9IG1hcChhbGxUcmFuc2Zvcm1lZFBhdHRlcm5zLCBpc1Nob3J0UGF0dGVybik7XG4gICAgICAgIGVtcHR5R3JvdXBzID0gcmVkdWNlKG9ubHlSZWxldmFudFR5cGVzLCAoYWNjLCBjbGF6eikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBOYW1lID0gY2xhenouR1JPVVA7XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoZ3JvdXBOYW1lKSAmJiAhKGdyb3VwTmFtZSA9PT0gTGV4ZXIuU0tJUFBFRCkpIHtcbiAgICAgICAgICAgICAgICBhY2NbZ3JvdXBOYW1lXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICBwYXR0ZXJuSWR4VG9Db25maWcgPSBtYXAoYWxsVHJhbnNmb3JtZWRQYXR0ZXJucywgKHgsIGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuOiBhbGxUcmFuc2Zvcm1lZFBhdHRlcm5zW2lkeF0sXG4gICAgICAgICAgICAgICAgbG9uZ2VyQWx0OiBwYXR0ZXJuSWR4VG9Mb25nZXJBbHRJZHhBcnJbaWR4XSxcbiAgICAgICAgICAgICAgICBjYW5MaW5lVGVybWluYXRvcjogcGF0dGVybklkeFRvQ2FuTGluZVRlcm1pbmF0b3JbaWR4XSxcbiAgICAgICAgICAgICAgICBpc0N1c3RvbTogcGF0dGVybklkeFRvSXNDdXN0b21baWR4XSxcbiAgICAgICAgICAgICAgICBzaG9ydDogcGF0dGVybklkeFRvU2hvcnRbaWR4XSxcbiAgICAgICAgICAgICAgICBncm91cDogcGF0dGVybklkeFRvR3JvdXBbaWR4XSxcbiAgICAgICAgICAgICAgICBwdXNoOiBwYXR0ZXJuSWR4VG9QdXNoTW9kZVtpZHhdLFxuICAgICAgICAgICAgICAgIHBvcDogcGF0dGVybklkeFRvUG9wTW9kZVtpZHhdLFxuICAgICAgICAgICAgICAgIHRva2VuVHlwZUlkeDogcGF0dGVybklkeFRvVHlwZVtpZHhdLFxuICAgICAgICAgICAgICAgIHRva2VuVHlwZTogb25seVJlbGV2YW50VHlwZXNbaWR4XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGxldCBjYW5CZU9wdGltaXplZCA9IHRydWU7XG4gICAgbGV0IGNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgPSBbXTtcbiAgICBpZiAoIW9wdGlvbnMuc2FmZU1vZGUpIHtcbiAgICAgICAgdHJhY2VyKFwiRmlyc3QgQ2hhciBPcHRpbWl6YXRpb25cIiwgKCkgPT4ge1xuICAgICAgICAgICAgY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9IHJlZHVjZShvbmx5UmVsZXZhbnRUeXBlcywgKHJlc3VsdCwgY3VyclRva1R5cGUsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3VyclRva1R5cGUuUEFUVEVSTiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyQ29kZSA9IGN1cnJUb2tUeXBlLlBBVFRFUk4uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW1pemVkSWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KGNoYXJDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9NYXBPZkFycmF5cyhyZXN1bHQsIG9wdGltaXplZElkeCwgcGF0dGVybklkeFRvQ29uZmlnW2lkeF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0FycmF5KGN1cnJUb2tUeXBlLlNUQVJUX0NIQVJTX0hJTlQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0T3B0aW1pemVkSWR4O1xuICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKGN1cnJUb2tUeXBlLlNUQVJUX0NIQVJTX0hJTlQsIChjaGFyT3JJbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJDb2RlID0gdHlwZW9mIGNoYXJPckludCA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY2hhck9ySW50LmNoYXJDb2RlQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNoYXJPckludDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJPcHRpbWl6ZWRJZHggPSBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgoY2hhckNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgYWRkaW5nIHRoZSBjb25maWcgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAtIERpZmZpY3VsdCB0byBjaGVjayB0aGlzIHNjZW5hcmlvIGVmZmVjdHMgYXMgaXQgaXMgb25seSBhIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIG9wdGltaXphdGlvbiB0aGF0IGRvZXMgbm90IGNoYW5nZSBjb3JyZWN0bmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RPcHRpbWl6ZWRJZHggIT09IGN1cnJPcHRpbWl6ZWRJZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0T3B0aW1pemVkSWR4ID0gY3Vyck9wdGltaXplZElkeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRUb01hcE9mQXJyYXlzKHJlc3VsdCwgY3Vyck9wdGltaXplZElkeCwgcGF0dGVybklkeFRvQ29uZmlnW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWdFeHAoY3VyclRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJUb2tUeXBlLlBBVFRFUk4udW5pY29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVPcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmVuc3VyZU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUklOVF9FUlJPUihgJHtmYWlsZWRPcHRpbWl6YXRpb25QcmVmaXhNc2d9YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcXHRVbmFibGUgdG8gYW5hbHl6ZSA8ICR7Y3VyclRva1R5cGUuUEFUVEVSTi50b1N0cmluZygpfSA+IHBhdHRlcm4uXFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx0VGhlIHJlZ2V4cCB1bmljb2RlIGZsYWcgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgYnkgdGhlIHJlZ2V4cC10by1hc3QgbGlicmFyeS5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx0VGhpcyB3aWxsIGRpc2FibGUgdGhlIGxleGVyJ3MgZmlyc3QgY2hhciBvcHRpbWl6YXRpb25zLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHRGb3IgZGV0YWlscyBTZWU6IGh0dHBzOi8vY2hldnJvdGFpbi5pby9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNVTklDT0RFX09QVElNSVpFXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW1pemVkQ29kZXMgPSBnZXRPcHRpbWl6ZWRTdGFydENvZGVzSW5kaWNlcyhjdXJyVG9rVHlwZS5QQVRURVJOLCBvcHRpb25zLmVuc3VyZU9wdGltaXphdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBjb2RlIHdpbGwgb25seSBiZSBlbXB0eSBnaXZlbiBhbiBlbXB0eSByZWdFeHAgb3IgZmFpbHVyZSBvZiByZWdleHAtdG8tYXN0IGxpYnJhcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBmaXJzdCBzaG91bGQgYmUgYSBkaWZmZXJlbnQgdmFsaWRhdGlvbiBhbmQgdGhlIHNlY29uZCBjYW5ub3QgYmUgdGVzdGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRW1wdHkob3B0aW1pemVkQ29kZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2Fubm90IHVuZGVyc3RhbmQgd2hhdCBjb2RlcyBtYXkgc3RhcnQgcG9zc2libGUgbWF0Y2hlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBvcHRpbWl6YXRpb24gY29ycmVjdG5lc3MgcmVxdWlyZXMga25vd2luZyBzdGFydCBjb2RlcyBmb3IgQUxMIHBhdHRlcm5zLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdCBhY3R1YWxseSBzdXJlIHRoaXMgaXMgYW4gZXJyb3IsIG5vIGRlYnVnIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZU9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yRWFjaChvcHRpbWl6ZWRDb2RlcywgKGNvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRUb01hcE9mQXJyYXlzKHJlc3VsdCwgY29kZSwgcGF0dGVybklkeFRvQ29uZmlnW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmVuc3VyZU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBSSU5UX0VSUk9SKGAke2ZhaWxlZE9wdGltaXphdGlvblByZWZpeE1zZ31gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXFx0VG9rZW5UeXBlOiA8JHtjdXJyVG9rVHlwZS5uYW1lfT4gaXMgdXNpbmcgYSBjdXN0b20gdG9rZW4gcGF0dGVybiB3aXRob3V0IHByb3ZpZGluZyA8c3RhcnRfY2hhcnNfaGludD4gcGFyYW1ldGVyLlxcbmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx0VGhpcyB3aWxsIGRpc2FibGUgdGhlIGxleGVyJ3MgZmlyc3QgY2hhciBvcHRpbWl6YXRpb25zLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI0NVU1RPTV9PUFRJTUlaRVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYW5CZU9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1wdHlHcm91cHM6IGVtcHR5R3JvdXBzLFxuICAgICAgICBwYXR0ZXJuSWR4VG9Db25maWc6IHBhdHRlcm5JZHhUb0NvbmZpZyxcbiAgICAgICAgY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZzogY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyxcbiAgICAgICAgaGFzQ3VzdG9tOiBoYXNDdXN0b20sXG4gICAgICAgIGNhbkJlT3B0aW1pemVkOiBjYW5CZU9wdGltaXplZCxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUGF0dGVybnModG9rZW5UeXBlcywgdmFsaWRNb2Rlc05hbWVzKSB7XG4gICAgbGV0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IG1pc3NpbmdSZXN1bHQgPSBmaW5kTWlzc2luZ1BhdHRlcm5zKHRva2VuVHlwZXMpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQobWlzc2luZ1Jlc3VsdC5lcnJvcnMpO1xuICAgIGNvbnN0IGludmFsaWRSZXN1bHQgPSBmaW5kSW52YWxpZFBhdHRlcm5zKG1pc3NpbmdSZXN1bHQudmFsaWQpO1xuICAgIGNvbnN0IHZhbGlkVG9rZW5UeXBlcyA9IGludmFsaWRSZXN1bHQudmFsaWQ7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChpbnZhbGlkUmVzdWx0LmVycm9ycyk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdCh2YWxpZGF0ZVJlZ0V4cFBhdHRlcm4odmFsaWRUb2tlblR5cGVzKSk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmaW5kSW52YWxpZEdyb3VwVHlwZSh2YWxpZFRva2VuVHlwZXMpKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRNb2Rlc1RoYXREb05vdEV4aXN0KHZhbGlkVG9rZW5UeXBlcywgdmFsaWRNb2Rlc05hbWVzKSk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmaW5kVW5yZWFjaGFibGVQYXR0ZXJucyh2YWxpZFRva2VuVHlwZXMpKTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVSZWdFeHBQYXR0ZXJuKHRva2VuVHlwZXMpIHtcbiAgICBsZXQgZXJyb3JzID0gW107XG4gICAgY29uc3Qgd2l0aFJlZ0V4cFBhdHRlcm5zID0gZmlsdGVyKHRva2VuVHlwZXMsIChjdXJyVG9rVHlwZSkgPT4gaXNSZWdFeHAoY3VyclRva1R5cGVbUEFUVEVSTl0pKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRFbmRPZklucHV0QW5jaG9yKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZFN0YXJ0T2ZJbnB1dEFuY2hvcih3aXRoUmVnRXhwUGF0dGVybnMpKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRVbnN1cHBvcnRlZEZsYWdzKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZER1cGxpY2F0ZVBhdHRlcm5zKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZEVtcHR5TWF0Y2hSZWdFeHBzKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZE1pc3NpbmdQYXR0ZXJucyh0b2tlblR5cGVzKSB7XG4gICAgY29uc3QgdG9rZW5UeXBlc1dpdGhNaXNzaW5nUGF0dGVybiA9IGZpbHRlcih0b2tlblR5cGVzLCAoY3VyclR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuICFoYXMoY3VyclR5cGUsIFBBVFRFUk4pO1xuICAgIH0pO1xuICAgIGNvbnN0IGVycm9ycyA9IG1hcCh0b2tlblR5cGVzV2l0aE1pc3NpbmdQYXR0ZXJuLCAoY3VyclR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9rZW4gVHlwZTogLT5cIiArXG4gICAgICAgICAgICAgICAgY3VyclR5cGUubmFtZSArXG4gICAgICAgICAgICAgICAgXCI8LSBtaXNzaW5nIHN0YXRpYyAnUEFUVEVSTicgcHJvcGVydHlcIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5NSVNTSU5HX1BBVFRFUk4sXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBbY3VyclR5cGVdLFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHZhbGlkID0gZGlmZmVyZW5jZSh0b2tlblR5cGVzLCB0b2tlblR5cGVzV2l0aE1pc3NpbmdQYXR0ZXJuKTtcbiAgICByZXR1cm4geyBlcnJvcnMsIHZhbGlkIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZEludmFsaWRQYXR0ZXJucyh0b2tlblR5cGVzKSB7XG4gICAgY29uc3QgdG9rZW5UeXBlc1dpdGhJbnZhbGlkUGF0dGVybiA9IGZpbHRlcih0b2tlblR5cGVzLCAoY3VyclR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IGN1cnJUeXBlW1BBVFRFUk5dO1xuICAgICAgICByZXR1cm4gKCFpc1JlZ0V4cChwYXR0ZXJuKSAmJlxuICAgICAgICAgICAgIWlzRnVuY3Rpb24ocGF0dGVybikgJiZcbiAgICAgICAgICAgICFoYXMocGF0dGVybiwgXCJleGVjXCIpICYmXG4gICAgICAgICAgICAhaXNTdHJpbmcocGF0dGVybikpO1xuICAgIH0pO1xuICAgIGNvbnN0IGVycm9ycyA9IG1hcCh0b2tlblR5cGVzV2l0aEludmFsaWRQYXR0ZXJuLCAoY3VyclR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9rZW4gVHlwZTogLT5cIiArXG4gICAgICAgICAgICAgICAgY3VyclR5cGUubmFtZSArXG4gICAgICAgICAgICAgICAgXCI8LSBzdGF0aWMgJ1BBVFRFUk4nIGNhbiBvbmx5IGJlIGEgUmVnRXhwLCBhXCIgK1xuICAgICAgICAgICAgICAgIFwiIEZ1bmN0aW9uIG1hdGNoaW5nIHRoZSB7Q3VzdG9tUGF0dGVybk1hdGNoZXJGdW5jfSB0eXBlIG9yIGFuIE9iamVjdCBtYXRjaGluZyB0aGUge0lDdXN0b21QYXR0ZXJufSBpbnRlcmZhY2UuXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuSU5WQUxJRF9QQVRURVJOLFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW2N1cnJUeXBlXSxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCB2YWxpZCA9IGRpZmZlcmVuY2UodG9rZW5UeXBlcywgdG9rZW5UeXBlc1dpdGhJbnZhbGlkUGF0dGVybik7XG4gICAgcmV0dXJuIHsgZXJyb3JzLCB2YWxpZCB9O1xufVxuY29uc3QgZW5kX29mX2lucHV0ID0gL1teXFxcXF1bJF0vO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRFbmRPZklucHV0QW5jaG9yKHRva2VuVHlwZXMpIHtcbiAgICBjbGFzcyBFbmRBbmNob3JGaW5kZXIgZXh0ZW5kcyBCYXNlUmVnRXhwVmlzaXRvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHRoaXMuZm91bmQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2aXNpdEVuZEFuY2hvcihub2RlKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbnZhbGlkUmVnZXggPSBmaWx0ZXIodG9rZW5UeXBlcywgKGN1cnJUeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSBjdXJyVHlwZS5QQVRURVJOO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVnZXhwQXN0ID0gZ2V0UmVnRXhwQXN0KHBhdHRlcm4pO1xuICAgICAgICAgICAgY29uc3QgZW5kQW5jaG9yVmlzaXRvciA9IG5ldyBFbmRBbmNob3JGaW5kZXIoKTtcbiAgICAgICAgICAgIGVuZEFuY2hvclZpc2l0b3IudmlzaXQocmVnZXhwQXN0KTtcbiAgICAgICAgICAgIHJldHVybiBlbmRBbmNob3JWaXNpdG9yLmZvdW5kO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBvbGQgYmVoYXZpb3IgaW4gY2FzZSBvZiBydW50aW1lIGV4Y2VwdGlvbnMgd2l0aCByZWdleHAtdG8tYXN0LlxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBjYW5ub3QgZW5zdXJlIGFuIGVycm9yIGluIHJlZ2V4cC10by1hc3QqL1xuICAgICAgICAgICAgcmV0dXJuIGVuZF9vZl9pbnB1dC50ZXN0KHBhdHRlcm4uc291cmNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGVycm9ycyA9IG1hcChpbnZhbGlkUmVnZXgsIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJVbmV4cGVjdGVkIFJlZ0V4cCBBbmNob3IgRXJyb3I6XFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0VG9rZW4gVHlwZTogLT5cIiArXG4gICAgICAgICAgICAgICAgY3VyclR5cGUubmFtZSArXG4gICAgICAgICAgICAgICAgXCI8LSBzdGF0aWMgJ1BBVFRFUk4nIGNhbm5vdCBjb250YWluIGVuZCBvZiBpbnB1dCBhbmNob3IgJyQnXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0U2VlIGNoZXZyb3RhaW4uaW8vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjQU5DSE9SU1wiICtcbiAgICAgICAgICAgICAgICBcIlxcdGZvciBkZXRhaWxzLlwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLkVPSV9BTkNIT1JfRk9VTkQsXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBbY3VyclR5cGVdLFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZEVtcHR5TWF0Y2hSZWdFeHBzKHRva2VuVHlwZXMpIHtcbiAgICBjb25zdCBtYXRjaGVzRW1wdHlTdHJpbmcgPSBmaWx0ZXIodG9rZW5UeXBlcywgKGN1cnJUeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSBjdXJyVHlwZS5QQVRURVJOO1xuICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KFwiXCIpO1xuICAgIH0pO1xuICAgIGNvbnN0IGVycm9ycyA9IG1hcChtYXRjaGVzRW1wdHlTdHJpbmcsIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIHN0YXRpYyAnUEFUVEVSTicgbXVzdCBub3QgbWF0Y2ggYW4gZW1wdHkgc3RyaW5nXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuRU1QVFlfTUFUQ0hfUEFUVEVSTixcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV0sXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmNvbnN0IHN0YXJ0X29mX2lucHV0ID0gL1teXFxcXFtdW1xcXl18XlxcXi87XG5leHBvcnQgZnVuY3Rpb24gZmluZFN0YXJ0T2ZJbnB1dEFuY2hvcih0b2tlblR5cGVzKSB7XG4gICAgY2xhc3MgU3RhcnRBbmNob3JGaW5kZXIgZXh0ZW5kcyBCYXNlUmVnRXhwVmlzaXRvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHRoaXMuZm91bmQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2aXNpdFN0YXJ0QW5jaG9yKG5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGludmFsaWRSZWdleCA9IGZpbHRlcih0b2tlblR5cGVzLCAoY3VyclR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IGN1cnJUeXBlLlBBVFRFUk47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZWdleHBBc3QgPSBnZXRSZWdFeHBBc3QocGF0dGVybik7XG4gICAgICAgICAgICBjb25zdCBzdGFydEFuY2hvclZpc2l0b3IgPSBuZXcgU3RhcnRBbmNob3JGaW5kZXIoKTtcbiAgICAgICAgICAgIHN0YXJ0QW5jaG9yVmlzaXRvci52aXNpdChyZWdleHBBc3QpO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0QW5jaG9yVmlzaXRvci5mb3VuZDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gb2xkIGJlaGF2aW9yIGluIGNhc2Ugb2YgcnVudGltZSBleGNlcHRpb25zIHdpdGggcmVnZXhwLXRvLWFzdC5cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gY2Fubm90IGVuc3VyZSBhbiBlcnJvciBpbiByZWdleHAtdG8tYXN0Ki9cbiAgICAgICAgICAgIHJldHVybiBzdGFydF9vZl9pbnB1dC50ZXN0KHBhdHRlcm4uc291cmNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGVycm9ycyA9IG1hcChpbnZhbGlkUmVnZXgsIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJVbmV4cGVjdGVkIFJlZ0V4cCBBbmNob3IgRXJyb3I6XFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0VG9rZW4gVHlwZTogLT5cIiArXG4gICAgICAgICAgICAgICAgY3VyclR5cGUubmFtZSArXG4gICAgICAgICAgICAgICAgXCI8LSBzdGF0aWMgJ1BBVFRFUk4nIGNhbm5vdCBjb250YWluIHN0YXJ0IG9mIGlucHV0IGFuY2hvciAnXidcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRTZWUgaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI0FOQ0hPUlNcIiArXG4gICAgICAgICAgICAgICAgXCJcXHRmb3IgZGV0YWlscy5cIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5TT0lfQU5DSE9SX0ZPVU5ELFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW2N1cnJUeXBlXSxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRVbnN1cHBvcnRlZEZsYWdzKHRva2VuVHlwZXMpIHtcbiAgICBjb25zdCBpbnZhbGlkRmxhZ3MgPSBmaWx0ZXIodG9rZW5UeXBlcywgKGN1cnJUeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSBjdXJyVHlwZVtQQVRURVJOXTtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHAgJiYgKHBhdHRlcm4ubXVsdGlsaW5lIHx8IHBhdHRlcm4uZ2xvYmFsKTtcbiAgICB9KTtcbiAgICBjb25zdCBlcnJvcnMgPSBtYXAoaW52YWxpZEZsYWdzLCAoY3VyclR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9rZW4gVHlwZTogLT5cIiArXG4gICAgICAgICAgICAgICAgY3VyclR5cGUubmFtZSArXG4gICAgICAgICAgICAgICAgXCI8LSBzdGF0aWMgJ1BBVFRFUk4nIG1heSBOT1QgY29udGFpbiBnbG9iYWwoJ2cnKSBvciBtdWx0aWxpbmUoJ20nKVwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLlVOU1VQUE9SVEVEX0ZMQUdTX0ZPVU5ELFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW2N1cnJUeXBlXSxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuLy8gVGhpcyBjYW4gb25seSB0ZXN0IGZvciBpZGVudGljYWwgZHVwbGljYXRlIFJlZ0V4cHMsIG5vdCBzZW1hbnRpY2FsbHkgZXF1aXZhbGVudCBvbmVzLlxuZXhwb3J0IGZ1bmN0aW9uIGZpbmREdXBsaWNhdGVQYXR0ZXJucyh0b2tlblR5cGVzKSB7XG4gICAgY29uc3QgZm91bmQgPSBbXTtcbiAgICBsZXQgaWRlbnRpY2FsUGF0dGVybnMgPSBtYXAodG9rZW5UeXBlcywgKG91dGVyVHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4gcmVkdWNlKHRva2VuVHlwZXMsIChyZXN1bHQsIGlubmVyVHlwZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG91dGVyVHlwZS5QQVRURVJOLnNvdXJjZSA9PT0gaW5uZXJUeXBlLlBBVFRFUk4uc291cmNlICYmXG4gICAgICAgICAgICAgICAgIWluY2x1ZGVzKGZvdW5kLCBpbm5lclR5cGUpICYmXG4gICAgICAgICAgICAgICAgaW5uZXJUeXBlLlBBVFRFUk4gIT09IExleGVyLk5BKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBhdm9pZHMgZHVwbGljYXRlcyBpbiB0aGUgcmVzdWx0LCBlYWNoIFRva2VuIFR5cGUgbWF5IG9ubHkgYXBwZWFyIGluIG9uZSBcInNldFwiXG4gICAgICAgICAgICAgICAgLy8gaW4gZXNzZW5jZSB3ZSBhcmUgY3JlYXRpbmcgRXF1aXZhbGVuY2UgY2xhc3NlcyBvbiBlcXVhbGl0eSByZWxhdGlvbi5cbiAgICAgICAgICAgICAgICBmb3VuZC5wdXNoKGlubmVyVHlwZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaW5uZXJUeXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwgW10pO1xuICAgIH0pO1xuICAgIGlkZW50aWNhbFBhdHRlcm5zID0gY29tcGFjdChpZGVudGljYWxQYXR0ZXJucyk7XG4gICAgY29uc3QgZHVwbGljYXRlUGF0dGVybnMgPSBmaWx0ZXIoaWRlbnRpY2FsUGF0dGVybnMsIChjdXJySWRlbnRpY2FsU2V0KSA9PiB7XG4gICAgICAgIHJldHVybiBjdXJySWRlbnRpY2FsU2V0Lmxlbmd0aCA+IDE7XG4gICAgfSk7XG4gICAgY29uc3QgZXJyb3JzID0gbWFwKGR1cGxpY2F0ZVBhdHRlcm5zLCAoc2V0T2ZJZGVudGljYWwpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW5UeXBlTmFtZXMgPSBtYXAoc2V0T2ZJZGVudGljYWwsIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJUeXBlLm5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBkdXBQYXR0ZXJuU3JjID0gZmlyc3Qoc2V0T2ZJZGVudGljYWwpLlBBVFRFUk47XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBgVGhlIHNhbWUgUmVnRXhwIHBhdHRlcm4gLT4ke2R1cFBhdHRlcm5TcmN9PC1gICtcbiAgICAgICAgICAgICAgICBgaGFzIGJlZW4gdXNlZCBpbiBhbGwgb2YgdGhlIGZvbGxvd2luZyBUb2tlbiBUeXBlczogJHt0b2tlblR5cGVOYW1lcy5qb2luKFwiLCBcIil9IDwtYCxcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5EVVBMSUNBVEVfUEFUVEVSTlNfRk9VTkQsXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBzZXRPZklkZW50aWNhbCxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbnZhbGlkR3JvdXBUeXBlKHRva2VuVHlwZXMpIHtcbiAgICBjb25zdCBpbnZhbGlkVHlwZXMgPSBmaWx0ZXIodG9rZW5UeXBlcywgKGNsYXp6KSA9PiB7XG4gICAgICAgIGlmICghaGFzKGNsYXp6LCBcIkdST1VQXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ3JvdXAgPSBjbGF6ei5HUk9VUDtcbiAgICAgICAgcmV0dXJuIGdyb3VwICE9PSBMZXhlci5TS0lQUEVEICYmIGdyb3VwICE9PSBMZXhlci5OQSAmJiAhaXNTdHJpbmcoZ3JvdXApO1xuICAgIH0pO1xuICAgIGNvbnN0IGVycm9ycyA9IG1hcChpbnZhbGlkVHlwZXMsIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIHN0YXRpYyAnR1JPVVAnIGNhbiBvbmx5IGJlIExleGVyLlNLSVBQRUQvTGV4ZXIuTkEvQSBTdHJpbmdcIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5JTlZBTElEX0dST1VQX1RZUEVfRk9VTkQsXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBbY3VyclR5cGVdLFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZE1vZGVzVGhhdERvTm90RXhpc3QodG9rZW5UeXBlcywgdmFsaWRNb2Rlcykge1xuICAgIGNvbnN0IGludmFsaWRNb2RlcyA9IGZpbHRlcih0b2tlblR5cGVzLCAoY2xhenopID0+IHtcbiAgICAgICAgcmV0dXJuIChjbGF6ei5QVVNIX01PREUgIT09IHVuZGVmaW5lZCAmJiAhaW5jbHVkZXModmFsaWRNb2RlcywgY2xhenouUFVTSF9NT0RFKSk7XG4gICAgfSk7XG4gICAgY29uc3QgZXJyb3JzID0gbWFwKGludmFsaWRNb2RlcywgKHRva1R5cGUpID0+IHtcbiAgICAgICAgY29uc3QgbXNnID0gYFRva2VuIFR5cGU6IC0+JHt0b2tUeXBlLm5hbWV9PC0gc3RhdGljICdQVVNIX01PREUnIHZhbHVlIGNhbm5vdCByZWZlciB0byBhIExleGVyIE1vZGUgLT4ke3Rva1R5cGUuUFVTSF9NT0RFfTwtYCArXG4gICAgICAgICAgICBgd2hpY2ggZG9lcyBub3QgZXhpc3RgO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogbXNnLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLlBVU0hfTU9ERV9ET0VTX05PVF9FWElTVCxcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFt0b2tUeXBlXSxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRVbnJlYWNoYWJsZVBhdHRlcm5zKHRva2VuVHlwZXMpIHtcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICBjb25zdCBjYW5CZVRlc3RlZCA9IHJlZHVjZSh0b2tlblR5cGVzLCAocmVzdWx0LCB0b2tUeXBlLCBpZHgpID0+IHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IHRva1R5cGUuUEFUVEVSTjtcbiAgICAgICAgaWYgKHBhdHRlcm4gPT09IExleGVyLk5BKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIGEgbW9yZSBjb21wcmVoZW5zaXZlIHZhbGlkYXRpb24gZm9yIGFsbCBmb3JtcyBvZiByZWdFeHBzIHdvdWxkIHJlcXVpcmVcbiAgICAgICAgLy8gZGVlcGVyIHJlZ0V4cCBhbmFseXNpcyBjYXBhYmlsaXRpZXNcbiAgICAgICAgaWYgKGlzU3RyaW5nKHBhdHRlcm4pKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7IHN0cjogcGF0dGVybiwgaWR4LCB0b2tlblR5cGU6IHRva1R5cGUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNSZWdFeHAocGF0dGVybikgJiYgbm9NZXRhQ2hhcihwYXR0ZXJuKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBzdHI6IHBhdHRlcm4uc291cmNlLCBpZHgsIHRva2VuVHlwZTogdG9rVHlwZSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIFtdKTtcbiAgICBmb3JFYWNoKHRva2VuVHlwZXMsICh0b2tUeXBlLCB0ZXN0SWR4KSA9PiB7XG4gICAgICAgIGZvckVhY2goY2FuQmVUZXN0ZWQsICh7IHN0ciwgaWR4LCB0b2tlblR5cGUgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRlc3RJZHggPCBpZHggJiYgdGVzdFRva2VuVHlwZShzdHIsIHRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBgVG9rZW46IC0+JHt0b2tlblR5cGUubmFtZX08LSBjYW4gbmV2ZXIgYmUgbWF0Y2hlZC5cXG5gICtcbiAgICAgICAgICAgICAgICAgICAgYEJlY2F1c2UgaXQgYXBwZWFycyBBRlRFUiB0aGUgVG9rZW4gVHlwZSAtPiR7dG9rVHlwZS5uYW1lfTwtYCArXG4gICAgICAgICAgICAgICAgICAgIGBpbiB0aGUgbGV4ZXIncyBkZWZpbml0aW9uLlxcbmAgK1xuICAgICAgICAgICAgICAgICAgICBgU2VlIGh0dHBzOi8vY2hldnJvdGFpbi5pby9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNVTlJFQUNIQUJMRWA7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2csXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5VTlJFQUNIQUJMRV9QQVRURVJOLFxuICAgICAgICAgICAgICAgICAgICB0b2tlblR5cGVzOiBbdG9rVHlwZSwgdG9rZW5UeXBlXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmZ1bmN0aW9uIHRlc3RUb2tlblR5cGUoc3RyLCBwYXR0ZXJuKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoaXNSZWdFeHAocGF0dGVybikpIHtcbiAgICAgICAgY29uc3QgcmVnRXhwQXJyYXkgPSBwYXR0ZXJuLmV4ZWMoc3RyKTtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cEFycmF5ICE9PSBudWxsICYmIHJlZ0V4cEFycmF5LmluZGV4ID09PSAwO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHBhdHRlcm4pKSB7XG4gICAgICAgIC8vIG1haW50YWluIHRoZSBBUEkgb2YgY3VzdG9tIHBhdHRlcm5zXG4gICAgICAgIHJldHVybiBwYXR0ZXJuKHN0ciwgMCwgW10sIHt9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaGFzKHBhdHRlcm4sIFwiZXhlY1wiKSkge1xuICAgICAgICAvLyBtYWludGFpbiB0aGUgQVBJIG9mIGN1c3RvbSBwYXR0ZXJuc1xuICAgICAgICByZXR1cm4gcGF0dGVybi5leGVjKHN0ciwgMCwgW10sIHt9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHBhdHRlcm4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4gPT09IHN0cjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgfVxufVxuZnVuY3Rpb24gbm9NZXRhQ2hhcihyZWdFeHApIHtcbiAgICAvL2h0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1JlZ0V4cFxuICAgIGNvbnN0IG1ldGFDaGFycyA9IFtcbiAgICAgICAgXCIuXCIsXG4gICAgICAgIFwiXFxcXFwiLFxuICAgICAgICBcIltcIixcbiAgICAgICAgXCJdXCIsXG4gICAgICAgIFwifFwiLFxuICAgICAgICBcIl5cIixcbiAgICAgICAgXCIkXCIsXG4gICAgICAgIFwiKFwiLFxuICAgICAgICBcIilcIixcbiAgICAgICAgXCI/XCIsXG4gICAgICAgIFwiKlwiLFxuICAgICAgICBcIitcIixcbiAgICAgICAgXCJ7XCIsXG4gICAgXTtcbiAgICByZXR1cm4gKGZpbmQobWV0YUNoYXJzLCAoY2hhcikgPT4gcmVnRXhwLnNvdXJjZS5pbmRleE9mKGNoYXIpICE9PSAtMSkgPT09IHVuZGVmaW5lZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkU3RhcnRPZklucHV0KHBhdHRlcm4pIHtcbiAgICBjb25zdCBmbGFncyA9IHBhdHRlcm4uaWdub3JlQ2FzZSA/IFwiaVwiIDogXCJcIjtcbiAgICAvLyBhbHdheXMgd3JhcHBpbmcgaW4gYSBub25lIGNhcHR1cmluZyBncm91cCBwcmVjZWRlZCBieSAnXicgdG8gbWFrZSBzdXJlIG1hdGNoaW5nIGNhbiBvbmx5IHdvcmsgb24gc3RhcnQgb2YgaW5wdXQuXG4gICAgLy8gZHVwbGljYXRlL3JlZHVuZGFudCBzdGFydCBvZiBpbnB1dCBtYXJrZXJzIGhhdmUgbm8gbWVhbmluZyAoL15eXl5BLyA9PT0gL15BLylcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXig/OiR7cGF0dGVybi5zb3VyY2V9KWAsIGZsYWdzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRTdGlja3lGbGFnKHBhdHRlcm4pIHtcbiAgICBjb25zdCBmbGFncyA9IHBhdHRlcm4uaWdub3JlQ2FzZSA/IFwiaXlcIiA6IFwieVwiO1xuICAgIC8vIGFsd2F5cyB3cmFwcGluZyBpbiBhIG5vbmUgY2FwdHVyaW5nIGdyb3VwIHByZWNlZGVkIGJ5ICdeJyB0byBtYWtlIHN1cmUgbWF0Y2hpbmcgY2FuIG9ubHkgd29yayBvbiBzdGFydCBvZiBpbnB1dC5cbiAgICAvLyBkdXBsaWNhdGUvcmVkdW5kYW50IHN0YXJ0IG9mIGlucHV0IG1hcmtlcnMgaGF2ZSBubyBtZWFuaW5nICgvXl5eXkEvID09PSAvXkEvKVxuICAgIHJldHVybiBuZXcgUmVnRXhwKGAke3BhdHRlcm4uc291cmNlfWAsIGZsYWdzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwZXJmb3JtUnVudGltZUNoZWNrcyhsZXhlckRlZmluaXRpb24sIHRyYWNrTGluZXMsIGxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycykge1xuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIC8vIHNvbWUgcnVuIHRpbWUgY2hlY2tzIHRvIGhlbHAgdGhlIGVuZCB1c2Vycy5cbiAgICBpZiAoIWhhcyhsZXhlckRlZmluaXRpb24sIERFRkFVTFRfTU9ERSkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJBIE11bHRpTW9kZSBMZXhlciBjYW5ub3QgYmUgaW5pdGlhbGl6ZWQgd2l0aG91dCBhIDxcIiArXG4gICAgICAgICAgICAgICAgREVGQVVMVF9NT0RFICtcbiAgICAgICAgICAgICAgICBcIj4gcHJvcGVydHkgaW4gaXRzIGRlZmluaXRpb25cXG5cIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5NVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfREVGQVVMVF9NT0RFLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFoYXMobGV4ZXJEZWZpbml0aW9uLCBNT0RFUykpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJBIE11bHRpTW9kZSBMZXhlciBjYW5ub3QgYmUgaW5pdGlhbGl6ZWQgd2l0aG91dCBhIDxcIiArXG4gICAgICAgICAgICAgICAgTU9ERVMgK1xuICAgICAgICAgICAgICAgIFwiPiBwcm9wZXJ0eSBpbiBpdHMgZGVmaW5pdGlvblxcblwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9NT0RFU19QUk9QRVJUWSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChoYXMobGV4ZXJEZWZpbml0aW9uLCBNT0RFUykgJiZcbiAgICAgICAgaGFzKGxleGVyRGVmaW5pdGlvbiwgREVGQVVMVF9NT0RFKSAmJlxuICAgICAgICAhaGFzKGxleGVyRGVmaW5pdGlvbi5tb2RlcywgbGV4ZXJEZWZpbml0aW9uLmRlZmF1bHRNb2RlKSkge1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBgQSBNdWx0aU1vZGUgTGV4ZXIgY2Fubm90IGJlIGluaXRpYWxpemVkIHdpdGggYSAke0RFRkFVTFRfTU9ERX06IDwke2xleGVyRGVmaW5pdGlvbi5kZWZhdWx0TW9kZX0+YCArXG4gICAgICAgICAgICAgICAgYHdoaWNoIGRvZXMgbm90IGV4aXN0XFxuYCxcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5NVUxUSV9NT0RFX0xFWEVSX0RFRkFVTFRfTU9ERV9WQUxVRV9ET0VTX05PVF9FWElTVCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChoYXMobGV4ZXJEZWZpbml0aW9uLCBNT0RFUykpIHtcbiAgICAgICAgZm9yRWFjaChsZXhlckRlZmluaXRpb24ubW9kZXMsIChjdXJyTW9kZVZhbHVlLCBjdXJyTW9kZU5hbWUpID0+IHtcbiAgICAgICAgICAgIGZvckVhY2goY3Vyck1vZGVWYWx1ZSwgKGN1cnJUb2tUeXBlLCBjdXJySWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGN1cnJUb2tUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQSBMZXhlciBjYW5ub3QgYmUgaW5pdGlhbGl6ZWQgdXNpbmcgYW4gdW5kZWZpbmVkIFRva2VuIFR5cGUuIE1vZGU6YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYDwke2N1cnJNb2RlTmFtZX0+IGF0IGluZGV4OiA8JHtjdXJySWR4fT5cXG5gLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLkxFWEVSX0RFRklOSVRJT05fQ0FOTk9UX0NPTlRBSU5fVU5ERUZJTkVELFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGFzKGN1cnJUb2tUeXBlLCBcIkxPTkdFUl9BTFRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9uZ2VyQWx0ID0gaXNBcnJheShjdXJyVG9rVHlwZS5MT05HRVJfQUxUKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjdXJyVG9rVHlwZS5MT05HRVJfQUxUXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtjdXJyVG9rVHlwZS5MT05HRVJfQUxUXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yRWFjaChsb25nZXJBbHQsIChjdXJyTG9uZ2VyQWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGN1cnJMb25nZXJBbHQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWluY2x1ZGVzKGN1cnJNb2RlVmFsdWUsIGN1cnJMb25nZXJBbHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQSBNdWx0aU1vZGUgTGV4ZXIgY2Fubm90IGJlIGluaXRpYWxpemVkIHdpdGggYSBsb25nZXJfYWx0IDwke2N1cnJMb25nZXJBbHQubmFtZX0+IG9uIHRva2VuIDwke2N1cnJUb2tUeXBlLm5hbWV9PiBvdXRzaWRlIG9mIG1vZGUgPCR7Y3Vyck1vZGVOYW1lfT5cXG5gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuTVVMVElfTU9ERV9MRVhFUl9MT05HRVJfQUxUX05PVF9JTl9DVVJSRU5UX01PREUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBwZXJmb3JtV2FybmluZ1J1bnRpbWVDaGVja3MobGV4ZXJEZWZpbml0aW9uLCB0cmFja0xpbmVzLCBsaW5lVGVybWluYXRvckNoYXJhY3RlcnMpIHtcbiAgICBjb25zdCB3YXJuaW5ncyA9IFtdO1xuICAgIGxldCBoYXNBbnlMaW5lQnJlYWsgPSBmYWxzZTtcbiAgICBjb25zdCBhbGxUb2tlblR5cGVzID0gY29tcGFjdChmbGF0dGVuKHZhbHVlcyhsZXhlckRlZmluaXRpb24ubW9kZXMpKSk7XG4gICAgY29uc3QgY29uY3JldGVUb2tlblR5cGVzID0gcmVqZWN0KGFsbFRva2VuVHlwZXMsIChjdXJyVHlwZSkgPT4gY3VyclR5cGVbUEFUVEVSTl0gPT09IExleGVyLk5BKTtcbiAgICBjb25zdCB0ZXJtaW5hdG9yQ2hhckNvZGVzID0gZ2V0Q2hhckNvZGVzKGxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycyk7XG4gICAgaWYgKHRyYWNrTGluZXMpIHtcbiAgICAgICAgZm9yRWFjaChjb25jcmV0ZVRva2VuVHlwZXMsICh0b2tUeXBlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJySXNzdWUgPSBjaGVja0xpbmVCcmVha3NJc3N1ZXModG9rVHlwZSwgdGVybWluYXRvckNoYXJDb2Rlcyk7XG4gICAgICAgICAgICBpZiAoY3Vycklzc3VlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBidWlsZExpbmVCcmVha0lzc3VlTWVzc2FnZSh0b2tUeXBlLCBjdXJySXNzdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhcm5pbmdEZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBjdXJySXNzdWUuaXNzdWUsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuVHlwZTogdG9rVHlwZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHdhcm5pbmdzLnB1c2god2FybmluZ0Rlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byBhdHRlbXB0IHRvIHNjYW4gaWYgdGhlIHVzZXIgZXhwbGljaXRseSBzcGVjaWZpZWQgdGhlIGxpbmVfYnJlYWtzIG9wdGlvbi5cbiAgICAgICAgICAgICAgICBpZiAoaGFzKHRva1R5cGUsIFwiTElORV9CUkVBS1NcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva1R5cGUuTElORV9CUkVBS1MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0FueUxpbmVCcmVhayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5NYXRjaENoYXJDb2RlKHRlcm1pbmF0b3JDaGFyQ29kZXMsIHRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0FueUxpbmVCcmVhayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodHJhY2tMaW5lcyAmJiAhaGFzQW55TGluZUJyZWFrKSB7XG4gICAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJXYXJuaW5nOiBObyBMSU5FX0JSRUFLUyBGb3VuZC5cXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRUaGlzIExleGVyIGhhcyBiZWVuIGRlZmluZWQgdG8gdHJhY2sgbGluZSBhbmQgY29sdW1uIGluZm9ybWF0aW9uLFxcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdEJ1dCBub25lIG9mIHRoZSBUb2tlbiBUeXBlcyBjYW4gYmUgaWRlbnRpZmllZCBhcyBtYXRjaGluZyBhIGxpbmUgdGVybWluYXRvci5cXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRTZWUgaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI0xJTkVfQlJFQUtTIFxcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdGZvciBkZXRhaWxzLlwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk5PX0xJTkVfQlJFQUtTX0ZMQUdTLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHdhcm5pbmdzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRW1wdHlHcm91cHMoZW1wdHlHcm91cHMpIHtcbiAgICBjb25zdCBjbG9uZWRSZXN1bHQgPSB7fTtcbiAgICBjb25zdCBncm91cEtleXMgPSBrZXlzKGVtcHR5R3JvdXBzKTtcbiAgICBmb3JFYWNoKGdyb3VwS2V5cywgKGN1cnJLZXkpID0+IHtcbiAgICAgICAgY29uc3QgY3Vyckdyb3VwVmFsdWUgPSBlbXB0eUdyb3Vwc1tjdXJyS2V5XTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGlzQXJyYXkoY3Vyckdyb3VwVmFsdWUpKSB7XG4gICAgICAgICAgICBjbG9uZWRSZXN1bHRbY3VycktleV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmVkUmVzdWx0O1xufVxuLy8gVE9ETzogcmVmYWN0b3IgdG8gYXZvaWQgZHVwbGljYXRpb25cbmV4cG9ydCBmdW5jdGlvbiBpc0N1c3RvbVBhdHRlcm4odG9rZW5UeXBlKSB7XG4gICAgY29uc3QgcGF0dGVybiA9IHRva2VuVHlwZS5QQVRURVJOO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihwYXR0ZXJuKSkge1xuICAgICAgICAvLyBDdXN0b21QYXR0ZXJuTWF0Y2hlckZ1bmMgLSBjdXN0b20gcGF0dGVybnMgZG8gbm90IHJlcXVpcmUgYW55IHRyYW5zZm9ybWF0aW9ucywgb25seSB3cmFwcGluZyBpbiBhIFJlZ0V4cCBMaWtlIG9iamVjdFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaGFzKHBhdHRlcm4sIFwiZXhlY1wiKSkge1xuICAgICAgICAvLyBJQ3VzdG9tUGF0dGVyblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTaG9ydFBhdHRlcm4ocGF0dGVybikge1xuICAgIGlmIChpc1N0cmluZyhwYXR0ZXJuKSAmJiBwYXR0ZXJuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gcGF0dGVybi5jaGFyQ29kZUF0KDApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogRmFzdGVyIHRoYW4gdXNpbmcgYSBSZWdFeHAgZm9yIGRlZmF1bHQgbmV3bGluZSBkZXRlY3Rpb24gZHVyaW5nIGxleGluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IExpbmVUZXJtaW5hdG9yT3B0aW1pemVkVGVzdGVyID0ge1xuICAgIC8vIGltcGxlbWVudHMgL1xcbnxcXHJcXG4/L2cudGVzdFxuICAgIHRlc3Q6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IHRleHQubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5sYXN0SW5kZXg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYyA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjID09PSAxMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdEluZGV4ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjID09PSAxMykge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQoaSArIDEpID09PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RJbmRleCA9IGkgKyAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0SW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgbGFzdEluZGV4OiAwLFxufTtcbmZ1bmN0aW9uIGNoZWNrTGluZUJyZWFrc0lzc3Vlcyh0b2tUeXBlLCBsaW5lVGVybWluYXRvckNoYXJDb2Rlcykge1xuICAgIGlmIChoYXModG9rVHlwZSwgXCJMSU5FX0JSRUFLU1wiKSkge1xuICAgICAgICAvLyBpZiB0aGUgdXNlciBleHBsaWNpdGx5IGRlY2xhcmVkIHRoZSBsaW5lX2JyZWFrcyBvcHRpb24gd2Ugd2lsbCByZXNwZWN0IHRoZWlyIGNob2ljZVxuICAgICAgICAvLyBhbmQgYXNzdW1lIGl0IGlzIGNvcnJlY3QuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChpc1JlZ0V4cCh0b2tUeXBlLlBBVFRFUk4pKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHdoeSBpcyB0aGUgY2FzdGluZyBzdWRkZW5seSBuZWVkZWQ/XG4gICAgICAgICAgICAgICAgY2FuTWF0Y2hDaGFyQ29kZShsaW5lVGVybWluYXRvckNoYXJDb2RlcywgdG9rVHlwZS5QQVRURVJOKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSB0byB0ZXN0IHRoaXMgd2Ugd291bGQgaGF2ZSB0byBtb2NrIDxjYW5NYXRjaENoYXJDb2RlPiB0byB0aHJvdyBhbiBlcnJvciAqL1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuSURFTlRJRllfVEVSTUlOQVRPUixcbiAgICAgICAgICAgICAgICAgICAgZXJyTXNnOiBlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1N0cmluZyh0b2tUeXBlLlBBVFRFUk4pKSB7XG4gICAgICAgICAgICAvLyBzdHJpbmcgbGl0ZXJhbCBwYXR0ZXJucyBjYW4gYWx3YXlzIGJlIGFuYWx5emVkIHRvIGRldGVjdCBsaW5lIHRlcm1pbmF0b3IgdXNhZ2VcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0N1c3RvbVBhdHRlcm4odG9rVHlwZSkpIHtcbiAgICAgICAgICAgIC8vIGN1c3RvbSB0b2tlbiB0eXBlc1xuICAgICAgICAgICAgcmV0dXJuIHsgaXNzdWU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5DVVNUT01fTElORV9CUkVBSyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZExpbmVCcmVha0lzc3VlTWVzc2FnZSh0b2tUeXBlLCBkZXRhaWxzKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoZGV0YWlscy5pc3N1ZSA9PT0gTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLklERU5USUZZX1RFUk1JTkFUT1IpIHtcbiAgICAgICAgcmV0dXJuIChcIldhcm5pbmc6IHVuYWJsZSB0byBpZGVudGlmeSBsaW5lIHRlcm1pbmF0b3IgdXNhZ2UgaW4gcGF0dGVybi5cXG5cIiArXG4gICAgICAgICAgICBgXFx0VGhlIHByb2JsZW0gaXMgaW4gdGhlIDwke3Rva1R5cGUubmFtZX0+IFRva2VuIFR5cGVcXG5gICtcbiAgICAgICAgICAgIGBcXHQgUm9vdCBjYXVzZTogJHtkZXRhaWxzLmVyck1zZ30uXFxuYCArXG4gICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI0lERU5USUZZX1RFUk1JTkFUT1JcIik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRldGFpbHMuaXNzdWUgPT09IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5DVVNUT01fTElORV9CUkVBSykge1xuICAgICAgICByZXR1cm4gKFwiV2FybmluZzogQSBDdXN0b20gVG9rZW4gUGF0dGVybiBzaG91bGQgc3BlY2lmeSB0aGUgPGxpbmVfYnJlYWtzPiBvcHRpb24uXFxuXCIgK1xuICAgICAgICAgICAgYFxcdFRoZSBwcm9ibGVtIGlzIGluIHRoZSA8JHt0b2tUeXBlLm5hbWV9PiBUb2tlbiBUeXBlXFxuYCArXG4gICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI0NVU1RPTV9MSU5FX0JSRUFLXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDaGFyQ29kZXMoY2hhcnNPckNvZGVzKSB7XG4gICAgY29uc3QgY2hhckNvZGVzID0gbWFwKGNoYXJzT3JDb2RlcywgKG51bU9yU3RyaW5nKSA9PiB7XG4gICAgICAgIGlmIChpc1N0cmluZyhudW1PclN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBudW1PclN0cmluZy5jaGFyQ29kZUF0KDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bU9yU3RyaW5nO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNoYXJDb2Rlcztcbn1cbmZ1bmN0aW9uIGFkZFRvTWFwT2ZBcnJheXMobWFwLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKG1hcFtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWFwW2tleV0gPSBbdmFsdWVdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWFwW2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IG1pbk9wdGltaXphdGlvblZhbCA9IDI1Njtcbi8qKlxuICogV2UgYXJlIG1hcHBpbmcgY2hhckNvZGUgYWJvdmUgQVNDSSAoMjU2KSBpbnRvIGJ1Y2tldHMgZWFjaCBpbiB0aGUgc2l6ZSBvZiAyNTYuXG4gKiBUaGlzIGlzIGJlY2F1c2UgQVNDSSBhcmUgdGhlIG1vc3QgY29tbW9uIHN0YXJ0IGNoYXJzIHNvIGVhY2ggb25lIG9mIHRob3NlIHdpbGwgZ2V0IGl0cyBvd25cbiAqIHBvc3NpYmxlIHRva2VuIGNvbmZpZ3MgdmVjdG9yLlxuICpcbiAqIFRva2VucyBzdGFydGluZyB3aXRoIGNoYXJDb2RlcyBcImFib3ZlXCIgQVNDSSBhcmUgdW5jb21tb24sIHNvIHdlIGNhbiBcImFmZm9yZFwiXG4gKiB0byBwbGFjZSB0aGVzZSBpbnRvIGJ1Y2tldHMgb2YgcG9zc2libGUgdG9rZW4gY29uZmlncywgV2hhdCB3ZSBnYWluIGZyb21cbiAqIHRoaXMgaXMgYXZvaWRpbmcgdGhlIGNhc2Ugb2YgY3JlYXRpbmcgYW4gb3B0aW1pemF0aW9uICdjaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnJ1xuICogd2hpY2ggd291bGQgY29udGFpbiAxMCwwMDArIGFycmF5cyBvZiBzbWFsbCBzaXplIChlLmcgdW5pY29kZSBJZGVudGlmaWVycyBzY2VuYXJpbykuXG4gKiBPdXIgJ2NoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcnIG1heCBzaXplIHdpbGwgbm93IGJlOlxuICogMjU2ICsgKDJeMTYgLyAyXjgpIC0gMSA9PT0gNTExXG4gKlxuICogbm90ZSB0aGUgaGFjayBmb3IgZmFzdCBkaXZpc2lvbiBpbnRlZ2VyIHBhcnQgZXh0cmFjdGlvblxuICogU2VlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDIyODUyOFxuICovXG5sZXQgY2hhckNvZGVUb09wdGltaXplZElkeE1hcCA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChjaGFyQ29kZSkge1xuICAgIHJldHVybiBjaGFyQ29kZSA8IG1pbk9wdGltaXphdGlvblZhbFxuICAgICAgICA/IGNoYXJDb2RlXG4gICAgICAgIDogY2hhckNvZGVUb09wdGltaXplZElkeE1hcFtjaGFyQ29kZV07XG59XG4vKipcbiAqIFRoaXMgaXMgYSBjb21wcm9taXNlIGJldHdlZW4gY29sZCBzdGFydCAvIGhvdCBydW5uaW5nIHBlcmZvcm1hbmNlXG4gKiBDcmVhdGluZyB0aGlzIGFycmF5IHRha2VzIH4zbXMgb24gYSBtb2Rlcm4gbWFjaGluZSxcbiAqIEJ1dCBpZiB3ZSBwZXJmb3JtIHRoZSBjb21wdXRhdGlvbiBhdCBydW50aW1lIGFzIG5lZWRlZCB0aGUgQ1NTIExleGVyIGJlbmNobWFya1xuICogcGVyZm9ybWFuY2UgZGVncmFkZXMgYnkgfjEwJVxuICpcbiAqIFRPRE86IFBlcmhhcHMgaXQgc2hvdWxkIGJlIGxhenkgaW5pdGlhbGl6ZWQgb25seSBpZiBhIGNoYXJDb2RlID4gMjU1IGlzIHVzZWQuXG4gKi9cbmZ1bmN0aW9uIGluaXRDaGFyQ29kZVRvT3B0aW1pemVkSW5kZXhNYXAoKSB7XG4gICAgaWYgKGlzRW1wdHkoY2hhckNvZGVUb09wdGltaXplZElkeE1hcCkpIHtcbiAgICAgICAgY2hhckNvZGVUb09wdGltaXplZElkeE1hcCA9IG5ldyBBcnJheSg2NTUzNik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjU1MzY7IGkrKykge1xuICAgICAgICAgICAgY2hhckNvZGVUb09wdGltaXplZElkeE1hcFtpXSA9IGkgPiAyNTUgPyAyNTUgKyB+fihpIC8gMjU1KSA6IGk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZXhlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_errors_public.js":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_errors_public.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultLexerErrorProvider: () => (/* binding */ defaultLexerErrorProvider)\n/* harmony export */ });\nconst defaultLexerErrorProvider = {\n    buildUnableToPopLexerModeMessage(token) {\n        return `Unable to pop Lexer Mode after encountering Token ->${token.image}<- The Mode Stack is empty`;\n    },\n    buildUnexpectedCharactersMessage(fullText, startOffset, length, line, column) {\n        return (`unexpected character: ->${fullText.charAt(startOffset)}<- at offset: ${startOffset},` + ` skipped ${length} characters.`);\n    },\n};\n//# sourceMappingURL=lexer_errors_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvc2Nhbi9sZXhlcl9lcnJvcnNfcHVibGljLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0Esc0VBQXNFLFlBQVk7QUFDbEYsS0FBSztBQUNMO0FBQ0EsMkNBQTJDLDZCQUE2QixnQkFBZ0IsWUFBWSxpQkFBaUIsUUFBUTtBQUM3SCxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9zY2FuL2xleGVyX2Vycm9yc19wdWJsaWMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGRlZmF1bHRMZXhlckVycm9yUHJvdmlkZXIgPSB7XG4gICAgYnVpbGRVbmFibGVUb1BvcExleGVyTW9kZU1lc3NhZ2UodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIGBVbmFibGUgdG8gcG9wIExleGVyIE1vZGUgYWZ0ZXIgZW5jb3VudGVyaW5nIFRva2VuIC0+JHt0b2tlbi5pbWFnZX08LSBUaGUgTW9kZSBTdGFjayBpcyBlbXB0eWA7XG4gICAgfSxcbiAgICBidWlsZFVuZXhwZWN0ZWRDaGFyYWN0ZXJzTWVzc2FnZShmdWxsVGV4dCwgc3RhcnRPZmZzZXQsIGxlbmd0aCwgbGluZSwgY29sdW1uKSB7XG4gICAgICAgIHJldHVybiAoYHVuZXhwZWN0ZWQgY2hhcmFjdGVyOiAtPiR7ZnVsbFRleHQuY2hhckF0KHN0YXJ0T2Zmc2V0KX08LSBhdCBvZmZzZXQ6ICR7c3RhcnRPZmZzZXR9LGAgKyBgIHNraXBwZWQgJHtsZW5ndGh9IGNoYXJhY3RlcnMuYCk7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZXhlcl9lcnJvcnNfcHVibGljLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_errors_public.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_public.js":
/*!****************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_public.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Lexer: () => (/* binding */ Lexer),\n/* harmony export */   LexerDefinitionErrorType: () => (/* binding */ LexerDefinitionErrorType)\n/* harmony export */ });\n/* harmony import */ var _lexer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lexer.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/assign.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/clone.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/reject.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isUndefined.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/keys.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/identity.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/noop.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/reduce.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/last.js\");\n/* harmony import */ var _chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chevrotain/utils */ \"(ssr)/../node_modules/.pnpm/@chevrotain+utils@11.0.3/node_modules/@chevrotain/utils/lib/src/api.js\");\n/* harmony import */ var _tokens_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tokens.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens.js\");\n/* harmony import */ var _lexer_errors_public_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lexer_errors_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_errors_public.js\");\n/* harmony import */ var _reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./reg_exp_parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/reg_exp_parser.js\");\n\n\n\n\n\n\nvar LexerDefinitionErrorType;\n(function (LexerDefinitionErrorType) {\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MISSING_PATTERN\"] = 0] = \"MISSING_PATTERN\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"INVALID_PATTERN\"] = 1] = \"INVALID_PATTERN\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"EOI_ANCHOR_FOUND\"] = 2] = \"EOI_ANCHOR_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"UNSUPPORTED_FLAGS_FOUND\"] = 3] = \"UNSUPPORTED_FLAGS_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"DUPLICATE_PATTERNS_FOUND\"] = 4] = \"DUPLICATE_PATTERNS_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"INVALID_GROUP_TYPE_FOUND\"] = 5] = \"INVALID_GROUP_TYPE_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"PUSH_MODE_DOES_NOT_EXIST\"] = 6] = \"PUSH_MODE_DOES_NOT_EXIST\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE\"] = 7] = \"MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY\"] = 8] = \"MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST\"] = 9] = \"MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED\"] = 10] = \"LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"SOI_ANCHOR_FOUND\"] = 11] = \"SOI_ANCHOR_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"EMPTY_MATCH_PATTERN\"] = 12] = \"EMPTY_MATCH_PATTERN\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"NO_LINE_BREAKS_FLAGS\"] = 13] = \"NO_LINE_BREAKS_FLAGS\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"UNREACHABLE_PATTERN\"] = 14] = \"UNREACHABLE_PATTERN\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"IDENTIFY_TERMINATOR\"] = 15] = \"IDENTIFY_TERMINATOR\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"CUSTOM_LINE_BREAK\"] = 16] = \"CUSTOM_LINE_BREAK\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE\"] = 17] = \"MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE\";\n})(LexerDefinitionErrorType || (LexerDefinitionErrorType = {}));\nconst DEFAULT_LEXER_CONFIG = {\n    deferDefinitionErrorsHandling: false,\n    positionTracking: \"full\",\n    lineTerminatorsPattern: /\\n|\\r\\n?/g,\n    lineTerminatorCharacters: [\"\\n\", \"\\r\"],\n    ensureOptimizations: false,\n    safeMode: false,\n    errorMessageProvider: _lexer_errors_public_js__WEBPACK_IMPORTED_MODULE_3__.defaultLexerErrorProvider,\n    traceInitPerf: false,\n    skipValidations: false,\n    recoveryEnabled: true,\n};\nObject.freeze(DEFAULT_LEXER_CONFIG);\nclass Lexer {\n    constructor(lexerDefinition, config = DEFAULT_LEXER_CONFIG) {\n        this.lexerDefinition = lexerDefinition;\n        this.lexerDefinitionErrors = [];\n        this.lexerDefinitionWarning = [];\n        this.patternIdxToConfig = {};\n        this.charCodeToPatternIdxToConfig = {};\n        this.modes = [];\n        this.emptyGroups = {};\n        this.trackStartLines = true;\n        this.trackEndLines = true;\n        this.hasCustom = false;\n        this.canModeBeOptimized = {};\n        // Duplicated from the parser's perf trace trait to allow future extraction\n        // of the lexer to a separate package.\n        this.TRACE_INIT = (phaseDesc, phaseImpl) => {\n            // No need to optimize this using NOOP pattern because\n            // It is not called in a hot spot...\n            if (this.traceInitPerf === true) {\n                this.traceInitIndent++;\n                const indent = new Array(this.traceInitIndent + 1).join(\"\\t\");\n                if (this.traceInitIndent < this.traceInitMaxIdent) {\n                    console.log(`${indent}--> <${phaseDesc}>`);\n                }\n                const { time, value } = (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__.timer)(phaseImpl);\n                /* istanbul ignore next - Difficult to reproduce specific performance behavior (>10ms) in tests */\n                const traceMethod = time > 10 ? console.warn : console.log;\n                if (this.traceInitIndent < this.traceInitMaxIdent) {\n                    traceMethod(`${indent}<-- <${phaseDesc}> time: ${time}ms`);\n                }\n                this.traceInitIndent--;\n                return value;\n            }\n            else {\n                return phaseImpl();\n            }\n        };\n        if (typeof config === \"boolean\") {\n            throw Error(\"The second argument to the Lexer constructor is now an ILexerConfig Object.\\n\" +\n                \"a boolean 2nd argument is no longer supported\");\n        }\n        // todo: defaults func?\n        this.config = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, DEFAULT_LEXER_CONFIG, config);\n        const traceInitVal = this.config.traceInitPerf;\n        if (traceInitVal === true) {\n            this.traceInitMaxIdent = Infinity;\n            this.traceInitPerf = true;\n        }\n        else if (typeof traceInitVal === \"number\") {\n            this.traceInitMaxIdent = traceInitVal;\n            this.traceInitPerf = true;\n        }\n        this.traceInitIndent = -1;\n        this.TRACE_INIT(\"Lexer Constructor\", () => {\n            let actualDefinition;\n            let hasOnlySingleMode = true;\n            this.TRACE_INIT(\"Lexer Config handling\", () => {\n                if (this.config.lineTerminatorsPattern ===\n                    DEFAULT_LEXER_CONFIG.lineTerminatorsPattern) {\n                    // optimized built-in implementation for the defaults definition of lineTerminators\n                    this.config.lineTerminatorsPattern = _lexer_js__WEBPACK_IMPORTED_MODULE_0__.LineTerminatorOptimizedTester;\n                }\n                else {\n                    if (this.config.lineTerminatorCharacters ===\n                        DEFAULT_LEXER_CONFIG.lineTerminatorCharacters) {\n                        throw Error(\"Error: Missing <lineTerminatorCharacters> property on the Lexer config.\\n\" +\n                            \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS\");\n                    }\n                }\n                if (config.safeMode && config.ensureOptimizations) {\n                    throw Error('\"safeMode\" and \"ensureOptimizations\" flags are mutually exclusive.');\n                }\n                this.trackStartLines = /full|onlyStart/i.test(this.config.positionTracking);\n                this.trackEndLines = /full/i.test(this.config.positionTracking);\n                // Convert SingleModeLexerDefinition into a IMultiModeLexerDefinition.\n                if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(lexerDefinition)) {\n                    actualDefinition = {\n                        modes: { defaultMode: (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(lexerDefinition) },\n                        defaultMode: _lexer_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_MODE,\n                    };\n                }\n                else {\n                    // no conversion needed, input should already be a IMultiModeLexerDefinition\n                    hasOnlySingleMode = false;\n                    actualDefinition = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(lexerDefinition);\n                }\n            });\n            if (this.config.skipValidations === false) {\n                this.TRACE_INIT(\"performRuntimeChecks\", () => {\n                    this.lexerDefinitionErrors = this.lexerDefinitionErrors.concat((0,_lexer_js__WEBPACK_IMPORTED_MODULE_0__.performRuntimeChecks)(actualDefinition, this.trackStartLines, this.config.lineTerminatorCharacters));\n                });\n                this.TRACE_INIT(\"performWarningRuntimeChecks\", () => {\n                    this.lexerDefinitionWarning = this.lexerDefinitionWarning.concat((0,_lexer_js__WEBPACK_IMPORTED_MODULE_0__.performWarningRuntimeChecks)(actualDefinition, this.trackStartLines, this.config.lineTerminatorCharacters));\n                });\n            }\n            // for extra robustness to avoid throwing an none informative error message\n            actualDefinition.modes = actualDefinition.modes\n                ? actualDefinition.modes\n                : {};\n            // an error of undefined TokenTypes will be detected in \"performRuntimeChecks\" above.\n            // this transformation is to increase robustness in the case of partially invalid lexer definition.\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(actualDefinition.modes, (currModeValue, currModeName) => {\n                actualDefinition.modes[currModeName] = (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(currModeValue, (currTokType) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currTokType));\n            });\n            const allModeNames = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(actualDefinition.modes);\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(actualDefinition.modes, (currModDef, currModName) => {\n                this.TRACE_INIT(`Mode: <${currModName}> processing`, () => {\n                    this.modes.push(currModName);\n                    if (this.config.skipValidations === false) {\n                        this.TRACE_INIT(`validatePatterns`, () => {\n                            this.lexerDefinitionErrors = this.lexerDefinitionErrors.concat((0,_lexer_js__WEBPACK_IMPORTED_MODULE_0__.validatePatterns)(currModDef, allModeNames));\n                        });\n                    }\n                    // If definition errors were encountered, the analysis phase may fail unexpectedly/\n                    // Considering a lexer with definition errors may never be used, there is no point\n                    // to performing the analysis anyhow...\n                    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(this.lexerDefinitionErrors)) {\n                        (0,_tokens_js__WEBPACK_IMPORTED_MODULE_2__.augmentTokenTypes)(currModDef);\n                        let currAnalyzeResult;\n                        this.TRACE_INIT(`analyzeTokenTypes`, () => {\n                            currAnalyzeResult = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_0__.analyzeTokenTypes)(currModDef, {\n                                lineTerminatorCharacters: this.config.lineTerminatorCharacters,\n                                positionTracking: config.positionTracking,\n                                ensureOptimizations: config.ensureOptimizations,\n                                safeMode: config.safeMode,\n                                tracer: this.TRACE_INIT,\n                            });\n                        });\n                        this.patternIdxToConfig[currModName] =\n                            currAnalyzeResult.patternIdxToConfig;\n                        this.charCodeToPatternIdxToConfig[currModName] =\n                            currAnalyzeResult.charCodeToPatternIdxToConfig;\n                        this.emptyGroups = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, this.emptyGroups, currAnalyzeResult.emptyGroups);\n                        this.hasCustom = currAnalyzeResult.hasCustom || this.hasCustom;\n                        this.canModeBeOptimized[currModName] =\n                            currAnalyzeResult.canBeOptimized;\n                    }\n                });\n            });\n            this.defaultMode = actualDefinition.defaultMode;\n            if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(this.lexerDefinitionErrors) &&\n                !this.config.deferDefinitionErrorsHandling) {\n                const allErrMessages = (0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(this.lexerDefinitionErrors, (error) => {\n                    return error.message;\n                });\n                const allErrMessagesString = allErrMessages.join(\"-----------------------\\n\");\n                throw new Error(\"Errors detected in definition of Lexer:\\n\" + allErrMessagesString);\n            }\n            // Only print warning if there are no errors, This will avoid pl\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(this.lexerDefinitionWarning, (warningDescriptor) => {\n                (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__.PRINT_WARNING)(warningDescriptor.message);\n            });\n            this.TRACE_INIT(\"Choosing sub-methods implementations\", () => {\n                // Choose the relevant internal implementations for this specific parser.\n                // These implementations should be in-lined by the JavaScript engine\n                // to provide optimal performance in each scenario.\n                if (_lexer_js__WEBPACK_IMPORTED_MODULE_0__.SUPPORT_STICKY) {\n                    this.chopInput = lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\n                    this.match = this.matchWithTest;\n                }\n                else {\n                    this.updateLastIndex = lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\n                    this.match = this.matchWithExec;\n                }\n                if (hasOnlySingleMode) {\n                    this.handleModes = lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\n                }\n                if (this.trackStartLines === false) {\n                    this.computeNewColumn = lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\n                }\n                if (this.trackEndLines === false) {\n                    this.updateTokenEndLineColumnLocation = lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\n                }\n                if (/full/i.test(this.config.positionTracking)) {\n                    this.createTokenInstance = this.createFullToken;\n                }\n                else if (/onlyStart/i.test(this.config.positionTracking)) {\n                    this.createTokenInstance = this.createStartOnlyToken;\n                }\n                else if (/onlyOffset/i.test(this.config.positionTracking)) {\n                    this.createTokenInstance = this.createOffsetOnlyToken;\n                }\n                else {\n                    throw Error(`Invalid <positionTracking> config option: \"${this.config.positionTracking}\"`);\n                }\n                if (this.hasCustom) {\n                    this.addToken = this.addTokenUsingPush;\n                    this.handlePayload = this.handlePayloadWithCustom;\n                }\n                else {\n                    this.addToken = this.addTokenUsingMemberAccess;\n                    this.handlePayload = this.handlePayloadNoCustom;\n                }\n            });\n            this.TRACE_INIT(\"Failed Optimization Warnings\", () => {\n                const unOptimizedModes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(this.canModeBeOptimized, (cannotBeOptimized, canBeOptimized, modeName) => {\n                    if (canBeOptimized === false) {\n                        cannotBeOptimized.push(modeName);\n                    }\n                    return cannotBeOptimized;\n                }, []);\n                if (config.ensureOptimizations && !(0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(unOptimizedModes)) {\n                    throw Error(`Lexer Modes: < ${unOptimizedModes.join(\", \")} > cannot be optimized.\\n` +\n                        '\\t Disable the \"ensureOptimizations\" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\\n' +\n                        \"\\t Or inspect the console log for details on how to resolve these issues.\");\n                }\n            });\n            this.TRACE_INIT(\"clearRegExpParserCache\", () => {\n                (0,_reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_4__.clearRegExpParserCache)();\n            });\n            this.TRACE_INIT(\"toFastProperties\", () => {\n                (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__.toFastProperties)(this);\n            });\n        });\n    }\n    tokenize(text, initialMode = this.defaultMode) {\n        if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(this.lexerDefinitionErrors)) {\n            const allErrMessages = (0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(this.lexerDefinitionErrors, (error) => {\n                return error.message;\n            });\n            const allErrMessagesString = allErrMessages.join(\"-----------------------\\n\");\n            throw new Error(\"Unable to Tokenize because Errors detected in definition of Lexer:\\n\" +\n                allErrMessagesString);\n        }\n        return this.tokenizeInternal(text, initialMode);\n    }\n    // There is quite a bit of duplication between this and \"tokenizeInternalLazy\"\n    // This is intentional due to performance considerations.\n    // this method also used quite a bit of `!` none null assertions because it is too optimized\n    // for `tsc` to always understand it is \"safe\"\n    tokenizeInternal(text, initialMode) {\n        let i, j, k, matchAltImage, longerAlt, matchedImage, payload, altPayload, imageLength, group, tokType, newToken, errLength, droppedChar, msg, match;\n        const orgText = text;\n        const orgLength = orgText.length;\n        let offset = 0;\n        let matchedTokensIndex = 0;\n        // initializing the tokensArray to the \"guessed\" size.\n        // guessing too little will still reduce the number of array re-sizes on pushes.\n        // guessing too large (Tested by guessing x4 too large) may cost a bit more of memory\n        // but would still have a faster runtime by avoiding (All but one) array resizing.\n        const guessedNumberOfTokens = this.hasCustom\n            ? 0 // will break custom token pattern APIs the matchedTokens array will contain undefined elements.\n            : Math.floor(text.length / 10);\n        const matchedTokens = new Array(guessedNumberOfTokens);\n        const errors = [];\n        let line = this.trackStartLines ? 1 : undefined;\n        let column = this.trackStartLines ? 1 : undefined;\n        const groups = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_0__.cloneEmptyGroups)(this.emptyGroups);\n        const trackLines = this.trackStartLines;\n        const lineTerminatorPattern = this.config.lineTerminatorsPattern;\n        let currModePatternsLength = 0;\n        let patternIdxToConfig = [];\n        let currCharCodeToPatternIdxToConfig = [];\n        const modeStack = [];\n        const emptyArray = [];\n        Object.freeze(emptyArray);\n        let getPossiblePatterns;\n        function getPossiblePatternsSlow() {\n            return patternIdxToConfig;\n        }\n        function getPossiblePatternsOptimized(charCode) {\n            const optimizedCharIdx = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_0__.charCodeToOptimizedIndex)(charCode);\n            const possiblePatterns = currCharCodeToPatternIdxToConfig[optimizedCharIdx];\n            if (possiblePatterns === undefined) {\n                return emptyArray;\n            }\n            else {\n                return possiblePatterns;\n            }\n        }\n        const pop_mode = (popToken) => {\n            // TODO: perhaps avoid this error in the edge case there is no more input?\n            if (modeStack.length === 1 &&\n                // if we have both a POP_MODE and a PUSH_MODE this is in-fact a \"transition\"\n                // So no error should occur.\n                popToken.tokenType.PUSH_MODE === undefined) {\n                // if we try to pop the last mode there lexer will no longer have ANY mode.\n                // thus the pop is ignored, an error will be created and the lexer will continue parsing in the previous mode.\n                const msg = this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(popToken);\n                errors.push({\n                    offset: popToken.startOffset,\n                    line: popToken.startLine,\n                    column: popToken.startColumn,\n                    length: popToken.image.length,\n                    message: msg,\n                });\n            }\n            else {\n                modeStack.pop();\n                const newMode = (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(modeStack);\n                patternIdxToConfig = this.patternIdxToConfig[newMode];\n                currCharCodeToPatternIdxToConfig =\n                    this.charCodeToPatternIdxToConfig[newMode];\n                currModePatternsLength = patternIdxToConfig.length;\n                const modeCanBeOptimized = this.canModeBeOptimized[newMode] && this.config.safeMode === false;\n                if (currCharCodeToPatternIdxToConfig && modeCanBeOptimized) {\n                    getPossiblePatterns = getPossiblePatternsOptimized;\n                }\n                else {\n                    getPossiblePatterns = getPossiblePatternsSlow;\n                }\n            }\n        };\n        function push_mode(newMode) {\n            modeStack.push(newMode);\n            currCharCodeToPatternIdxToConfig =\n                this.charCodeToPatternIdxToConfig[newMode];\n            patternIdxToConfig = this.patternIdxToConfig[newMode];\n            currModePatternsLength = patternIdxToConfig.length;\n            currModePatternsLength = patternIdxToConfig.length;\n            const modeCanBeOptimized = this.canModeBeOptimized[newMode] && this.config.safeMode === false;\n            if (currCharCodeToPatternIdxToConfig && modeCanBeOptimized) {\n                getPossiblePatterns = getPossiblePatternsOptimized;\n            }\n            else {\n                getPossiblePatterns = getPossiblePatternsSlow;\n            }\n        }\n        // this pattern seems to avoid a V8 de-optimization, although that de-optimization does not\n        // seem to matter performance wise.\n        push_mode.call(this, initialMode);\n        let currConfig;\n        const recoveryEnabled = this.config.recoveryEnabled;\n        while (offset < orgLength) {\n            matchedImage = null;\n            const nextCharCode = orgText.charCodeAt(offset);\n            const chosenPatternIdxToConfig = getPossiblePatterns(nextCharCode);\n            const chosenPatternsLength = chosenPatternIdxToConfig.length;\n            for (i = 0; i < chosenPatternsLength; i++) {\n                currConfig = chosenPatternIdxToConfig[i];\n                const currPattern = currConfig.pattern;\n                payload = null;\n                // manually in-lined because > 600 chars won't be in-lined in V8\n                const singleCharCode = currConfig.short;\n                if (singleCharCode !== false) {\n                    if (nextCharCode === singleCharCode) {\n                        // single character string\n                        matchedImage = currPattern;\n                    }\n                }\n                else if (currConfig.isCustom === true) {\n                    match = currPattern.exec(orgText, offset, matchedTokens, groups);\n                    if (match !== null) {\n                        matchedImage = match[0];\n                        if (match.payload !== undefined) {\n                            payload = match.payload;\n                        }\n                    }\n                    else {\n                        matchedImage = null;\n                    }\n                }\n                else {\n                    this.updateLastIndex(currPattern, offset);\n                    matchedImage = this.match(currPattern, text, offset);\n                }\n                if (matchedImage !== null) {\n                    // even though this pattern matched we must try a another longer alternative.\n                    // this can be used to prioritize keywords over identifiers\n                    longerAlt = currConfig.longerAlt;\n                    if (longerAlt !== undefined) {\n                        // TODO: micro optimize, avoid extra prop access\n                        // by saving/linking longerAlt on the original config?\n                        const longerAltLength = longerAlt.length;\n                        for (k = 0; k < longerAltLength; k++) {\n                            const longerAltConfig = patternIdxToConfig[longerAlt[k]];\n                            const longerAltPattern = longerAltConfig.pattern;\n                            altPayload = null;\n                            // single Char can never be a longer alt so no need to test it.\n                            // manually in-lined because > 600 chars won't be in-lined in V8\n                            if (longerAltConfig.isCustom === true) {\n                                match = longerAltPattern.exec(orgText, offset, matchedTokens, groups);\n                                if (match !== null) {\n                                    matchAltImage = match[0];\n                                    if (match.payload !== undefined) {\n                                        altPayload = match.payload;\n                                    }\n                                }\n                                else {\n                                    matchAltImage = null;\n                                }\n                            }\n                            else {\n                                this.updateLastIndex(longerAltPattern, offset);\n                                matchAltImage = this.match(longerAltPattern, text, offset);\n                            }\n                            if (matchAltImage && matchAltImage.length > matchedImage.length) {\n                                matchedImage = matchAltImage;\n                                payload = altPayload;\n                                currConfig = longerAltConfig;\n                                // Exit the loop early after matching one of the longer alternatives\n                                // The first matched alternative takes precedence\n                                break;\n                            }\n                        }\n                    }\n                    break;\n                }\n            }\n            // successful match\n            if (matchedImage !== null) {\n                imageLength = matchedImage.length;\n                group = currConfig.group;\n                if (group !== undefined) {\n                    tokType = currConfig.tokenTypeIdx;\n                    // TODO: \"offset + imageLength\" and the new column may be computed twice in case of \"full\" location information inside\n                    // createFullToken method\n                    newToken = this.createTokenInstance(matchedImage, offset, tokType, currConfig.tokenType, line, column, imageLength);\n                    this.handlePayload(newToken, payload);\n                    // TODO: optimize NOOP in case there are no special groups?\n                    if (group === false) {\n                        matchedTokensIndex = this.addToken(matchedTokens, matchedTokensIndex, newToken);\n                    }\n                    else {\n                        groups[group].push(newToken);\n                    }\n                }\n                text = this.chopInput(text, imageLength);\n                offset = offset + imageLength;\n                // TODO: with newlines the column may be assigned twice\n                column = this.computeNewColumn(column, imageLength);\n                if (trackLines === true && currConfig.canLineTerminator === true) {\n                    let numOfLTsInMatch = 0;\n                    let foundTerminator;\n                    let lastLTEndOffset;\n                    lineTerminatorPattern.lastIndex = 0;\n                    do {\n                        foundTerminator = lineTerminatorPattern.test(matchedImage);\n                        if (foundTerminator === true) {\n                            lastLTEndOffset = lineTerminatorPattern.lastIndex - 1;\n                            numOfLTsInMatch++;\n                        }\n                    } while (foundTerminator === true);\n                    if (numOfLTsInMatch !== 0) {\n                        line = line + numOfLTsInMatch;\n                        column = imageLength - lastLTEndOffset;\n                        this.updateTokenEndLineColumnLocation(newToken, group, lastLTEndOffset, numOfLTsInMatch, line, column, imageLength);\n                    }\n                }\n                // will be NOOP if no modes present\n                this.handleModes(currConfig, pop_mode, push_mode, newToken);\n            }\n            else {\n                // error recovery, drop characters until we identify a valid token's start point\n                const errorStartOffset = offset;\n                const errorLine = line;\n                const errorColumn = column;\n                let foundResyncPoint = recoveryEnabled === false;\n                while (foundResyncPoint === false && offset < orgLength) {\n                    // Identity Func (when sticky flag is enabled)\n                    text = this.chopInput(text, 1);\n                    offset++;\n                    for (j = 0; j < currModePatternsLength; j++) {\n                        const currConfig = patternIdxToConfig[j];\n                        const currPattern = currConfig.pattern;\n                        // manually in-lined because > 600 chars won't be in-lined in V8\n                        const singleCharCode = currConfig.short;\n                        if (singleCharCode !== false) {\n                            if (orgText.charCodeAt(offset) === singleCharCode) {\n                                // single character string\n                                foundResyncPoint = true;\n                            }\n                        }\n                        else if (currConfig.isCustom === true) {\n                            foundResyncPoint =\n                                currPattern.exec(orgText, offset, matchedTokens, groups) !== null;\n                        }\n                        else {\n                            this.updateLastIndex(currPattern, offset);\n                            foundResyncPoint = currPattern.exec(text) !== null;\n                        }\n                        if (foundResyncPoint === true) {\n                            break;\n                        }\n                    }\n                }\n                errLength = offset - errorStartOffset;\n                column = this.computeNewColumn(column, errLength);\n                // at this point we either re-synced or reached the end of the input text\n                msg = this.config.errorMessageProvider.buildUnexpectedCharactersMessage(orgText, errorStartOffset, errLength, errorLine, errorColumn);\n                errors.push({\n                    offset: errorStartOffset,\n                    line: errorLine,\n                    column: errorColumn,\n                    length: errLength,\n                    message: msg,\n                });\n                if (recoveryEnabled === false) {\n                    break;\n                }\n            }\n        }\n        // if we do have custom patterns which push directly into the\n        // TODO: custom tokens should not push directly??\n        if (!this.hasCustom) {\n            // if we guessed a too large size for the tokens array this will shrink it to the right size.\n            matchedTokens.length = matchedTokensIndex;\n        }\n        return {\n            tokens: matchedTokens,\n            groups: groups,\n            errors: errors,\n        };\n    }\n    handleModes(config, pop_mode, push_mode, newToken) {\n        if (config.pop === true) {\n            // need to save the PUSH_MODE property as if the mode is popped\n            // patternIdxToPopMode is updated to reflect the new mode after popping the stack\n            const pushMode = config.push;\n            pop_mode(newToken);\n            if (pushMode !== undefined) {\n                push_mode.call(this, pushMode);\n            }\n        }\n        else if (config.push !== undefined) {\n            push_mode.call(this, config.push);\n        }\n    }\n    chopInput(text, length) {\n        return text.substring(length);\n    }\n    updateLastIndex(regExp, newLastIndex) {\n        regExp.lastIndex = newLastIndex;\n    }\n    // TODO: decrease this under 600 characters? inspect stripping comments option in TSC compiler\n    updateTokenEndLineColumnLocation(newToken, group, lastLTIdx, numOfLTsInMatch, line, column, imageLength) {\n        let lastCharIsLT, fixForEndingInLT;\n        if (group !== undefined) {\n            // a none skipped multi line Token, need to update endLine/endColumn\n            lastCharIsLT = lastLTIdx === imageLength - 1;\n            fixForEndingInLT = lastCharIsLT ? -1 : 0;\n            if (!(numOfLTsInMatch === 1 && lastCharIsLT === true)) {\n                // if a token ends in a LT that last LT only affects the line numbering of following Tokens\n                newToken.endLine = line + fixForEndingInLT;\n                // the last LT in a token does not affect the endColumn either as the [columnStart ... columnEnd)\n                // inclusive to exclusive range.\n                newToken.endColumn = column - 1 + -fixForEndingInLT;\n            }\n            // else single LT in the last character of a token, no need to modify the endLine/EndColumn\n        }\n    }\n    computeNewColumn(oldColumn, imageLength) {\n        return oldColumn + imageLength;\n    }\n    createOffsetOnlyToken(image, startOffset, tokenTypeIdx, tokenType) {\n        return {\n            image,\n            startOffset,\n            tokenTypeIdx,\n            tokenType,\n        };\n    }\n    createStartOnlyToken(image, startOffset, tokenTypeIdx, tokenType, startLine, startColumn) {\n        return {\n            image,\n            startOffset,\n            startLine,\n            startColumn,\n            tokenTypeIdx,\n            tokenType,\n        };\n    }\n    createFullToken(image, startOffset, tokenTypeIdx, tokenType, startLine, startColumn, imageLength) {\n        return {\n            image,\n            startOffset,\n            endOffset: startOffset + imageLength - 1,\n            startLine,\n            endLine: startLine,\n            startColumn,\n            endColumn: startColumn + imageLength - 1,\n            tokenTypeIdx,\n            tokenType,\n        };\n    }\n    addTokenUsingPush(tokenVector, index, tokenToAdd) {\n        tokenVector.push(tokenToAdd);\n        return index;\n    }\n    addTokenUsingMemberAccess(tokenVector, index, tokenToAdd) {\n        tokenVector[index] = tokenToAdd;\n        index++;\n        return index;\n    }\n    handlePayloadNoCustom(token, payload) { }\n    handlePayloadWithCustom(token, payload) {\n        if (payload !== null) {\n            token.payload = payload;\n        }\n    }\n    matchWithTest(pattern, text, offset) {\n        const found = pattern.test(text);\n        if (found === true) {\n            return text.substring(offset, pattern.lastIndex);\n        }\n        return null;\n    }\n    matchWithExec(pattern, text) {\n        const regExpArray = pattern.exec(text);\n        return regExpArray !== null ? regExpArray[0] : null;\n    }\n}\nLexer.SKIPPED = \"This marks a skipped Token pattern, this means each token identified by it will\" +\n    \"be consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.\";\nLexer.NA = /NOT_APPLICABLE/;\n//# sourceMappingURL=lexer_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvc2Nhbi9sZXhlcl9wdWJsaWMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOE47QUFDMUY7QUFDekQ7QUFDM0I7QUFDcUI7QUFDUjtBQUN0RDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0REFBNEQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsOEVBQXlCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxPQUFPLE9BQU8sVUFBVTtBQUMzRDtBQUNBLHdCQUF3QixjQUFjLEVBQUUsd0RBQUs7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLE9BQU8sT0FBTyxVQUFVLFVBQVUsS0FBSztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxREFBTSxHQUFHO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsb0VBQTZCO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQU87QUFDM0I7QUFDQSxpQ0FBaUMsYUFBYSxxREFBSyxtQkFBbUI7QUFDdEUscUNBQXFDLG1EQUFZO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMscURBQUs7QUFDNUM7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLG1GQUFtRiwrREFBb0I7QUFDdkcsaUJBQWlCO0FBQ2pCO0FBQ0EscUZBQXFGLHNFQUEyQjtBQUNoSCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFPO0FBQ25CLHVEQUF1RCxxREFBTSxpQ0FBaUMsc0RBQVc7QUFDekcsYUFBYTtBQUNiLGlDQUFpQyxzREFBSTtBQUNyQyxZQUFZLHFEQUFPO0FBQ25CLDBDQUEwQyxZQUFZO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRiwyREFBZ0I7QUFDM0cseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNEQUFPO0FBQy9CLHdCQUF3Qiw2REFBaUI7QUFDekM7QUFDQTtBQUNBLGdEQUFnRCw0REFBaUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMscURBQU0sR0FBRztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQSxpQkFBaUIsc0RBQU87QUFDeEI7QUFDQSx1Q0FBdUMsc0RBQUc7QUFDMUM7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFPO0FBQ25CLGdCQUFnQixnRUFBYTtBQUM3QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQWM7QUFDbEMscUNBQXFDLGtEQUFRO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxrREFBSTtBQUMvQztBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsa0RBQUk7QUFDM0M7QUFDQTtBQUNBLDRDQUE0QyxrREFBUTtBQUNwRDtBQUNBO0FBQ0EsNERBQTRELGtEQUFJO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsNkJBQTZCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHlDQUF5QyxzREFBTTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixtREFBbUQsc0RBQU87QUFDMUQsa0RBQWtELDZCQUE2QjtBQUMvRTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxnQkFBZ0IsMEVBQXNCO0FBQ3RDLGFBQWE7QUFDYjtBQUNBLGdCQUFnQixtRUFBZ0I7QUFDaEMsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsYUFBYSxzREFBTztBQUNwQixtQ0FBbUMsc0RBQUc7QUFDdEM7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDJEQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxtRUFBd0I7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0RBQUk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwwQkFBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxxQkFBcUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsNEJBQTRCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZXRoYW5raW0vTmVzdG9yL21lZGZldGNoLmpzL25vZGVfbW9kdWxlcy8ucG5wbS9jaGV2cm90YWluQDExLjAuMy9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vbGV4ZXJfcHVibGljLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFuYWx5emVUb2tlblR5cGVzLCBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgsIGNsb25lRW1wdHlHcm91cHMsIERFRkFVTFRfTU9ERSwgTGluZVRlcm1pbmF0b3JPcHRpbWl6ZWRUZXN0ZXIsIHBlcmZvcm1SdW50aW1lQ2hlY2tzLCBwZXJmb3JtV2FybmluZ1J1bnRpbWVDaGVja3MsIFNVUFBPUlRfU1RJQ0tZLCB2YWxpZGF0ZVBhdHRlcm5zLCB9IGZyb20gXCIuL2xleGVyLmpzXCI7XG5pbXBvcnQgeyBhc3NpZ24sIGNsb25lLCBmb3JFYWNoLCBpZGVudGl0eSwgaXNBcnJheSwgaXNFbXB0eSwgaXNVbmRlZmluZWQsIGtleXMsIGxhc3QsIG1hcCwgbm9vcCwgcmVkdWNlLCByZWplY3QsIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgUFJJTlRfV0FSTklORywgdGltZXIsIHRvRmFzdFByb3BlcnRpZXMgfSBmcm9tIFwiQGNoZXZyb3RhaW4vdXRpbHNcIjtcbmltcG9ydCB7IGF1Z21lbnRUb2tlblR5cGVzIH0gZnJvbSBcIi4vdG9rZW5zLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0TGV4ZXJFcnJvclByb3ZpZGVyIH0gZnJvbSBcIi4vbGV4ZXJfZXJyb3JzX3B1YmxpYy5qc1wiO1xuaW1wb3J0IHsgY2xlYXJSZWdFeHBQYXJzZXJDYWNoZSB9IGZyb20gXCIuL3JlZ19leHBfcGFyc2VyLmpzXCI7XG5leHBvcnQgdmFyIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZTtcbihmdW5jdGlvbiAoTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlKSB7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk1JU1NJTkdfUEFUVEVSTlwiXSA9IDBdID0gXCJNSVNTSU5HX1BBVFRFUk5cIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiSU5WQUxJRF9QQVRURVJOXCJdID0gMV0gPSBcIklOVkFMSURfUEFUVEVSTlwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJFT0lfQU5DSE9SX0ZPVU5EXCJdID0gMl0gPSBcIkVPSV9BTkNIT1JfRk9VTkRcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiVU5TVVBQT1JURURfRkxBR1NfRk9VTkRcIl0gPSAzXSA9IFwiVU5TVVBQT1JURURfRkxBR1NfRk9VTkRcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiRFVQTElDQVRFX1BBVFRFUk5TX0ZPVU5EXCJdID0gNF0gPSBcIkRVUExJQ0FURV9QQVRURVJOU19GT1VORFwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJJTlZBTElEX0dST1VQX1RZUEVfRk9VTkRcIl0gPSA1XSA9IFwiSU5WQUxJRF9HUk9VUF9UWVBFX0ZPVU5EXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIlBVU0hfTU9ERV9ET0VTX05PVF9FWElTVFwiXSA9IDZdID0gXCJQVVNIX01PREVfRE9FU19OT1RfRVhJU1RcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTVVMVElfTU9ERV9MRVhFUl9XSVRIT1VUX0RFRkFVTFRfTU9ERVwiXSA9IDddID0gXCJNVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfREVGQVVMVF9NT0RFXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9NT0RFU19QUk9QRVJUWVwiXSA9IDhdID0gXCJNVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfTU9ERVNfUFJPUEVSVFlcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTVVMVElfTU9ERV9MRVhFUl9ERUZBVUxUX01PREVfVkFMVUVfRE9FU19OT1RfRVhJU1RcIl0gPSA5XSA9IFwiTVVMVElfTU9ERV9MRVhFUl9ERUZBVUxUX01PREVfVkFMVUVfRE9FU19OT1RfRVhJU1RcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTEVYRVJfREVGSU5JVElPTl9DQU5OT1RfQ09OVEFJTl9VTkRFRklORURcIl0gPSAxMF0gPSBcIkxFWEVSX0RFRklOSVRJT05fQ0FOTk9UX0NPTlRBSU5fVU5ERUZJTkVEXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIlNPSV9BTkNIT1JfRk9VTkRcIl0gPSAxMV0gPSBcIlNPSV9BTkNIT1JfRk9VTkRcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiRU1QVFlfTUFUQ0hfUEFUVEVSTlwiXSA9IDEyXSA9IFwiRU1QVFlfTUFUQ0hfUEFUVEVSTlwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJOT19MSU5FX0JSRUFLU19GTEFHU1wiXSA9IDEzXSA9IFwiTk9fTElORV9CUkVBS1NfRkxBR1NcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiVU5SRUFDSEFCTEVfUEFUVEVSTlwiXSA9IDE0XSA9IFwiVU5SRUFDSEFCTEVfUEFUVEVSTlwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJJREVOVElGWV9URVJNSU5BVE9SXCJdID0gMTVdID0gXCJJREVOVElGWV9URVJNSU5BVE9SXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkNVU1RPTV9MSU5FX0JSRUFLXCJdID0gMTZdID0gXCJDVVNUT01fTElORV9CUkVBS1wiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJNVUxUSV9NT0RFX0xFWEVSX0xPTkdFUl9BTFRfTk9UX0lOX0NVUlJFTlRfTU9ERVwiXSA9IDE3XSA9IFwiTVVMVElfTU9ERV9MRVhFUl9MT05HRVJfQUxUX05PVF9JTl9DVVJSRU5UX01PREVcIjtcbn0pKExleGVyRGVmaW5pdGlvbkVycm9yVHlwZSB8fCAoTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlID0ge30pKTtcbmNvbnN0IERFRkFVTFRfTEVYRVJfQ09ORklHID0ge1xuICAgIGRlZmVyRGVmaW5pdGlvbkVycm9yc0hhbmRsaW5nOiBmYWxzZSxcbiAgICBwb3NpdGlvblRyYWNraW5nOiBcImZ1bGxcIixcbiAgICBsaW5lVGVybWluYXRvcnNQYXR0ZXJuOiAvXFxufFxcclxcbj8vZyxcbiAgICBsaW5lVGVybWluYXRvckNoYXJhY3RlcnM6IFtcIlxcblwiLCBcIlxcclwiXSxcbiAgICBlbnN1cmVPcHRpbWl6YXRpb25zOiBmYWxzZSxcbiAgICBzYWZlTW9kZTogZmFsc2UsXG4gICAgZXJyb3JNZXNzYWdlUHJvdmlkZXI6IGRlZmF1bHRMZXhlckVycm9yUHJvdmlkZXIsXG4gICAgdHJhY2VJbml0UGVyZjogZmFsc2UsXG4gICAgc2tpcFZhbGlkYXRpb25zOiBmYWxzZSxcbiAgICByZWNvdmVyeUVuYWJsZWQ6IHRydWUsXG59O1xuT2JqZWN0LmZyZWV6ZShERUZBVUxUX0xFWEVSX0NPTkZJRyk7XG5leHBvcnQgY2xhc3MgTGV4ZXIge1xuICAgIGNvbnN0cnVjdG9yKGxleGVyRGVmaW5pdGlvbiwgY29uZmlnID0gREVGQVVMVF9MRVhFUl9DT05GSUcpIHtcbiAgICAgICAgdGhpcy5sZXhlckRlZmluaXRpb24gPSBsZXhlckRlZmluaXRpb247XG4gICAgICAgIHRoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzID0gW107XG4gICAgICAgIHRoaXMubGV4ZXJEZWZpbml0aW9uV2FybmluZyA9IFtdO1xuICAgICAgICB0aGlzLnBhdHRlcm5JZHhUb0NvbmZpZyA9IHt9O1xuICAgICAgICB0aGlzLmNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgPSB7fTtcbiAgICAgICAgdGhpcy5tb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLmVtcHR5R3JvdXBzID0ge307XG4gICAgICAgIHRoaXMudHJhY2tTdGFydExpbmVzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50cmFja0VuZExpbmVzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oYXNDdXN0b20gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW5Nb2RlQmVPcHRpbWl6ZWQgPSB7fTtcbiAgICAgICAgLy8gRHVwbGljYXRlZCBmcm9tIHRoZSBwYXJzZXIncyBwZXJmIHRyYWNlIHRyYWl0IHRvIGFsbG93IGZ1dHVyZSBleHRyYWN0aW9uXG4gICAgICAgIC8vIG9mIHRoZSBsZXhlciB0byBhIHNlcGFyYXRlIHBhY2thZ2UuXG4gICAgICAgIHRoaXMuVFJBQ0VfSU5JVCA9IChwaGFzZURlc2MsIHBoYXNlSW1wbCkgPT4ge1xuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBvcHRpbWl6ZSB0aGlzIHVzaW5nIE5PT1AgcGF0dGVybiBiZWNhdXNlXG4gICAgICAgICAgICAvLyBJdCBpcyBub3QgY2FsbGVkIGluIGEgaG90IHNwb3QuLi5cbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdFBlcmYgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlSW5pdEluZGVudCsrO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGVudCA9IG5ldyBBcnJheSh0aGlzLnRyYWNlSW5pdEluZGVudCArIDEpLmpvaW4oXCJcXHRcIik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VJbml0SW5kZW50IDwgdGhpcy50cmFjZUluaXRNYXhJZGVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtpbmRlbnR9LS0+IDwke3BoYXNlRGVzY30+YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdGltZSwgdmFsdWUgfSA9IHRpbWVyKHBoYXNlSW1wbCk7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBEaWZmaWN1bHQgdG8gcmVwcm9kdWNlIHNwZWNpZmljIHBlcmZvcm1hbmNlIGJlaGF2aW9yICg+MTBtcykgaW4gdGVzdHMgKi9cbiAgICAgICAgICAgICAgICBjb25zdCB0cmFjZU1ldGhvZCA9IHRpbWUgPiAxMCA/IGNvbnNvbGUud2FybiA6IGNvbnNvbGUubG9nO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdEluZGVudCA8IHRoaXMudHJhY2VJbml0TWF4SWRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2VNZXRob2QoYCR7aW5kZW50fTwtLSA8JHtwaGFzZURlc2N9PiB0aW1lOiAke3RpbWV9bXNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZUluaXRJbmRlbnQtLTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGhhc2VJbXBsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgc2Vjb25kIGFyZ3VtZW50IHRvIHRoZSBMZXhlciBjb25zdHJ1Y3RvciBpcyBub3cgYW4gSUxleGVyQ29uZmlnIE9iamVjdC5cXG5cIiArXG4gICAgICAgICAgICAgICAgXCJhIGJvb2xlYW4gMm5kIGFyZ3VtZW50IGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG9kbzogZGVmYXVsdHMgZnVuYz9cbiAgICAgICAgdGhpcy5jb25maWcgPSBhc3NpZ24oe30sIERFRkFVTFRfTEVYRVJfQ09ORklHLCBjb25maWcpO1xuICAgICAgICBjb25zdCB0cmFjZUluaXRWYWwgPSB0aGlzLmNvbmZpZy50cmFjZUluaXRQZXJmO1xuICAgICAgICBpZiAodHJhY2VJbml0VmFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdE1heElkZW50ID0gSW5maW5pdHk7XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdFBlcmYgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0cmFjZUluaXRWYWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0TWF4SWRlbnQgPSB0cmFjZUluaXRWYWw7XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdFBlcmYgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhY2VJbml0SW5kZW50ID0gLTE7XG4gICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcIkxleGVyIENvbnN0cnVjdG9yXCIsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBhY3R1YWxEZWZpbml0aW9uO1xuICAgICAgICAgICAgbGV0IGhhc09ubHlTaW5nbGVNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcIkxleGVyIENvbmZpZyBoYW5kbGluZ1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxpbmVUZXJtaW5hdG9yc1BhdHRlcm4gPT09XG4gICAgICAgICAgICAgICAgICAgIERFRkFVTFRfTEVYRVJfQ09ORklHLmxpbmVUZXJtaW5hdG9yc1BhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW1pemVkIGJ1aWx0LWluIGltcGxlbWVudGF0aW9uIGZvciB0aGUgZGVmYXVsdHMgZGVmaW5pdGlvbiBvZiBsaW5lVGVybWluYXRvcnNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubGluZVRlcm1pbmF0b3JzUGF0dGVybiA9IExpbmVUZXJtaW5hdG9yT3B0aW1pemVkVGVzdGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycyA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIERFRkFVTFRfTEVYRVJfQ09ORklHLmxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFcnJvcjogTWlzc2luZyA8bGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzPiBwcm9wZXJ0eSBvbiB0aGUgTGV4ZXIgY29uZmlnLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI01JU1NJTkdfTElORV9URVJNX0NIQVJTXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb25maWcuc2FmZU1vZGUgJiYgY29uZmlnLmVuc3VyZU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1wic2FmZU1vZGVcIiBhbmQgXCJlbnN1cmVPcHRpbWl6YXRpb25zXCIgZmxhZ3MgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50cmFja1N0YXJ0TGluZXMgPSAvZnVsbHxvbmx5U3RhcnQvaS50ZXN0KHRoaXMuY29uZmlnLnBvc2l0aW9uVHJhY2tpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tFbmRMaW5lcyA9IC9mdWxsL2kudGVzdCh0aGlzLmNvbmZpZy5wb3NpdGlvblRyYWNraW5nKTtcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IFNpbmdsZU1vZGVMZXhlckRlZmluaXRpb24gaW50byBhIElNdWx0aU1vZGVMZXhlckRlZmluaXRpb24uXG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkobGV4ZXJEZWZpbml0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBhY3R1YWxEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZXM6IHsgZGVmYXVsdE1vZGU6IGNsb25lKGxleGVyRGVmaW5pdGlvbikgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNb2RlOiBERUZBVUxUX01PREUsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBubyBjb252ZXJzaW9uIG5lZWRlZCwgaW5wdXQgc2hvdWxkIGFscmVhZHkgYmUgYSBJTXVsdGlNb2RlTGV4ZXJEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICAgIGhhc09ubHlTaW5nbGVNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbERlZmluaXRpb24gPSBjbG9uZShsZXhlckRlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnNraXBWYWxpZGF0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJwZXJmb3JtUnVudGltZUNoZWNrc1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzID0gdGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMuY29uY2F0KHBlcmZvcm1SdW50aW1lQ2hlY2tzKGFjdHVhbERlZmluaXRpb24sIHRoaXMudHJhY2tTdGFydExpbmVzLCB0aGlzLmNvbmZpZy5saW5lVGVybWluYXRvckNoYXJhY3RlcnMpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJwZXJmb3JtV2FybmluZ1J1bnRpbWVDaGVja3NcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxleGVyRGVmaW5pdGlvbldhcm5pbmcgPSB0aGlzLmxleGVyRGVmaW5pdGlvbldhcm5pbmcuY29uY2F0KHBlcmZvcm1XYXJuaW5nUnVudGltZUNoZWNrcyhhY3R1YWxEZWZpbml0aW9uLCB0aGlzLnRyYWNrU3RhcnRMaW5lcywgdGhpcy5jb25maWcubGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmb3IgZXh0cmEgcm9idXN0bmVzcyB0byBhdm9pZCB0aHJvd2luZyBhbiBub25lIGluZm9ybWF0aXZlIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgICAgIGFjdHVhbERlZmluaXRpb24ubW9kZXMgPSBhY3R1YWxEZWZpbml0aW9uLm1vZGVzXG4gICAgICAgICAgICAgICAgPyBhY3R1YWxEZWZpbml0aW9uLm1vZGVzXG4gICAgICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgICAgIC8vIGFuIGVycm9yIG9mIHVuZGVmaW5lZCBUb2tlblR5cGVzIHdpbGwgYmUgZGV0ZWN0ZWQgaW4gXCJwZXJmb3JtUnVudGltZUNoZWNrc1wiIGFib3ZlLlxuICAgICAgICAgICAgLy8gdGhpcyB0cmFuc2Zvcm1hdGlvbiBpcyB0byBpbmNyZWFzZSByb2J1c3RuZXNzIGluIHRoZSBjYXNlIG9mIHBhcnRpYWxseSBpbnZhbGlkIGxleGVyIGRlZmluaXRpb24uXG4gICAgICAgICAgICBmb3JFYWNoKGFjdHVhbERlZmluaXRpb24ubW9kZXMsIChjdXJyTW9kZVZhbHVlLCBjdXJyTW9kZU5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBhY3R1YWxEZWZpbml0aW9uLm1vZGVzW2N1cnJNb2RlTmFtZV0gPSByZWplY3QoY3Vyck1vZGVWYWx1ZSwgKGN1cnJUb2tUeXBlKSA9PiBpc1VuZGVmaW5lZChjdXJyVG9rVHlwZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBhbGxNb2RlTmFtZXMgPSBrZXlzKGFjdHVhbERlZmluaXRpb24ubW9kZXMpO1xuICAgICAgICAgICAgZm9yRWFjaChhY3R1YWxEZWZpbml0aW9uLm1vZGVzLCAoY3Vyck1vZERlZiwgY3Vyck1vZE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLlRSQUNFX0lOSVQoYE1vZGU6IDwke2N1cnJNb2ROYW1lfT4gcHJvY2Vzc2luZ2AsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2Rlcy5wdXNoKGN1cnJNb2ROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnNraXBWYWxpZGF0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChgdmFsaWRhdGVQYXR0ZXJuc2AsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycyA9IHRoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzLmNvbmNhdCh2YWxpZGF0ZVBhdHRlcm5zKGN1cnJNb2REZWYsIGFsbE1vZGVOYW1lcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgZGVmaW5pdGlvbiBlcnJvcnMgd2VyZSBlbmNvdW50ZXJlZCwgdGhlIGFuYWx5c2lzIHBoYXNlIG1heSBmYWlsIHVuZXhwZWN0ZWRseS9cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29uc2lkZXJpbmcgYSBsZXhlciB3aXRoIGRlZmluaXRpb24gZXJyb3JzIG1heSBuZXZlciBiZSB1c2VkLCB0aGVyZSBpcyBubyBwb2ludFxuICAgICAgICAgICAgICAgICAgICAvLyB0byBwZXJmb3JtaW5nIHRoZSBhbmFseXNpcyBhbnlob3cuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRW1wdHkodGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWdtZW50VG9rZW5UeXBlcyhjdXJyTW9kRGVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyQW5hbHl6ZVJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChgYW5hbHl6ZVRva2VuVHlwZXNgLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckFuYWx5emVSZXN1bHQgPSBhbmFseXplVG9rZW5UeXBlcyhjdXJyTW9kRGVmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVyczogdGhpcy5jb25maWcubGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblRyYWNraW5nOiBjb25maWcucG9zaXRpb25UcmFja2luZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5zdXJlT3B0aW1pemF0aW9uczogY29uZmlnLmVuc3VyZU9wdGltaXphdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVNb2RlOiBjb25maWcuc2FmZU1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlcjogdGhpcy5UUkFDRV9JTklULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdHRlcm5JZHhUb0NvbmZpZ1tjdXJyTW9kTmFtZV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJBbmFseXplUmVzdWx0LnBhdHRlcm5JZHhUb0NvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZ1tjdXJyTW9kTmFtZV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJBbmFseXplUmVzdWx0LmNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtcHR5R3JvdXBzID0gYXNzaWduKHt9LCB0aGlzLmVtcHR5R3JvdXBzLCBjdXJyQW5hbHl6ZVJlc3VsdC5lbXB0eUdyb3Vwcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0N1c3RvbSA9IGN1cnJBbmFseXplUmVzdWx0Lmhhc0N1c3RvbSB8fCB0aGlzLmhhc0N1c3RvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuTW9kZUJlT3B0aW1pemVkW2N1cnJNb2ROYW1lXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckFuYWx5emVSZXN1bHQuY2FuQmVPcHRpbWl6ZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0TW9kZSA9IGFjdHVhbERlZmluaXRpb24uZGVmYXVsdE1vZGU7XG4gICAgICAgICAgICBpZiAoIWlzRW1wdHkodGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMpICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuY29uZmlnLmRlZmVyRGVmaW5pdGlvbkVycm9yc0hhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWxsRXJyTWVzc2FnZXMgPSBtYXAodGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGxFcnJNZXNzYWdlc1N0cmluZyA9IGFsbEVyck1lc3NhZ2VzLmpvaW4oXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblwiKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcnMgZGV0ZWN0ZWQgaW4gZGVmaW5pdGlvbiBvZiBMZXhlcjpcXG5cIiArIGFsbEVyck1lc3NhZ2VzU3RyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE9ubHkgcHJpbnQgd2FybmluZyBpZiB0aGVyZSBhcmUgbm8gZXJyb3JzLCBUaGlzIHdpbGwgYXZvaWQgcGxcbiAgICAgICAgICAgIGZvckVhY2godGhpcy5sZXhlckRlZmluaXRpb25XYXJuaW5nLCAod2FybmluZ0Rlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgICAgICBQUklOVF9XQVJOSU5HKHdhcm5pbmdEZXNjcmlwdG9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJDaG9vc2luZyBzdWItbWV0aG9kcyBpbXBsZW1lbnRhdGlvbnNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIENob29zZSB0aGUgcmVsZXZhbnQgaW50ZXJuYWwgaW1wbGVtZW50YXRpb25zIGZvciB0aGlzIHNwZWNpZmljIHBhcnNlci5cbiAgICAgICAgICAgICAgICAvLyBUaGVzZSBpbXBsZW1lbnRhdGlvbnMgc2hvdWxkIGJlIGluLWxpbmVkIGJ5IHRoZSBKYXZhU2NyaXB0IGVuZ2luZVxuICAgICAgICAgICAgICAgIC8vIHRvIHByb3ZpZGUgb3B0aW1hbCBwZXJmb3JtYW5jZSBpbiBlYWNoIHNjZW5hcmlvLlxuICAgICAgICAgICAgICAgIGlmIChTVVBQT1JUX1NUSUNLWSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNob3BJbnB1dCA9IGlkZW50aXR5O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoID0gdGhpcy5tYXRjaFdpdGhUZXN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMYXN0SW5kZXggPSBub29wO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoID0gdGhpcy5tYXRjaFdpdGhFeGVjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaGFzT25seVNpbmdsZU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNb2RlcyA9IG5vb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYWNrU3RhcnRMaW5lcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlTmV3Q29sdW1uID0gaWRlbnRpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYWNrRW5kTGluZXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVG9rZW5FbmRMaW5lQ29sdW1uTG9jYXRpb24gPSBub29wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoL2Z1bGwvaS50ZXN0KHRoaXMuY29uZmlnLnBvc2l0aW9uVHJhY2tpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVG9rZW5JbnN0YW5jZSA9IHRoaXMuY3JlYXRlRnVsbFRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvb25seVN0YXJ0L2kudGVzdCh0aGlzLmNvbmZpZy5wb3NpdGlvblRyYWNraW5nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVRva2VuSW5zdGFuY2UgPSB0aGlzLmNyZWF0ZVN0YXJ0T25seVRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvb25seU9mZnNldC9pLnRlc3QodGhpcy5jb25maWcucG9zaXRpb25UcmFja2luZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVUb2tlbkluc3RhbmNlID0gdGhpcy5jcmVhdGVPZmZzZXRPbmx5VG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgSW52YWxpZCA8cG9zaXRpb25UcmFja2luZz4gY29uZmlnIG9wdGlvbjogXCIke3RoaXMuY29uZmlnLnBvc2l0aW9uVHJhY2tpbmd9XCJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzQ3VzdG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVG9rZW4gPSB0aGlzLmFkZFRva2VuVXNpbmdQdXNoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVBheWxvYWQgPSB0aGlzLmhhbmRsZVBheWxvYWRXaXRoQ3VzdG9tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUb2tlbiA9IHRoaXMuYWRkVG9rZW5Vc2luZ01lbWJlckFjY2VzcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQYXlsb2FkID0gdGhpcy5oYW5kbGVQYXlsb2FkTm9DdXN0b207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJGYWlsZWQgT3B0aW1pemF0aW9uIFdhcm5pbmdzXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1bk9wdGltaXplZE1vZGVzID0gcmVkdWNlKHRoaXMuY2FuTW9kZUJlT3B0aW1pemVkLCAoY2Fubm90QmVPcHRpbWl6ZWQsIGNhbkJlT3B0aW1pemVkLCBtb2RlTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuQmVPcHRpbWl6ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5ub3RCZU9wdGltaXplZC5wdXNoKG1vZGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2Fubm90QmVPcHRpbWl6ZWQ7XG4gICAgICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgICAgICAgIGlmIChjb25maWcuZW5zdXJlT3B0aW1pemF0aW9ucyAmJiAhaXNFbXB0eSh1bk9wdGltaXplZE1vZGVzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgTGV4ZXIgTW9kZXM6IDwgJHt1bk9wdGltaXplZE1vZGVzLmpvaW4oXCIsIFwiKX0gPiBjYW5ub3QgYmUgb3B0aW1pemVkLlxcbmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdCBEaXNhYmxlIHRoZSBcImVuc3VyZU9wdGltaXphdGlvbnNcIiBsZXhlciBjb25maWcgZmxhZyB0byBzaWxlbnRseSBpZ25vcmUgdGhpcyBhbmQgcnVuIHRoZSBsZXhlciBpbiBhbiB1bi1vcHRpbWl6ZWQgbW9kZS5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx0IE9yIGluc3BlY3QgdGhlIGNvbnNvbGUgbG9nIGZvciBkZXRhaWxzIG9uIGhvdyB0byByZXNvbHZlIHRoZXNlIGlzc3Vlcy5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJjbGVhclJlZ0V4cFBhcnNlckNhY2hlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhclJlZ0V4cFBhcnNlckNhY2hlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcInRvRmFzdFByb3BlcnRpZXNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRvRmFzdFByb3BlcnRpZXModGhpcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRva2VuaXplKHRleHQsIGluaXRpYWxNb2RlID0gdGhpcy5kZWZhdWx0TW9kZSkge1xuICAgICAgICBpZiAoIWlzRW1wdHkodGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMpKSB7XG4gICAgICAgICAgICBjb25zdCBhbGxFcnJNZXNzYWdlcyA9IG1hcCh0aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGFsbEVyck1lc3NhZ2VzU3RyaW5nID0gYWxsRXJyTWVzc2FnZXMuam9pbihcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuXCIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIFRva2VuaXplIGJlY2F1c2UgRXJyb3JzIGRldGVjdGVkIGluIGRlZmluaXRpb24gb2YgTGV4ZXI6XFxuXCIgK1xuICAgICAgICAgICAgICAgIGFsbEVyck1lc3NhZ2VzU3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50b2tlbml6ZUludGVybmFsKHRleHQsIGluaXRpYWxNb2RlKTtcbiAgICB9XG4gICAgLy8gVGhlcmUgaXMgcXVpdGUgYSBiaXQgb2YgZHVwbGljYXRpb24gYmV0d2VlbiB0aGlzIGFuZCBcInRva2VuaXplSW50ZXJuYWxMYXp5XCJcbiAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsIGR1ZSB0byBwZXJmb3JtYW5jZSBjb25zaWRlcmF0aW9ucy5cbiAgICAvLyB0aGlzIG1ldGhvZCBhbHNvIHVzZWQgcXVpdGUgYSBiaXQgb2YgYCFgIG5vbmUgbnVsbCBhc3NlcnRpb25zIGJlY2F1c2UgaXQgaXMgdG9vIG9wdGltaXplZFxuICAgIC8vIGZvciBgdHNjYCB0byBhbHdheXMgdW5kZXJzdGFuZCBpdCBpcyBcInNhZmVcIlxuICAgIHRva2VuaXplSW50ZXJuYWwodGV4dCwgaW5pdGlhbE1vZGUpIHtcbiAgICAgICAgbGV0IGksIGosIGssIG1hdGNoQWx0SW1hZ2UsIGxvbmdlckFsdCwgbWF0Y2hlZEltYWdlLCBwYXlsb2FkLCBhbHRQYXlsb2FkLCBpbWFnZUxlbmd0aCwgZ3JvdXAsIHRva1R5cGUsIG5ld1Rva2VuLCBlcnJMZW5ndGgsIGRyb3BwZWRDaGFyLCBtc2csIG1hdGNoO1xuICAgICAgICBjb25zdCBvcmdUZXh0ID0gdGV4dDtcbiAgICAgICAgY29uc3Qgb3JnTGVuZ3RoID0gb3JnVGV4dC5sZW5ndGg7XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBsZXQgbWF0Y2hlZFRva2Vuc0luZGV4ID0gMDtcbiAgICAgICAgLy8gaW5pdGlhbGl6aW5nIHRoZSB0b2tlbnNBcnJheSB0byB0aGUgXCJndWVzc2VkXCIgc2l6ZS5cbiAgICAgICAgLy8gZ3Vlc3NpbmcgdG9vIGxpdHRsZSB3aWxsIHN0aWxsIHJlZHVjZSB0aGUgbnVtYmVyIG9mIGFycmF5IHJlLXNpemVzIG9uIHB1c2hlcy5cbiAgICAgICAgLy8gZ3Vlc3NpbmcgdG9vIGxhcmdlIChUZXN0ZWQgYnkgZ3Vlc3NpbmcgeDQgdG9vIGxhcmdlKSBtYXkgY29zdCBhIGJpdCBtb3JlIG9mIG1lbW9yeVxuICAgICAgICAvLyBidXQgd291bGQgc3RpbGwgaGF2ZSBhIGZhc3RlciBydW50aW1lIGJ5IGF2b2lkaW5nIChBbGwgYnV0IG9uZSkgYXJyYXkgcmVzaXppbmcuXG4gICAgICAgIGNvbnN0IGd1ZXNzZWROdW1iZXJPZlRva2VucyA9IHRoaXMuaGFzQ3VzdG9tXG4gICAgICAgICAgICA/IDAgLy8gd2lsbCBicmVhayBjdXN0b20gdG9rZW4gcGF0dGVybiBBUElzIHRoZSBtYXRjaGVkVG9rZW5zIGFycmF5IHdpbGwgY29udGFpbiB1bmRlZmluZWQgZWxlbWVudHMuXG4gICAgICAgICAgICA6IE1hdGguZmxvb3IodGV4dC5sZW5ndGggLyAxMCk7XG4gICAgICAgIGNvbnN0IG1hdGNoZWRUb2tlbnMgPSBuZXcgQXJyYXkoZ3Vlc3NlZE51bWJlck9mVG9rZW5zKTtcbiAgICAgICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgICAgIGxldCBsaW5lID0gdGhpcy50cmFja1N0YXJ0TGluZXMgPyAxIDogdW5kZWZpbmVkO1xuICAgICAgICBsZXQgY29sdW1uID0gdGhpcy50cmFja1N0YXJ0TGluZXMgPyAxIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBncm91cHMgPSBjbG9uZUVtcHR5R3JvdXBzKHRoaXMuZW1wdHlHcm91cHMpO1xuICAgICAgICBjb25zdCB0cmFja0xpbmVzID0gdGhpcy50cmFja1N0YXJ0TGluZXM7XG4gICAgICAgIGNvbnN0IGxpbmVUZXJtaW5hdG9yUGF0dGVybiA9IHRoaXMuY29uZmlnLmxpbmVUZXJtaW5hdG9yc1BhdHRlcm47XG4gICAgICAgIGxldCBjdXJyTW9kZVBhdHRlcm5zTGVuZ3RoID0gMDtcbiAgICAgICAgbGV0IHBhdHRlcm5JZHhUb0NvbmZpZyA9IFtdO1xuICAgICAgICBsZXQgY3VyckNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgPSBbXTtcbiAgICAgICAgY29uc3QgbW9kZVN0YWNrID0gW107XG4gICAgICAgIGNvbnN0IGVtcHR5QXJyYXkgPSBbXTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShlbXB0eUFycmF5KTtcbiAgICAgICAgbGV0IGdldFBvc3NpYmxlUGF0dGVybnM7XG4gICAgICAgIGZ1bmN0aW9uIGdldFBvc3NpYmxlUGF0dGVybnNTbG93KCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm5JZHhUb0NvbmZpZztcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRQb3NzaWJsZVBhdHRlcm5zT3B0aW1pemVkKGNoYXJDb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpbWl6ZWRDaGFySWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KGNoYXJDb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlUGF0dGVybnMgPSBjdXJyQ2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZ1tvcHRpbWl6ZWRDaGFySWR4XTtcbiAgICAgICAgICAgIGlmIChwb3NzaWJsZVBhdHRlcm5zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlBcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBwb3NzaWJsZVBhdHRlcm5zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvcF9tb2RlID0gKHBvcFRva2VuKSA9PiB7XG4gICAgICAgICAgICAvLyBUT0RPOiBwZXJoYXBzIGF2b2lkIHRoaXMgZXJyb3IgaW4gdGhlIGVkZ2UgY2FzZSB0aGVyZSBpcyBubyBtb3JlIGlucHV0P1xuICAgICAgICAgICAgaWYgKG1vZGVTdGFjay5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGJvdGggYSBQT1BfTU9ERSBhbmQgYSBQVVNIX01PREUgdGhpcyBpcyBpbi1mYWN0IGEgXCJ0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICAvLyBTbyBubyBlcnJvciBzaG91bGQgb2NjdXIuXG4gICAgICAgICAgICAgICAgcG9wVG9rZW4udG9rZW5UeXBlLlBVU0hfTU9ERSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgdHJ5IHRvIHBvcCB0aGUgbGFzdCBtb2RlIHRoZXJlIGxleGVyIHdpbGwgbm8gbG9uZ2VyIGhhdmUgQU5ZIG1vZGUuXG4gICAgICAgICAgICAgICAgLy8gdGh1cyB0aGUgcG9wIGlzIGlnbm9yZWQsIGFuIGVycm9yIHdpbGwgYmUgY3JlYXRlZCBhbmQgdGhlIGxleGVyIHdpbGwgY29udGludWUgcGFyc2luZyBpbiB0aGUgcHJldmlvdXMgbW9kZS5cbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSB0aGlzLmNvbmZpZy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZFVuYWJsZVRvUG9wTGV4ZXJNb2RlTWVzc2FnZShwb3BUb2tlbik7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHBvcFRva2VuLnN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lOiBwb3BUb2tlbi5zdGFydExpbmUsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogcG9wVG9rZW4uc3RhcnRDb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogcG9wVG9rZW4uaW1hZ2UubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2csXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlU3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TW9kZSA9IGxhc3QobW9kZVN0YWNrKTtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuSWR4VG9Db25maWcgPSB0aGlzLnBhdHRlcm5JZHhUb0NvbmZpZ1tuZXdNb2RlXTtcbiAgICAgICAgICAgICAgICBjdXJyQ2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZ1tuZXdNb2RlXTtcbiAgICAgICAgICAgICAgICBjdXJyTW9kZVBhdHRlcm5zTGVuZ3RoID0gcGF0dGVybklkeFRvQ29uZmlnLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlQ2FuQmVPcHRpbWl6ZWQgPSB0aGlzLmNhbk1vZGVCZU9wdGltaXplZFtuZXdNb2RlXSAmJiB0aGlzLmNvbmZpZy5zYWZlTW9kZSA9PT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJDaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnICYmIG1vZGVDYW5CZU9wdGltaXplZCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRQb3NzaWJsZVBhdHRlcm5zID0gZ2V0UG9zc2libGVQYXR0ZXJuc09wdGltaXplZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBvc3NpYmxlUGF0dGVybnMgPSBnZXRQb3NzaWJsZVBhdHRlcm5zU2xvdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIHB1c2hfbW9kZShuZXdNb2RlKSB7XG4gICAgICAgICAgICBtb2RlU3RhY2sucHVzaChuZXdNb2RlKTtcbiAgICAgICAgICAgIGN1cnJDaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnID1cbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWdbbmV3TW9kZV07XG4gICAgICAgICAgICBwYXR0ZXJuSWR4VG9Db25maWcgPSB0aGlzLnBhdHRlcm5JZHhUb0NvbmZpZ1tuZXdNb2RlXTtcbiAgICAgICAgICAgIGN1cnJNb2RlUGF0dGVybnNMZW5ndGggPSBwYXR0ZXJuSWR4VG9Db25maWcubGVuZ3RoO1xuICAgICAgICAgICAgY3Vyck1vZGVQYXR0ZXJuc0xlbmd0aCA9IHBhdHRlcm5JZHhUb0NvbmZpZy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBtb2RlQ2FuQmVPcHRpbWl6ZWQgPSB0aGlzLmNhbk1vZGVCZU9wdGltaXplZFtuZXdNb2RlXSAmJiB0aGlzLmNvbmZpZy5zYWZlTW9kZSA9PT0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY3VyckNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgJiYgbW9kZUNhbkJlT3B0aW1pemVkKSB7XG4gICAgICAgICAgICAgICAgZ2V0UG9zc2libGVQYXR0ZXJucyA9IGdldFBvc3NpYmxlUGF0dGVybnNPcHRpbWl6ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRQb3NzaWJsZVBhdHRlcm5zID0gZ2V0UG9zc2libGVQYXR0ZXJuc1Nsb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyBwYXR0ZXJuIHNlZW1zIHRvIGF2b2lkIGEgVjggZGUtb3B0aW1pemF0aW9uLCBhbHRob3VnaCB0aGF0IGRlLW9wdGltaXphdGlvbiBkb2VzIG5vdFxuICAgICAgICAvLyBzZWVtIHRvIG1hdHRlciBwZXJmb3JtYW5jZSB3aXNlLlxuICAgICAgICBwdXNoX21vZGUuY2FsbCh0aGlzLCBpbml0aWFsTW9kZSk7XG4gICAgICAgIGxldCBjdXJyQ29uZmlnO1xuICAgICAgICBjb25zdCByZWNvdmVyeUVuYWJsZWQgPSB0aGlzLmNvbmZpZy5yZWNvdmVyeUVuYWJsZWQ7XG4gICAgICAgIHdoaWxlIChvZmZzZXQgPCBvcmdMZW5ndGgpIHtcbiAgICAgICAgICAgIG1hdGNoZWRJbWFnZSA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCBuZXh0Q2hhckNvZGUgPSBvcmdUZXh0LmNoYXJDb2RlQXQob2Zmc2V0KTtcbiAgICAgICAgICAgIGNvbnN0IGNob3NlblBhdHRlcm5JZHhUb0NvbmZpZyA9IGdldFBvc3NpYmxlUGF0dGVybnMobmV4dENoYXJDb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IGNob3NlblBhdHRlcm5zTGVuZ3RoID0gY2hvc2VuUGF0dGVybklkeFRvQ29uZmlnLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjaG9zZW5QYXR0ZXJuc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VyckNvbmZpZyA9IGNob3NlblBhdHRlcm5JZHhUb0NvbmZpZ1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyUGF0dGVybiA9IGN1cnJDb25maWcucGF0dGVybjtcbiAgICAgICAgICAgICAgICBwYXlsb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAvLyBtYW51YWxseSBpbi1saW5lZCBiZWNhdXNlID4gNjAwIGNoYXJzIHdvbid0IGJlIGluLWxpbmVkIGluIFY4XG4gICAgICAgICAgICAgICAgY29uc3Qgc2luZ2xlQ2hhckNvZGUgPSBjdXJyQ29uZmlnLnNob3J0O1xuICAgICAgICAgICAgICAgIGlmIChzaW5nbGVDaGFyQ29kZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRDaGFyQ29kZSA9PT0gc2luZ2xlQ2hhckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBjaGFyYWN0ZXIgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBjdXJyUGF0dGVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyQ29uZmlnLmlzQ3VzdG9tID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoID0gY3VyclBhdHRlcm4uZXhlYyhvcmdUZXh0LCBvZmZzZXQsIG1hdGNoZWRUb2tlbnMsIGdyb3Vwcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEltYWdlID0gbWF0Y2hbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gucGF5bG9hZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZCA9IG1hdGNoLnBheWxvYWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxhc3RJbmRleChjdXJyUGF0dGVybiwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEltYWdlID0gdGhpcy5tYXRjaChjdXJyUGF0dGVybiwgdGV4dCwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZWRJbWFnZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVuIHRob3VnaCB0aGlzIHBhdHRlcm4gbWF0Y2hlZCB3ZSBtdXN0IHRyeSBhIGFub3RoZXIgbG9uZ2VyIGFsdGVybmF0aXZlLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNhbiBiZSB1c2VkIHRvIHByaW9yaXRpemUga2V5d29yZHMgb3ZlciBpZGVudGlmaWVyc1xuICAgICAgICAgICAgICAgICAgICBsb25nZXJBbHQgPSBjdXJyQ29uZmlnLmxvbmdlckFsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvbmdlckFsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBtaWNybyBvcHRpbWl6ZSwgYXZvaWQgZXh0cmEgcHJvcCBhY2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ5IHNhdmluZy9saW5raW5nIGxvbmdlckFsdCBvbiB0aGUgb3JpZ2luYWwgY29uZmlnP1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9uZ2VyQWx0TGVuZ3RoID0gbG9uZ2VyQWx0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBsb25nZXJBbHRMZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvbmdlckFsdENvbmZpZyA9IHBhdHRlcm5JZHhUb0NvbmZpZ1tsb25nZXJBbHRba11dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvbmdlckFsdFBhdHRlcm4gPSBsb25nZXJBbHRDb25maWcucGF0dGVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRQYXlsb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5nbGUgQ2hhciBjYW4gbmV2ZXIgYmUgYSBsb25nZXIgYWx0IHNvIG5vIG5lZWQgdG8gdGVzdCBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtYW51YWxseSBpbi1saW5lZCBiZWNhdXNlID4gNjAwIGNoYXJzIHdvbid0IGJlIGluLWxpbmVkIGluIFY4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvbmdlckFsdENvbmZpZy5pc0N1c3RvbSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IGxvbmdlckFsdFBhdHRlcm4uZXhlYyhvcmdUZXh0LCBvZmZzZXQsIG1hdGNoZWRUb2tlbnMsIGdyb3Vwcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hBbHRJbWFnZSA9IG1hdGNoWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoLnBheWxvYWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdFBheWxvYWQgPSBtYXRjaC5wYXlsb2FkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hBbHRJbWFnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGFzdEluZGV4KGxvbmdlckFsdFBhdHRlcm4sIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoQWx0SW1hZ2UgPSB0aGlzLm1hdGNoKGxvbmdlckFsdFBhdHRlcm4sIHRleHQsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaEFsdEltYWdlICYmIG1hdGNoQWx0SW1hZ2UubGVuZ3RoID4gbWF0Y2hlZEltYWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBtYXRjaEFsdEltYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkID0gYWx0UGF5bG9hZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckNvbmZpZyA9IGxvbmdlckFsdENvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhpdCB0aGUgbG9vcCBlYXJseSBhZnRlciBtYXRjaGluZyBvbmUgb2YgdGhlIGxvbmdlciBhbHRlcm5hdGl2ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGZpcnN0IG1hdGNoZWQgYWx0ZXJuYXRpdmUgdGFrZXMgcHJlY2VkZW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc3VjY2Vzc2Z1bCBtYXRjaFxuICAgICAgICAgICAgaWYgKG1hdGNoZWRJbWFnZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGltYWdlTGVuZ3RoID0gbWF0Y2hlZEltYWdlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBncm91cCA9IGN1cnJDb25maWcuZ3JvdXA7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rVHlwZSA9IGN1cnJDb25maWcudG9rZW5UeXBlSWR4O1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBcIm9mZnNldCArIGltYWdlTGVuZ3RoXCIgYW5kIHRoZSBuZXcgY29sdW1uIG1heSBiZSBjb21wdXRlZCB0d2ljZSBpbiBjYXNlIG9mIFwiZnVsbFwiIGxvY2F0aW9uIGluZm9ybWF0aW9uIGluc2lkZVxuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGVGdWxsVG9rZW4gbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgIG5ld1Rva2VuID0gdGhpcy5jcmVhdGVUb2tlbkluc3RhbmNlKG1hdGNoZWRJbWFnZSwgb2Zmc2V0LCB0b2tUeXBlLCBjdXJyQ29uZmlnLnRva2VuVHlwZSwgbGluZSwgY29sdW1uLCBpbWFnZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUGF5bG9hZChuZXdUb2tlbiwgcGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG9wdGltaXplIE5PT1AgaW4gY2FzZSB0aGVyZSBhcmUgbm8gc3BlY2lhbCBncm91cHM/XG4gICAgICAgICAgICAgICAgICAgIGlmIChncm91cCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRUb2tlbnNJbmRleCA9IHRoaXMuYWRkVG9rZW4obWF0Y2hlZFRva2VucywgbWF0Y2hlZFRva2Vuc0luZGV4LCBuZXdUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cHNbZ3JvdXBdLnB1c2gobmV3VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRleHQgPSB0aGlzLmNob3BJbnB1dCh0ZXh0LCBpbWFnZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ICsgaW1hZ2VMZW5ndGg7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogd2l0aCBuZXdsaW5lcyB0aGUgY29sdW1uIG1heSBiZSBhc3NpZ25lZCB0d2ljZVxuICAgICAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuY29tcHV0ZU5ld0NvbHVtbihjb2x1bW4sIGltYWdlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2tMaW5lcyA9PT0gdHJ1ZSAmJiBjdXJyQ29uZmlnLmNhbkxpbmVUZXJtaW5hdG9yID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBudW1PZkxUc0luTWF0Y2ggPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmRUZXJtaW5hdG9yO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdExURW5kT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBsaW5lVGVybWluYXRvclBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRUZXJtaW5hdG9yID0gbGluZVRlcm1pbmF0b3JQYXR0ZXJuLnRlc3QobWF0Y2hlZEltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZFRlcm1pbmF0b3IgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TFRFbmRPZmZzZXQgPSBsaW5lVGVybWluYXRvclBhdHRlcm4ubGFzdEluZGV4IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1PZkxUc0luTWF0Y2grKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoZm91bmRUZXJtaW5hdG9yID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bU9mTFRzSW5NYXRjaCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmUgKyBudW1PZkxUc0luTWF0Y2g7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBpbWFnZUxlbmd0aCAtIGxhc3RMVEVuZE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVG9rZW5FbmRMaW5lQ29sdW1uTG9jYXRpb24obmV3VG9rZW4sIGdyb3VwLCBsYXN0TFRFbmRPZmZzZXQsIG51bU9mTFRzSW5NYXRjaCwgbGluZSwgY29sdW1uLCBpbWFnZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gd2lsbCBiZSBOT09QIGlmIG5vIG1vZGVzIHByZXNlbnRcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vZGVzKGN1cnJDb25maWcsIHBvcF9tb2RlLCBwdXNoX21vZGUsIG5ld1Rva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVycm9yIHJlY292ZXJ5LCBkcm9wIGNoYXJhY3RlcnMgdW50aWwgd2UgaWRlbnRpZnkgYSB2YWxpZCB0b2tlbidzIHN0YXJ0IHBvaW50XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdGFydE9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvckxpbmUgPSBsaW5lO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yQ29sdW1uID0gY29sdW1uO1xuICAgICAgICAgICAgICAgIGxldCBmb3VuZFJlc3luY1BvaW50ID0gcmVjb3ZlcnlFbmFibGVkID09PSBmYWxzZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoZm91bmRSZXN5bmNQb2ludCA9PT0gZmFsc2UgJiYgb2Zmc2V0IDwgb3JnTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElkZW50aXR5IEZ1bmMgKHdoZW4gc3RpY2t5IGZsYWcgaXMgZW5hYmxlZClcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuY2hvcElucHV0KHRleHQsIDEpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGN1cnJNb2RlUGF0dGVybnNMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyckNvbmZpZyA9IHBhdHRlcm5JZHhUb0NvbmZpZ1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJQYXR0ZXJuID0gY3VyckNvbmZpZy5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFudWFsbHkgaW4tbGluZWQgYmVjYXVzZSA+IDYwMCBjaGFycyB3b24ndCBiZSBpbi1saW5lZCBpbiBWOFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2luZ2xlQ2hhckNvZGUgPSBjdXJyQ29uZmlnLnNob3J0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpbmdsZUNoYXJDb2RlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmdUZXh0LmNoYXJDb2RlQXQob2Zmc2V0KSA9PT0gc2luZ2xlQ2hhckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luZ2xlIGNoYXJhY3RlciBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRSZXN5bmNQb2ludCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VyckNvbmZpZy5pc0N1c3RvbSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kUmVzeW5jUG9pbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyUGF0dGVybi5leGVjKG9yZ1RleHQsIG9mZnNldCwgbWF0Y2hlZFRva2VucywgZ3JvdXBzKSAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGFzdEluZGV4KGN1cnJQYXR0ZXJuLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kUmVzeW5jUG9pbnQgPSBjdXJyUGF0dGVybi5leGVjKHRleHQpICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kUmVzeW5jUG9pbnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlcnJMZW5ndGggPSBvZmZzZXQgLSBlcnJvclN0YXJ0T2Zmc2V0O1xuICAgICAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuY29tcHV0ZU5ld0NvbHVtbihjb2x1bW4sIGVyckxlbmd0aCk7XG4gICAgICAgICAgICAgICAgLy8gYXQgdGhpcyBwb2ludCB3ZSBlaXRoZXIgcmUtc3luY2VkIG9yIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgdGV4dFxuICAgICAgICAgICAgICAgIG1zZyA9IHRoaXMuY29uZmlnLmVycm9yTWVzc2FnZVByb3ZpZGVyLmJ1aWxkVW5leHBlY3RlZENoYXJhY3RlcnNNZXNzYWdlKG9yZ1RleHQsIGVycm9yU3RhcnRPZmZzZXQsIGVyckxlbmd0aCwgZXJyb3JMaW5lLCBlcnJvckNvbHVtbik7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGVycm9yU3RhcnRPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGxpbmU6IGVycm9yTGluZSxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBlcnJvckNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBlcnJMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3ZlcnlFbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgZG8gaGF2ZSBjdXN0b20gcGF0dGVybnMgd2hpY2ggcHVzaCBkaXJlY3RseSBpbnRvIHRoZVxuICAgICAgICAvLyBUT0RPOiBjdXN0b20gdG9rZW5zIHNob3VsZCBub3QgcHVzaCBkaXJlY3RseT8/XG4gICAgICAgIGlmICghdGhpcy5oYXNDdXN0b20pIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGd1ZXNzZWQgYSB0b28gbGFyZ2Ugc2l6ZSBmb3IgdGhlIHRva2VucyBhcnJheSB0aGlzIHdpbGwgc2hyaW5rIGl0IHRvIHRoZSByaWdodCBzaXplLlxuICAgICAgICAgICAgbWF0Y2hlZFRva2Vucy5sZW5ndGggPSBtYXRjaGVkVG9rZW5zSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRva2VuczogbWF0Y2hlZFRva2VucyxcbiAgICAgICAgICAgIGdyb3VwczogZ3JvdXBzLFxuICAgICAgICAgICAgZXJyb3JzOiBlcnJvcnMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGhhbmRsZU1vZGVzKGNvbmZpZywgcG9wX21vZGUsIHB1c2hfbW9kZSwgbmV3VG9rZW4pIHtcbiAgICAgICAgaWYgKGNvbmZpZy5wb3AgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gc2F2ZSB0aGUgUFVTSF9NT0RFIHByb3BlcnR5IGFzIGlmIHRoZSBtb2RlIGlzIHBvcHBlZFxuICAgICAgICAgICAgLy8gcGF0dGVybklkeFRvUG9wTW9kZSBpcyB1cGRhdGVkIHRvIHJlZmxlY3QgdGhlIG5ldyBtb2RlIGFmdGVyIHBvcHBpbmcgdGhlIHN0YWNrXG4gICAgICAgICAgICBjb25zdCBwdXNoTW9kZSA9IGNvbmZpZy5wdXNoO1xuICAgICAgICAgICAgcG9wX21vZGUobmV3VG9rZW4pO1xuICAgICAgICAgICAgaWYgKHB1c2hNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwdXNoX21vZGUuY2FsbCh0aGlzLCBwdXNoTW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnLnB1c2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHVzaF9tb2RlLmNhbGwodGhpcywgY29uZmlnLnB1c2gpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNob3BJbnB1dCh0ZXh0LCBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKGxlbmd0aCk7XG4gICAgfVxuICAgIHVwZGF0ZUxhc3RJbmRleChyZWdFeHAsIG5ld0xhc3RJbmRleCkge1xuICAgICAgICByZWdFeHAubGFzdEluZGV4ID0gbmV3TGFzdEluZGV4O1xuICAgIH1cbiAgICAvLyBUT0RPOiBkZWNyZWFzZSB0aGlzIHVuZGVyIDYwMCBjaGFyYWN0ZXJzPyBpbnNwZWN0IHN0cmlwcGluZyBjb21tZW50cyBvcHRpb24gaW4gVFNDIGNvbXBpbGVyXG4gICAgdXBkYXRlVG9rZW5FbmRMaW5lQ29sdW1uTG9jYXRpb24obmV3VG9rZW4sIGdyb3VwLCBsYXN0TFRJZHgsIG51bU9mTFRzSW5NYXRjaCwgbGluZSwgY29sdW1uLCBpbWFnZUxlbmd0aCkge1xuICAgICAgICBsZXQgbGFzdENoYXJJc0xULCBmaXhGb3JFbmRpbmdJbkxUO1xuICAgICAgICBpZiAoZ3JvdXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gYSBub25lIHNraXBwZWQgbXVsdGkgbGluZSBUb2tlbiwgbmVlZCB0byB1cGRhdGUgZW5kTGluZS9lbmRDb2x1bW5cbiAgICAgICAgICAgIGxhc3RDaGFySXNMVCA9IGxhc3RMVElkeCA9PT0gaW1hZ2VMZW5ndGggLSAxO1xuICAgICAgICAgICAgZml4Rm9yRW5kaW5nSW5MVCA9IGxhc3RDaGFySXNMVCA/IC0xIDogMDtcbiAgICAgICAgICAgIGlmICghKG51bU9mTFRzSW5NYXRjaCA9PT0gMSAmJiBsYXN0Q2hhcklzTFQgPT09IHRydWUpKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYSB0b2tlbiBlbmRzIGluIGEgTFQgdGhhdCBsYXN0IExUIG9ubHkgYWZmZWN0cyB0aGUgbGluZSBudW1iZXJpbmcgb2YgZm9sbG93aW5nIFRva2Vuc1xuICAgICAgICAgICAgICAgIG5ld1Rva2VuLmVuZExpbmUgPSBsaW5lICsgZml4Rm9yRW5kaW5nSW5MVDtcbiAgICAgICAgICAgICAgICAvLyB0aGUgbGFzdCBMVCBpbiBhIHRva2VuIGRvZXMgbm90IGFmZmVjdCB0aGUgZW5kQ29sdW1uIGVpdGhlciBhcyB0aGUgW2NvbHVtblN0YXJ0IC4uLiBjb2x1bW5FbmQpXG4gICAgICAgICAgICAgICAgLy8gaW5jbHVzaXZlIHRvIGV4Y2x1c2l2ZSByYW5nZS5cbiAgICAgICAgICAgICAgICBuZXdUb2tlbi5lbmRDb2x1bW4gPSBjb2x1bW4gLSAxICsgLWZpeEZvckVuZGluZ0luTFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbHNlIHNpbmdsZSBMVCBpbiB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgYSB0b2tlbiwgbm8gbmVlZCB0byBtb2RpZnkgdGhlIGVuZExpbmUvRW5kQ29sdW1uXG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcHV0ZU5ld0NvbHVtbihvbGRDb2x1bW4sIGltYWdlTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBvbGRDb2x1bW4gKyBpbWFnZUxlbmd0aDtcbiAgICB9XG4gICAgY3JlYXRlT2Zmc2V0T25seVRva2VuKGltYWdlLCBzdGFydE9mZnNldCwgdG9rZW5UeXBlSWR4LCB0b2tlblR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGltYWdlLFxuICAgICAgICAgICAgc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICB0b2tlblR5cGVJZHgsXG4gICAgICAgICAgICB0b2tlblR5cGUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNyZWF0ZVN0YXJ0T25seVRva2VuKGltYWdlLCBzdGFydE9mZnNldCwgdG9rZW5UeXBlSWR4LCB0b2tlblR5cGUsIHN0YXJ0TGluZSwgc3RhcnRDb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGltYWdlLFxuICAgICAgICAgICAgc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICBzdGFydExpbmUsXG4gICAgICAgICAgICBzdGFydENvbHVtbixcbiAgICAgICAgICAgIHRva2VuVHlwZUlkeCxcbiAgICAgICAgICAgIHRva2VuVHlwZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY3JlYXRlRnVsbFRva2VuKGltYWdlLCBzdGFydE9mZnNldCwgdG9rZW5UeXBlSWR4LCB0b2tlblR5cGUsIHN0YXJ0TGluZSwgc3RhcnRDb2x1bW4sIGltYWdlTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgZW5kT2Zmc2V0OiBzdGFydE9mZnNldCArIGltYWdlTGVuZ3RoIC0gMSxcbiAgICAgICAgICAgIHN0YXJ0TGluZSxcbiAgICAgICAgICAgIGVuZExpbmU6IHN0YXJ0TGluZSxcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uLFxuICAgICAgICAgICAgZW5kQ29sdW1uOiBzdGFydENvbHVtbiArIGltYWdlTGVuZ3RoIC0gMSxcbiAgICAgICAgICAgIHRva2VuVHlwZUlkeCxcbiAgICAgICAgICAgIHRva2VuVHlwZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYWRkVG9rZW5Vc2luZ1B1c2godG9rZW5WZWN0b3IsIGluZGV4LCB0b2tlblRvQWRkKSB7XG4gICAgICAgIHRva2VuVmVjdG9yLnB1c2godG9rZW5Ub0FkZCk7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgYWRkVG9rZW5Vc2luZ01lbWJlckFjY2Vzcyh0b2tlblZlY3RvciwgaW5kZXgsIHRva2VuVG9BZGQpIHtcbiAgICAgICAgdG9rZW5WZWN0b3JbaW5kZXhdID0gdG9rZW5Ub0FkZDtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBoYW5kbGVQYXlsb2FkTm9DdXN0b20odG9rZW4sIHBheWxvYWQpIHsgfVxuICAgIGhhbmRsZVBheWxvYWRXaXRoQ3VzdG9tKHRva2VuLCBwYXlsb2FkKSB7XG4gICAgICAgIGlmIChwYXlsb2FkICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0b2tlbi5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXRjaFdpdGhUZXN0KHBhdHRlcm4sIHRleHQsIG9mZnNldCkge1xuICAgICAgICBjb25zdCBmb3VuZCA9IHBhdHRlcm4udGVzdCh0ZXh0KTtcbiAgICAgICAgaWYgKGZvdW5kID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcob2Zmc2V0LCBwYXR0ZXJuLmxhc3RJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIG1hdGNoV2l0aEV4ZWMocGF0dGVybiwgdGV4dCkge1xuICAgICAgICBjb25zdCByZWdFeHBBcnJheSA9IHBhdHRlcm4uZXhlYyh0ZXh0KTtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cEFycmF5ICE9PSBudWxsID8gcmVnRXhwQXJyYXlbMF0gOiBudWxsO1xuICAgIH1cbn1cbkxleGVyLlNLSVBQRUQgPSBcIlRoaXMgbWFya3MgYSBza2lwcGVkIFRva2VuIHBhdHRlcm4sIHRoaXMgbWVhbnMgZWFjaCB0b2tlbiBpZGVudGlmaWVkIGJ5IGl0IHdpbGxcIiArXG4gICAgXCJiZSBjb25zdW1lZCBhbmQgdGhlbiB0aHJvd24gaW50byBvYmxpdmlvbiwgdGhpcyBjYW4gYmUgdXNlZCB0byBmb3IgZXhhbXBsZSB0byBjb21wbGV0ZWx5IGlnbm9yZSB3aGl0ZXNwYWNlLlwiO1xuTGV4ZXIuTkEgPSAvTk9UX0FQUExJQ0FCTEUvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV4ZXJfcHVibGljLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_public.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/reg_exp.js":
/*!***********************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/reg_exp.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canMatchCharCode: () => (/* binding */ canMatchCharCode),\n/* harmony export */   failedOptimizationPrefixMsg: () => (/* binding */ failedOptimizationPrefixMsg),\n/* harmony export */   firstCharOptimizedIndices: () => (/* binding */ firstCharOptimizedIndices),\n/* harmony export */   getOptimizedStartCodesIndices: () => (/* binding */ getOptimizedStartCodesIndices)\n/* harmony export */ });\n/* harmony import */ var _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/regexp-to-ast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+regexp-to-ast@11.0.3/node_modules/@chevrotain/regexp-to-ast/lib/src/api.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/values.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/find.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/includes.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/every.js\");\n/* harmony import */ var _chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chevrotain/utils */ \"(ssr)/../node_modules/.pnpm/@chevrotain+utils@11.0.3/node_modules/@chevrotain/utils/lib/src/api.js\");\n/* harmony import */ var _reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reg_exp_parser.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/reg_exp_parser.js\");\n/* harmony import */ var _lexer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lexer.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer.js\");\n\n\n\n\n\nconst complementErrorMessage = \"Complement Sets are not supported for first char optimization\";\nconst failedOptimizationPrefixMsg = 'Unable to use \"first char\" lexer optimizations:\\n';\nfunction getOptimizedStartCodesIndices(regExp, ensureOptimizations = false) {\n    try {\n        const ast = (0,_reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_2__.getRegExpAst)(regExp);\n        const firstChars = firstCharOptimizedIndices(ast.value, {}, ast.flags.ignoreCase);\n        return firstChars;\n    }\n    catch (e) {\n        /* istanbul ignore next */\n        // Testing this relies on the regexp-to-ast library having a bug... */\n        // TODO: only the else branch needs to be ignored, try to fix with newer prettier / tsc\n        if (e.message === complementErrorMessage) {\n            if (ensureOptimizations) {\n                (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__.PRINT_WARNING)(`${failedOptimizationPrefixMsg}` +\n                    `\\tUnable to optimize: < ${regExp.toString()} >\\n` +\n                    \"\\tComplement Sets cannot be automatically optimized.\\n\" +\n                    \"\\tThis will disable the lexer's first char optimizations.\\n\" +\n                    \"\\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.\");\n            }\n        }\n        else {\n            let msgSuffix = \"\";\n            if (ensureOptimizations) {\n                msgSuffix =\n                    \"\\n\\tThis will disable the lexer's first char optimizations.\\n\" +\n                        \"\\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.\";\n            }\n            (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__.PRINT_ERROR)(`${failedOptimizationPrefixMsg}\\n` +\n                `\\tFailed parsing: < ${regExp.toString()} >\\n` +\n                `\\tUsing the @chevrotain/regexp-to-ast library\\n` +\n                \"\\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues\" +\n                msgSuffix);\n        }\n    }\n    return [];\n}\nfunction firstCharOptimizedIndices(ast, result, ignoreCase) {\n    switch (ast.type) {\n        case \"Disjunction\":\n            for (let i = 0; i < ast.value.length; i++) {\n                firstCharOptimizedIndices(ast.value[i], result, ignoreCase);\n            }\n            break;\n        case \"Alternative\":\n            const terms = ast.value;\n            for (let i = 0; i < terms.length; i++) {\n                const term = terms[i];\n                // skip terms that cannot effect the first char results\n                switch (term.type) {\n                    case \"EndAnchor\":\n                    // A group back reference cannot affect potential starting char.\n                    // because if a back reference is the first production than automatically\n                    // the group being referenced has had to come BEFORE so its codes have already been added\n                    case \"GroupBackReference\":\n                    // assertions do not affect potential starting codes\n                    case \"Lookahead\":\n                    case \"NegativeLookahead\":\n                    case \"StartAnchor\":\n                    case \"WordBoundary\":\n                    case \"NonWordBoundary\":\n                        continue;\n                }\n                const atom = term;\n                switch (atom.type) {\n                    case \"Character\":\n                        addOptimizedIdxToResult(atom.value, result, ignoreCase);\n                        break;\n                    case \"Set\":\n                        if (atom.complement === true) {\n                            throw Error(complementErrorMessage);\n                        }\n                        (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(atom.value, (code) => {\n                            if (typeof code === \"number\") {\n                                addOptimizedIdxToResult(code, result, ignoreCase);\n                            }\n                            else {\n                                // range\n                                const range = code;\n                                // cannot optimize when ignoreCase is\n                                if (ignoreCase === true) {\n                                    for (let rangeCode = range.from; rangeCode <= range.to; rangeCode++) {\n                                        addOptimizedIdxToResult(rangeCode, result, ignoreCase);\n                                    }\n                                }\n                                // Optimization (2 orders of magnitude less work for very large ranges)\n                                else {\n                                    // handle unoptimized values\n                                    for (let rangeCode = range.from; rangeCode <= range.to && rangeCode < _lexer_js__WEBPACK_IMPORTED_MODULE_3__.minOptimizationVal; rangeCode++) {\n                                        addOptimizedIdxToResult(rangeCode, result, ignoreCase);\n                                    }\n                                    // Less common charCode where we optimize for faster init time, by using larger \"buckets\"\n                                    if (range.to >= _lexer_js__WEBPACK_IMPORTED_MODULE_3__.minOptimizationVal) {\n                                        const minUnOptVal = range.from >= _lexer_js__WEBPACK_IMPORTED_MODULE_3__.minOptimizationVal\n                                            ? range.from\n                                            : _lexer_js__WEBPACK_IMPORTED_MODULE_3__.minOptimizationVal;\n                                        const maxUnOptVal = range.to;\n                                        const minOptIdx = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_3__.charCodeToOptimizedIndex)(minUnOptVal);\n                                        const maxOptIdx = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_3__.charCodeToOptimizedIndex)(maxUnOptVal);\n                                        for (let currOptIdx = minOptIdx; currOptIdx <= maxOptIdx; currOptIdx++) {\n                                            result[currOptIdx] = currOptIdx;\n                                        }\n                                    }\n                                }\n                            }\n                        });\n                        break;\n                    case \"Group\":\n                        firstCharOptimizedIndices(atom.value, result, ignoreCase);\n                        break;\n                    /* istanbul ignore next */\n                    default:\n                        throw Error(\"Non Exhaustive Match\");\n                }\n                // reached a mandatory production, no more **start** codes can be found on this alternative\n                const isOptionalQuantifier = atom.quantifier !== undefined && atom.quantifier.atLeast === 0;\n                if (\n                // A group may be optional due to empty contents /(?:)/\n                // or if everything inside it is optional /((a)?)/\n                (atom.type === \"Group\" && isWholeOptional(atom) === false) ||\n                    // If this term is not a group it may only be optional if it has an optional quantifier\n                    (atom.type !== \"Group\" && isOptionalQuantifier === false)) {\n                    break;\n                }\n            }\n            break;\n        /* istanbul ignore next */\n        default:\n            throw Error(\"non exhaustive match!\");\n    }\n    // console.log(Object.keys(result).length)\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(result);\n}\nfunction addOptimizedIdxToResult(code, result, ignoreCase) {\n    const optimizedCharIdx = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_3__.charCodeToOptimizedIndex)(code);\n    result[optimizedCharIdx] = optimizedCharIdx;\n    if (ignoreCase === true) {\n        handleIgnoreCase(code, result);\n    }\n}\nfunction handleIgnoreCase(code, result) {\n    const char = String.fromCharCode(code);\n    const upperChar = char.toUpperCase();\n    /* istanbul ignore else */\n    if (upperChar !== char) {\n        const optimizedCharIdx = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_3__.charCodeToOptimizedIndex)(upperChar.charCodeAt(0));\n        result[optimizedCharIdx] = optimizedCharIdx;\n    }\n    else {\n        const lowerChar = char.toLowerCase();\n        if (lowerChar !== char) {\n            const optimizedCharIdx = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_3__.charCodeToOptimizedIndex)(lowerChar.charCodeAt(0));\n            result[optimizedCharIdx] = optimizedCharIdx;\n        }\n    }\n}\nfunction findCode(setNode, targetCharCodes) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(setNode.value, (codeOrRange) => {\n        if (typeof codeOrRange === \"number\") {\n            return (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(targetCharCodes, codeOrRange);\n        }\n        else {\n            // range\n            const range = codeOrRange;\n            return ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(targetCharCodes, (targetCode) => range.from <= targetCode && targetCode <= range.to) !== undefined);\n        }\n    });\n}\nfunction isWholeOptional(ast) {\n    const quantifier = ast.quantifier;\n    if (quantifier && quantifier.atLeast === 0) {\n        return true;\n    }\n    if (!ast.value) {\n        return false;\n    }\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(ast.value)\n        ? (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(ast.value, isWholeOptional)\n        : isWholeOptional(ast.value);\n}\nclass CharCodeFinder extends _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__.BaseRegExpVisitor {\n    constructor(targetCharCodes) {\n        super();\n        this.targetCharCodes = targetCharCodes;\n        this.found = false;\n    }\n    visitChildren(node) {\n        // No need to keep looking...\n        if (this.found === true) {\n            return;\n        }\n        // switch lookaheads as they do not actually consume any characters thus\n        // finding a charCode at lookahead context does not mean that regexp can actually contain it in a match.\n        switch (node.type) {\n            case \"Lookahead\":\n                this.visitLookahead(node);\n                return;\n            case \"NegativeLookahead\":\n                this.visitNegativeLookahead(node);\n                return;\n        }\n        super.visitChildren(node);\n    }\n    visitCharacter(node) {\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.targetCharCodes, node.value)) {\n            this.found = true;\n        }\n    }\n    visitSet(node) {\n        if (node.complement) {\n            if (findCode(node, this.targetCharCodes) === undefined) {\n                this.found = true;\n            }\n        }\n        else {\n            if (findCode(node, this.targetCharCodes) !== undefined) {\n                this.found = true;\n            }\n        }\n    }\n}\nfunction canMatchCharCode(charCodes, pattern) {\n    if (pattern instanceof RegExp) {\n        const ast = (0,_reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_2__.getRegExpAst)(pattern);\n        const charCodeFinder = new CharCodeFinder(charCodes);\n        charCodeFinder.visit(ast);\n        return charCodeFinder.found;\n    }\n    else {\n        return ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(pattern, (char) => {\n            return (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(charCodes, char.charCodeAt(0));\n        }) !== undefined);\n    }\n}\n//# sourceMappingURL=reg_exp.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvc2Nhbi9yZWdfZXhwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStEO0FBQ2E7QUFDYjtBQUNaO0FBQ3VCO0FBQzFFO0FBQ087QUFDQTtBQUNQO0FBQ0Esb0JBQW9CLGdFQUFZO0FBQ2hDLGtFQUFrRTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdFQUFhLElBQUksNEJBQTRCO0FBQzdELCtDQUErQyxtQkFBbUI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4REFBVyxJQUFJLDRCQUE0QjtBQUN2RCx1Q0FBdUMsbUJBQW1CO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGtCQUFrQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxREFBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLHVCQUF1QjtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUscUNBQXFDLHlEQUFrQixFQUFFO0FBQzlIO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCx5REFBa0I7QUFDdEUsMEVBQTBFLHlEQUFrQjtBQUM1RjtBQUNBLDhDQUE4Qyx5REFBa0I7QUFDaEU7QUFDQSwwREFBMEQsbUVBQXdCO0FBQ2xGLDBEQUEwRCxtRUFBd0I7QUFDbEYseUVBQXlFLHlCQUF5QjtBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxREFBTTtBQUNqQjtBQUNBO0FBQ0EsNkJBQTZCLG1FQUF3QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxtRUFBd0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxtRUFBd0I7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscURBQUk7QUFDZjtBQUNBLG1CQUFtQixxREFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxREFBSTtBQUN4QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHFEQUFPO0FBQ2xCLFVBQVUscURBQUs7QUFDZjtBQUNBO0FBQ0EsNkJBQTZCLHdFQUFpQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0IsZ0VBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBSTtBQUNwQixtQkFBbUIscURBQVE7QUFDM0IsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9zY2FuL3JlZ19leHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZVJlZ0V4cFZpc2l0b3IsIH0gZnJvbSBcIkBjaGV2cm90YWluL3JlZ2V4cC10by1hc3RcIjtcbmltcG9ydCB7IGV2ZXJ5LCBmaW5kLCBmb3JFYWNoLCBpbmNsdWRlcywgaXNBcnJheSwgdmFsdWVzIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgUFJJTlRfRVJST1IsIFBSSU5UX1dBUk5JTkcgfSBmcm9tIFwiQGNoZXZyb3RhaW4vdXRpbHNcIjtcbmltcG9ydCB7IGdldFJlZ0V4cEFzdCB9IGZyb20gXCIuL3JlZ19leHBfcGFyc2VyLmpzXCI7XG5pbXBvcnQgeyBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgsIG1pbk9wdGltaXphdGlvblZhbCB9IGZyb20gXCIuL2xleGVyLmpzXCI7XG5jb25zdCBjb21wbGVtZW50RXJyb3JNZXNzYWdlID0gXCJDb21wbGVtZW50IFNldHMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIGZpcnN0IGNoYXIgb3B0aW1pemF0aW9uXCI7XG5leHBvcnQgY29uc3QgZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnID0gJ1VuYWJsZSB0byB1c2UgXCJmaXJzdCBjaGFyXCIgbGV4ZXIgb3B0aW1pemF0aW9uczpcXG4nO1xuZXhwb3J0IGZ1bmN0aW9uIGdldE9wdGltaXplZFN0YXJ0Q29kZXNJbmRpY2VzKHJlZ0V4cCwgZW5zdXJlT3B0aW1pemF0aW9ucyA9IGZhbHNlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYXN0ID0gZ2V0UmVnRXhwQXN0KHJlZ0V4cCk7XG4gICAgICAgIGNvbnN0IGZpcnN0Q2hhcnMgPSBmaXJzdENoYXJPcHRpbWl6ZWRJbmRpY2VzKGFzdC52YWx1ZSwge30sIGFzdC5mbGFncy5pZ25vcmVDYXNlKTtcbiAgICAgICAgcmV0dXJuIGZpcnN0Q2hhcnM7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIC8vIFRlc3RpbmcgdGhpcyByZWxpZXMgb24gdGhlIHJlZ2V4cC10by1hc3QgbGlicmFyeSBoYXZpbmcgYSBidWcuLi4gKi9cbiAgICAgICAgLy8gVE9ETzogb25seSB0aGUgZWxzZSBicmFuY2ggbmVlZHMgdG8gYmUgaWdub3JlZCwgdHJ5IHRvIGZpeCB3aXRoIG5ld2VyIHByZXR0aWVyIC8gdHNjXG4gICAgICAgIGlmIChlLm1lc3NhZ2UgPT09IGNvbXBsZW1lbnRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGlmIChlbnN1cmVPcHRpbWl6YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgUFJJTlRfV0FSTklORyhgJHtmYWlsZWRPcHRpbWl6YXRpb25QcmVmaXhNc2d9YCArXG4gICAgICAgICAgICAgICAgICAgIGBcXHRVbmFibGUgdG8gb3B0aW1pemU6IDwgJHtyZWdFeHAudG9TdHJpbmcoKX0gPlxcbmAgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcdENvbXBsZW1lbnQgU2V0cyBjYW5ub3QgYmUgYXV0b21hdGljYWxseSBvcHRpbWl6ZWQuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcdFRoaXMgd2lsbCBkaXNhYmxlIHRoZSBsZXhlcidzIGZpcnN0IGNoYXIgb3B0aW1pemF0aW9ucy5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0U2VlOiBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjQ09NUExFTUVOVCBmb3IgZGV0YWlscy5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbXNnU3VmZml4ID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChlbnN1cmVPcHRpbWl6YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgbXNnU3VmZml4ID1cbiAgICAgICAgICAgICAgICAgICAgXCJcXG5cXHRUaGlzIHdpbGwgZGlzYWJsZSB0aGUgbGV4ZXIncyBmaXJzdCBjaGFyIG9wdGltaXphdGlvbnMuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHRTZWU6IGh0dHBzOi8vY2hldnJvdGFpbi5pby9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNSRUdFWFBfUEFSU0lORyBmb3IgZGV0YWlscy5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFBSSU5UX0VSUk9SKGAke2ZhaWxlZE9wdGltaXphdGlvblByZWZpeE1zZ31cXG5gICtcbiAgICAgICAgICAgICAgICBgXFx0RmFpbGVkIHBhcnNpbmc6IDwgJHtyZWdFeHAudG9TdHJpbmcoKX0gPlxcbmAgK1xuICAgICAgICAgICAgICAgIGBcXHRVc2luZyB0aGUgQGNoZXZyb3RhaW4vcmVnZXhwLXRvLWFzdCBsaWJyYXJ5XFxuYCArXG4gICAgICAgICAgICAgICAgXCJcXHRQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdDogaHR0cHM6Ly9naXRodWIuY29tL2NoZXZyb3RhaW4vY2hldnJvdGFpbi9pc3N1ZXNcIiArXG4gICAgICAgICAgICAgICAgbXNnU3VmZml4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW107XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3RDaGFyT3B0aW1pemVkSW5kaWNlcyhhc3QsIHJlc3VsdCwgaWdub3JlQ2FzZSkge1xuICAgIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIkRpc2p1bmN0aW9uXCI6XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFzdC52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGZpcnN0Q2hhck9wdGltaXplZEluZGljZXMoYXN0LnZhbHVlW2ldLCByZXN1bHQsIGlnbm9yZUNhc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJBbHRlcm5hdGl2ZVwiOlxuICAgICAgICAgICAgY29uc3QgdGVybXMgPSBhc3QudmFsdWU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVybSA9IHRlcm1zW2ldO1xuICAgICAgICAgICAgICAgIC8vIHNraXAgdGVybXMgdGhhdCBjYW5ub3QgZWZmZWN0IHRoZSBmaXJzdCBjaGFyIHJlc3VsdHNcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRlcm0udHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRW5kQW5jaG9yXCI6XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgZ3JvdXAgYmFjayByZWZlcmVuY2UgY2Fubm90IGFmZmVjdCBwb3RlbnRpYWwgc3RhcnRpbmcgY2hhci5cbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBpZiBhIGJhY2sgcmVmZXJlbmNlIGlzIHRoZSBmaXJzdCBwcm9kdWN0aW9uIHRoYW4gYXV0b21hdGljYWxseVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZ3JvdXAgYmVpbmcgcmVmZXJlbmNlZCBoYXMgaGFkIHRvIGNvbWUgQkVGT1JFIHNvIGl0cyBjb2RlcyBoYXZlIGFscmVhZHkgYmVlbiBhZGRlZFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR3JvdXBCYWNrUmVmZXJlbmNlXCI6XG4gICAgICAgICAgICAgICAgICAgIC8vIGFzc2VydGlvbnMgZG8gbm90IGFmZmVjdCBwb3RlbnRpYWwgc3RhcnRpbmcgY29kZXNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkxvb2thaGVhZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTmVnYXRpdmVMb29rYWhlYWRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlN0YXJ0QW5jaG9yXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJXb3JkQm91bmRhcnlcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5vbldvcmRCb3VuZGFyeVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGF0b20gPSB0ZXJtO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXRvbS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDaGFyYWN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZE9wdGltaXplZElkeFRvUmVzdWx0KGF0b20udmFsdWUsIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNldFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0b20uY29tcGxlbWVudCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGNvbXBsZW1lbnRFcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yRWFjaChhdG9tLnZhbHVlLCAoY29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29kZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRPcHRpbWl6ZWRJZHhUb1Jlc3VsdChjb2RlLCByZXN1bHQsIGlnbm9yZUNhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBjb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYW5ub3Qgb3B0aW1pemUgd2hlbiBpZ25vcmVDYXNlIGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZ25vcmVDYXNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByYW5nZUNvZGUgPSByYW5nZS5mcm9tOyByYW5nZUNvZGUgPD0gcmFuZ2UudG87IHJhbmdlQ29kZSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkT3B0aW1pemVkSWR4VG9SZXN1bHQocmFuZ2VDb2RlLCByZXN1bHQsIGlnbm9yZUNhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wdGltaXphdGlvbiAoMiBvcmRlcnMgb2YgbWFnbml0dWRlIGxlc3Mgd29yayBmb3IgdmVyeSBsYXJnZSByYW5nZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIHVub3B0aW1pemVkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcmFuZ2VDb2RlID0gcmFuZ2UuZnJvbTsgcmFuZ2VDb2RlIDw9IHJhbmdlLnRvICYmIHJhbmdlQ29kZSA8IG1pbk9wdGltaXphdGlvblZhbDsgcmFuZ2VDb2RlKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRPcHRpbWl6ZWRJZHhUb1Jlc3VsdChyYW5nZUNvZGUsIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXNzIGNvbW1vbiBjaGFyQ29kZSB3aGVyZSB3ZSBvcHRpbWl6ZSBmb3IgZmFzdGVyIGluaXQgdGltZSwgYnkgdXNpbmcgbGFyZ2VyIFwiYnVja2V0c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2UudG8gPj0gbWluT3B0aW1pemF0aW9uVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWluVW5PcHRWYWwgPSByYW5nZS5mcm9tID49IG1pbk9wdGltaXphdGlvblZhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJhbmdlLmZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtaW5PcHRpbWl6YXRpb25WYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4VW5PcHRWYWwgPSByYW5nZS50bztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5PcHRJZHggPSBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgobWluVW5PcHRWYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heE9wdElkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChtYXhVbk9wdFZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY3Vyck9wdElkeCA9IG1pbk9wdElkeDsgY3Vyck9wdElkeCA8PSBtYXhPcHRJZHg7IGN1cnJPcHRJZHgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbY3Vyck9wdElkeF0gPSBjdXJyT3B0SWR4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHcm91cFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDaGFyT3B0aW1pemVkSW5kaWNlcyhhdG9tLnZhbHVlLCByZXN1bHQsIGlnbm9yZUNhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk5vbiBFeGhhdXN0aXZlIE1hdGNoXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZWFjaGVkIGEgbWFuZGF0b3J5IHByb2R1Y3Rpb24sIG5vIG1vcmUgKipzdGFydCoqIGNvZGVzIGNhbiBiZSBmb3VuZCBvbiB0aGlzIGFsdGVybmF0aXZlXG4gICAgICAgICAgICAgICAgY29uc3QgaXNPcHRpb25hbFF1YW50aWZpZXIgPSBhdG9tLnF1YW50aWZpZXIgIT09IHVuZGVmaW5lZCAmJiBhdG9tLnF1YW50aWZpZXIuYXRMZWFzdCA9PT0gMDtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgLy8gQSBncm91cCBtYXkgYmUgb3B0aW9uYWwgZHVlIHRvIGVtcHR5IGNvbnRlbnRzIC8oPzopL1xuICAgICAgICAgICAgICAgIC8vIG9yIGlmIGV2ZXJ5dGhpbmcgaW5zaWRlIGl0IGlzIG9wdGlvbmFsIC8oKGEpPykvXG4gICAgICAgICAgICAgICAgKGF0b20udHlwZSA9PT0gXCJHcm91cFwiICYmIGlzV2hvbGVPcHRpb25hbChhdG9tKSA9PT0gZmFsc2UpIHx8XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgdGVybSBpcyBub3QgYSBncm91cCBpdCBtYXkgb25seSBiZSBvcHRpb25hbCBpZiBpdCBoYXMgYW4gb3B0aW9uYWwgcXVhbnRpZmllclxuICAgICAgICAgICAgICAgICAgICAoYXRvbS50eXBlICE9PSBcIkdyb3VwXCIgJiYgaXNPcHRpb25hbFF1YW50aWZpZXIgPT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2ghXCIpO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZyhPYmplY3Qua2V5cyhyZXN1bHQpLmxlbmd0aClcbiAgICByZXR1cm4gdmFsdWVzKHJlc3VsdCk7XG59XG5mdW5jdGlvbiBhZGRPcHRpbWl6ZWRJZHhUb1Jlc3VsdChjb2RlLCByZXN1bHQsIGlnbm9yZUNhc2UpIHtcbiAgICBjb25zdCBvcHRpbWl6ZWRDaGFySWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KGNvZGUpO1xuICAgIHJlc3VsdFtvcHRpbWl6ZWRDaGFySWR4XSA9IG9wdGltaXplZENoYXJJZHg7XG4gICAgaWYgKGlnbm9yZUNhc2UgPT09IHRydWUpIHtcbiAgICAgICAgaGFuZGxlSWdub3JlQ2FzZShjb2RlLCByZXN1bHQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZUlnbm9yZUNhc2UoY29kZSwgcmVzdWx0KSB7XG4gICAgY29uc3QgY2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgY29uc3QgdXBwZXJDaGFyID0gY2hhci50b1VwcGVyQ2FzZSgpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHVwcGVyQ2hhciAhPT0gY2hhcikge1xuICAgICAgICBjb25zdCBvcHRpbWl6ZWRDaGFySWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KHVwcGVyQ2hhci5jaGFyQ29kZUF0KDApKTtcbiAgICAgICAgcmVzdWx0W29wdGltaXplZENoYXJJZHhdID0gb3B0aW1pemVkQ2hhcklkeDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGxvd2VyQ2hhciA9IGNoYXIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGxvd2VyQ2hhciAhPT0gY2hhcikge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW1pemVkQ2hhcklkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChsb3dlckNoYXIuY2hhckNvZGVBdCgwKSk7XG4gICAgICAgICAgICByZXN1bHRbb3B0aW1pemVkQ2hhcklkeF0gPSBvcHRpbWl6ZWRDaGFySWR4O1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZENvZGUoc2V0Tm9kZSwgdGFyZ2V0Q2hhckNvZGVzKSB7XG4gICAgcmV0dXJuIGZpbmQoc2V0Tm9kZS52YWx1ZSwgKGNvZGVPclJhbmdlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgY29kZU9yUmFuZ2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmNsdWRlcyh0YXJnZXRDaGFyQ29kZXMsIGNvZGVPclJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJhbmdlXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IGNvZGVPclJhbmdlO1xuICAgICAgICAgICAgcmV0dXJuIChmaW5kKHRhcmdldENoYXJDb2RlcywgKHRhcmdldENvZGUpID0+IHJhbmdlLmZyb20gPD0gdGFyZ2V0Q29kZSAmJiB0YXJnZXRDb2RlIDw9IHJhbmdlLnRvKSAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gaXNXaG9sZU9wdGlvbmFsKGFzdCkge1xuICAgIGNvbnN0IHF1YW50aWZpZXIgPSBhc3QucXVhbnRpZmllcjtcbiAgICBpZiAocXVhbnRpZmllciAmJiBxdWFudGlmaWVyLmF0TGVhc3QgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghYXN0LnZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkoYXN0LnZhbHVlKVxuICAgICAgICA/IGV2ZXJ5KGFzdC52YWx1ZSwgaXNXaG9sZU9wdGlvbmFsKVxuICAgICAgICA6IGlzV2hvbGVPcHRpb25hbChhc3QudmFsdWUpO1xufVxuY2xhc3MgQ2hhckNvZGVGaW5kZXIgZXh0ZW5kcyBCYXNlUmVnRXhwVmlzaXRvciB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0Q2hhckNvZGVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGFyZ2V0Q2hhckNvZGVzID0gdGFyZ2V0Q2hhckNvZGVzO1xuICAgICAgICB0aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgfVxuICAgIHZpc2l0Q2hpbGRyZW4obm9kZSkge1xuICAgICAgICAvLyBObyBuZWVkIHRvIGtlZXAgbG9va2luZy4uLlxuICAgICAgICBpZiAodGhpcy5mb3VuZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN3aXRjaCBsb29rYWhlYWRzIGFzIHRoZXkgZG8gbm90IGFjdHVhbGx5IGNvbnN1bWUgYW55IGNoYXJhY3RlcnMgdGh1c1xuICAgICAgICAvLyBmaW5kaW5nIGEgY2hhckNvZGUgYXQgbG9va2FoZWFkIGNvbnRleHQgZG9lcyBub3QgbWVhbiB0aGF0IHJlZ2V4cCBjYW4gYWN0dWFsbHkgY29udGFpbiBpdCBpbiBhIG1hdGNoLlxuICAgICAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIkxvb2thaGVhZFwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRMb29rYWhlYWQobm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcIk5lZ2F0aXZlTG9va2FoZWFkXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdE5lZ2F0aXZlTG9va2FoZWFkKG5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci52aXNpdENoaWxkcmVuKG5vZGUpO1xuICAgIH1cbiAgICB2aXNpdENoYXJhY3Rlcihub2RlKSB7XG4gICAgICAgIGlmIChpbmNsdWRlcyh0aGlzLnRhcmdldENoYXJDb2Rlcywgbm9kZS52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0U2V0KG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuY29tcGxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGZpbmRDb2RlKG5vZGUsIHRoaXMudGFyZ2V0Q2hhckNvZGVzKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3VuZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZmluZENvZGUobm9kZSwgdGhpcy50YXJnZXRDaGFyQ29kZXMpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjYW5NYXRjaENoYXJDb2RlKGNoYXJDb2RlcywgcGF0dGVybikge1xuICAgIGlmIChwYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIGNvbnN0IGFzdCA9IGdldFJlZ0V4cEFzdChwYXR0ZXJuKTtcbiAgICAgICAgY29uc3QgY2hhckNvZGVGaW5kZXIgPSBuZXcgQ2hhckNvZGVGaW5kZXIoY2hhckNvZGVzKTtcbiAgICAgICAgY2hhckNvZGVGaW5kZXIudmlzaXQoYXN0KTtcbiAgICAgICAgcmV0dXJuIGNoYXJDb2RlRmluZGVyLmZvdW5kO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChmaW5kKHBhdHRlcm4sIChjaGFyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gaW5jbHVkZXMoY2hhckNvZGVzLCBjaGFyLmNoYXJDb2RlQXQoMCkpO1xuICAgICAgICB9KSAhPT0gdW5kZWZpbmVkKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWdfZXhwLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/reg_exp.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/reg_exp_parser.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/reg_exp_parser.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearRegExpParserCache: () => (/* binding */ clearRegExpParserCache),\n/* harmony export */   getRegExpAst: () => (/* binding */ getRegExpAst)\n/* harmony export */ });\n/* harmony import */ var _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/regexp-to-ast */ \"(ssr)/../node_modules/.pnpm/@chevrotain+regexp-to-ast@11.0.3/node_modules/@chevrotain/regexp-to-ast/lib/src/api.js\");\n\nlet regExpAstCache = {};\nconst regExpParser = new _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__.RegExpParser();\nfunction getRegExpAst(regExp) {\n    const regExpStr = regExp.toString();\n    if (regExpAstCache.hasOwnProperty(regExpStr)) {\n        return regExpAstCache[regExpStr];\n    }\n    else {\n        const regExpAst = regExpParser.pattern(regExpStr);\n        regExpAstCache[regExpStr] = regExpAst;\n        return regExpAst;\n    }\n}\nfunction clearRegExpParserCache() {\n    regExpAstCache = {};\n}\n//# sourceMappingURL=reg_exp_parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvc2Nhbi9yZWdfZXhwX3BhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEQ7QUFDMUQ7QUFDQSx5QkFBeUIsbUVBQVk7QUFDOUI7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZXRoYW5raW0vTmVzdG9yL21lZGZldGNoLmpzL25vZGVfbW9kdWxlcy8ucG5wbS9jaGV2cm90YWluQDExLjAuMy9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vcmVnX2V4cF9wYXJzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVnRXhwUGFyc2VyLCB9IGZyb20gXCJAY2hldnJvdGFpbi9yZWdleHAtdG8tYXN0XCI7XG5sZXQgcmVnRXhwQXN0Q2FjaGUgPSB7fTtcbmNvbnN0IHJlZ0V4cFBhcnNlciA9IG5ldyBSZWdFeHBQYXJzZXIoKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWdFeHBBc3QocmVnRXhwKSB7XG4gICAgY29uc3QgcmVnRXhwU3RyID0gcmVnRXhwLnRvU3RyaW5nKCk7XG4gICAgaWYgKHJlZ0V4cEFzdENhY2hlLmhhc093blByb3BlcnR5KHJlZ0V4cFN0cikpIHtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cEFzdENhY2hlW3JlZ0V4cFN0cl07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByZWdFeHBBc3QgPSByZWdFeHBQYXJzZXIucGF0dGVybihyZWdFeHBTdHIpO1xuICAgICAgICByZWdFeHBBc3RDYWNoZVtyZWdFeHBTdHJdID0gcmVnRXhwQXN0O1xuICAgICAgICByZXR1cm4gcmVnRXhwQXN0O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclJlZ0V4cFBhcnNlckNhY2hlKCkge1xuICAgIHJlZ0V4cEFzdENhY2hlID0ge307XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWdfZXhwX3BhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/reg_exp_parser.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens.js":
/*!**********************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assignCategoriesMapProp: () => (/* binding */ assignCategoriesMapProp),\n/* harmony export */   assignCategoriesTokensProp: () => (/* binding */ assignCategoriesTokensProp),\n/* harmony export */   assignTokenDefaultProps: () => (/* binding */ assignTokenDefaultProps),\n/* harmony export */   augmentTokenTypes: () => (/* binding */ augmentTokenTypes),\n/* harmony export */   expandCategories: () => (/* binding */ expandCategories),\n/* harmony export */   hasCategoriesProperty: () => (/* binding */ hasCategoriesProperty),\n/* harmony export */   hasExtendingTokensTypesMapProperty: () => (/* binding */ hasExtendingTokensTypesMapProperty),\n/* harmony export */   hasExtendingTokensTypesProperty: () => (/* binding */ hasExtendingTokensTypesProperty),\n/* harmony export */   hasShortKeyProperty: () => (/* binding */ hasShortKeyProperty),\n/* harmony export */   isTokenType: () => (/* binding */ isTokenType),\n/* harmony export */   singleAssignCategoriesToksMap: () => (/* binding */ singleAssignCategoriesToksMap),\n/* harmony export */   tokenIdxToClass: () => (/* binding */ tokenIdxToClass),\n/* harmony export */   tokenShortNameIdx: () => (/* binding */ tokenShortNameIdx),\n/* harmony export */   tokenStructuredMatcher: () => (/* binding */ tokenStructuredMatcher),\n/* harmony export */   tokenStructuredMatcherNoCategories: () => (/* binding */ tokenStructuredMatcherNoCategories)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/clone.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/compact.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/flatten.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/difference.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/includes.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js\");\n\nfunction tokenStructuredMatcher(tokInstance, tokConstructor) {\n    const instanceType = tokInstance.tokenTypeIdx;\n    if (instanceType === tokConstructor.tokenTypeIdx) {\n        return true;\n    }\n    else {\n        return (tokConstructor.isParent === true &&\n            tokConstructor.categoryMatchesMap[instanceType] === true);\n    }\n}\n// Optimized tokenMatcher in case our grammar does not use token categories\n// Being so tiny it is much more likely to be in-lined and this avoid the function call overhead\nfunction tokenStructuredMatcherNoCategories(token, tokType) {\n    return token.tokenTypeIdx === tokType.tokenTypeIdx;\n}\nlet tokenShortNameIdx = 1;\nconst tokenIdxToClass = {};\nfunction augmentTokenTypes(tokenTypes) {\n    // collect the parent Token Types as well.\n    const tokenTypesAndParents = expandCategories(tokenTypes);\n    // add required tokenType and categoryMatches properties\n    assignTokenDefaultProps(tokenTypesAndParents);\n    // fill up the categoryMatches\n    assignCategoriesMapProp(tokenTypesAndParents);\n    assignCategoriesTokensProp(tokenTypesAndParents);\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tokenTypesAndParents, (tokType) => {\n        tokType.isParent = tokType.categoryMatches.length > 0;\n    });\n}\nfunction expandCategories(tokenTypes) {\n    let result = (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(tokenTypes);\n    let categories = tokenTypes;\n    let searching = true;\n    while (searching) {\n        categories = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(categories, (currTokType) => currTokType.CATEGORIES)));\n        const newCategories = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(categories, result);\n        result = result.concat(newCategories);\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(newCategories)) {\n            searching = false;\n        }\n        else {\n            categories = newCategories;\n        }\n    }\n    return result;\n}\nfunction assignTokenDefaultProps(tokenTypes) {\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tokenTypes, (currTokType) => {\n        if (!hasShortKeyProperty(currTokType)) {\n            tokenIdxToClass[tokenShortNameIdx] = currTokType;\n            currTokType.tokenTypeIdx = tokenShortNameIdx++;\n        }\n        // CATEGORIES? : TokenType | TokenType[]\n        if (hasCategoriesProperty(currTokType) &&\n            !(0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(currTokType.CATEGORIES)\n        // &&\n        // !isUndefined(currTokType.CATEGORIES.PATTERN)\n        ) {\n            currTokType.CATEGORIES = [currTokType.CATEGORIES];\n        }\n        if (!hasCategoriesProperty(currTokType)) {\n            currTokType.CATEGORIES = [];\n        }\n        if (!hasExtendingTokensTypesProperty(currTokType)) {\n            currTokType.categoryMatches = [];\n        }\n        if (!hasExtendingTokensTypesMapProperty(currTokType)) {\n            currTokType.categoryMatchesMap = {};\n        }\n    });\n}\nfunction assignCategoriesTokensProp(tokenTypes) {\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tokenTypes, (currTokType) => {\n        // avoid duplications\n        currTokType.categoryMatches = [];\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(currTokType.categoryMatchesMap, (val, key) => {\n            currTokType.categoryMatches.push(tokenIdxToClass[key].tokenTypeIdx);\n        });\n    });\n}\nfunction assignCategoriesMapProp(tokenTypes) {\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tokenTypes, (currTokType) => {\n        singleAssignCategoriesToksMap([], currTokType);\n    });\n}\nfunction singleAssignCategoriesToksMap(path, nextNode) {\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(path, (pathNode) => {\n        nextNode.categoryMatchesMap[pathNode.tokenTypeIdx] = true;\n    });\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextNode.CATEGORIES, (nextCategory) => {\n        const newPath = path.concat(nextNode);\n        // avoids infinite loops due to cyclic categories.\n        if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(newPath, nextCategory)) {\n            singleAssignCategoriesToksMap(newPath, nextCategory);\n        }\n    });\n}\nfunction hasShortKeyProperty(tokType) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokType, \"tokenTypeIdx\");\n}\nfunction hasCategoriesProperty(tokType) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokType, \"CATEGORIES\");\n}\nfunction hasExtendingTokensTypesProperty(tokType) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokType, \"categoryMatches\");\n}\nfunction hasExtendingTokensTypesMapProperty(tokType) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokType, \"categoryMatchesMap\");\n}\nfunction isTokenType(tokType) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokType, \"tokenTypeIdx\");\n}\n//# sourceMappingURL=tokens.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvc2Nhbi90b2tlbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFnSDtBQUN6RztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscURBQU87QUFDWDtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1AsaUJBQWlCLHFEQUFLO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBTyxDQUFDLHFEQUFPLENBQUMscURBQUc7QUFDeEMsOEJBQThCLHFEQUFVO0FBQ3hDO0FBQ0EsWUFBWSxxREFBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxJQUFJLHFEQUFPO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxREFBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUCxJQUFJLHFEQUFPO0FBQ1g7QUFDQTtBQUNBLFFBQVEscURBQU87QUFDZjtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDTztBQUNQLElBQUkscURBQU87QUFDWDtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1AsSUFBSSxxREFBTztBQUNYO0FBQ0EsS0FBSztBQUNMLElBQUkscURBQU87QUFDWDtBQUNBO0FBQ0EsYUFBYSxxREFBUTtBQUNyQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUCxXQUFXLHFEQUFHO0FBQ2Q7QUFDTztBQUNQLFdBQVcscURBQUc7QUFDZDtBQUNPO0FBQ1AsV0FBVyxxREFBRztBQUNkO0FBQ087QUFDUCxXQUFXLHFEQUFHO0FBQ2Q7QUFDTztBQUNQLFdBQVcscURBQUc7QUFDZDtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZXRoYW5raW0vTmVzdG9yL21lZGZldGNoLmpzL25vZGVfbW9kdWxlcy8ucG5wbS9jaGV2cm90YWluQDExLjAuMy9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vdG9rZW5zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb25lLCBjb21wYWN0LCBkaWZmZXJlbmNlLCBmbGF0dGVuLCBmb3JFYWNoLCBoYXMsIGluY2x1ZGVzLCBpc0FycmF5LCBpc0VtcHR5LCBtYXAsIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHRva2VuU3RydWN0dXJlZE1hdGNoZXIodG9rSW5zdGFuY2UsIHRva0NvbnN0cnVjdG9yKSB7XG4gICAgY29uc3QgaW5zdGFuY2VUeXBlID0gdG9rSW5zdGFuY2UudG9rZW5UeXBlSWR4O1xuICAgIGlmIChpbnN0YW5jZVR5cGUgPT09IHRva0NvbnN0cnVjdG9yLnRva2VuVHlwZUlkeCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAodG9rQ29uc3RydWN0b3IuaXNQYXJlbnQgPT09IHRydWUgJiZcbiAgICAgICAgICAgIHRva0NvbnN0cnVjdG9yLmNhdGVnb3J5TWF0Y2hlc01hcFtpbnN0YW5jZVR5cGVdID09PSB0cnVlKTtcbiAgICB9XG59XG4vLyBPcHRpbWl6ZWQgdG9rZW5NYXRjaGVyIGluIGNhc2Ugb3VyIGdyYW1tYXIgZG9lcyBub3QgdXNlIHRva2VuIGNhdGVnb3JpZXNcbi8vIEJlaW5nIHNvIHRpbnkgaXQgaXMgbXVjaCBtb3JlIGxpa2VseSB0byBiZSBpbi1saW5lZCBhbmQgdGhpcyBhdm9pZCB0aGUgZnVuY3Rpb24gY2FsbCBvdmVyaGVhZFxuZXhwb3J0IGZ1bmN0aW9uIHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXModG9rZW4sIHRva1R5cGUpIHtcbiAgICByZXR1cm4gdG9rZW4udG9rZW5UeXBlSWR4ID09PSB0b2tUeXBlLnRva2VuVHlwZUlkeDtcbn1cbmV4cG9ydCBsZXQgdG9rZW5TaG9ydE5hbWVJZHggPSAxO1xuZXhwb3J0IGNvbnN0IHRva2VuSWR4VG9DbGFzcyA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGF1Z21lbnRUb2tlblR5cGVzKHRva2VuVHlwZXMpIHtcbiAgICAvLyBjb2xsZWN0IHRoZSBwYXJlbnQgVG9rZW4gVHlwZXMgYXMgd2VsbC5cbiAgICBjb25zdCB0b2tlblR5cGVzQW5kUGFyZW50cyA9IGV4cGFuZENhdGVnb3JpZXModG9rZW5UeXBlcyk7XG4gICAgLy8gYWRkIHJlcXVpcmVkIHRva2VuVHlwZSBhbmQgY2F0ZWdvcnlNYXRjaGVzIHByb3BlcnRpZXNcbiAgICBhc3NpZ25Ub2tlbkRlZmF1bHRQcm9wcyh0b2tlblR5cGVzQW5kUGFyZW50cyk7XG4gICAgLy8gZmlsbCB1cCB0aGUgY2F0ZWdvcnlNYXRjaGVzXG4gICAgYXNzaWduQ2F0ZWdvcmllc01hcFByb3AodG9rZW5UeXBlc0FuZFBhcmVudHMpO1xuICAgIGFzc2lnbkNhdGVnb3JpZXNUb2tlbnNQcm9wKHRva2VuVHlwZXNBbmRQYXJlbnRzKTtcbiAgICBmb3JFYWNoKHRva2VuVHlwZXNBbmRQYXJlbnRzLCAodG9rVHlwZSkgPT4ge1xuICAgICAgICB0b2tUeXBlLmlzUGFyZW50ID0gdG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMubGVuZ3RoID4gMDtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRDYXRlZ29yaWVzKHRva2VuVHlwZXMpIHtcbiAgICBsZXQgcmVzdWx0ID0gY2xvbmUodG9rZW5UeXBlcyk7XG4gICAgbGV0IGNhdGVnb3JpZXMgPSB0b2tlblR5cGVzO1xuICAgIGxldCBzZWFyY2hpbmcgPSB0cnVlO1xuICAgIHdoaWxlIChzZWFyY2hpbmcpIHtcbiAgICAgICAgY2F0ZWdvcmllcyA9IGNvbXBhY3QoZmxhdHRlbihtYXAoY2F0ZWdvcmllcywgKGN1cnJUb2tUeXBlKSA9PiBjdXJyVG9rVHlwZS5DQVRFR09SSUVTKSkpO1xuICAgICAgICBjb25zdCBuZXdDYXRlZ29yaWVzID0gZGlmZmVyZW5jZShjYXRlZ29yaWVzLCByZXN1bHQpO1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KG5ld0NhdGVnb3JpZXMpO1xuICAgICAgICBpZiAoaXNFbXB0eShuZXdDYXRlZ29yaWVzKSkge1xuICAgICAgICAgICAgc2VhcmNoaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYXRlZ29yaWVzID0gbmV3Q2F0ZWdvcmllcztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnblRva2VuRGVmYXVsdFByb3BzKHRva2VuVHlwZXMpIHtcbiAgICBmb3JFYWNoKHRva2VuVHlwZXMsIChjdXJyVG9rVHlwZSkgPT4ge1xuICAgICAgICBpZiAoIWhhc1Nob3J0S2V5UHJvcGVydHkoY3VyclRva1R5cGUpKSB7XG4gICAgICAgICAgICB0b2tlbklkeFRvQ2xhc3NbdG9rZW5TaG9ydE5hbWVJZHhdID0gY3VyclRva1R5cGU7XG4gICAgICAgICAgICBjdXJyVG9rVHlwZS50b2tlblR5cGVJZHggPSB0b2tlblNob3J0TmFtZUlkeCsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIENBVEVHT1JJRVM/IDogVG9rZW5UeXBlIHwgVG9rZW5UeXBlW11cbiAgICAgICAgaWYgKGhhc0NhdGVnb3JpZXNQcm9wZXJ0eShjdXJyVG9rVHlwZSkgJiZcbiAgICAgICAgICAgICFpc0FycmF5KGN1cnJUb2tUeXBlLkNBVEVHT1JJRVMpXG4gICAgICAgIC8vICYmXG4gICAgICAgIC8vICFpc1VuZGVmaW5lZChjdXJyVG9rVHlwZS5DQVRFR09SSUVTLlBBVFRFUk4pXG4gICAgICAgICkge1xuICAgICAgICAgICAgY3VyclRva1R5cGUuQ0FURUdPUklFUyA9IFtjdXJyVG9rVHlwZS5DQVRFR09SSUVTXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc0NhdGVnb3JpZXNQcm9wZXJ0eShjdXJyVG9rVHlwZSkpIHtcbiAgICAgICAgICAgIGN1cnJUb2tUeXBlLkNBVEVHT1JJRVMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc0V4dGVuZGluZ1Rva2Vuc1R5cGVzUHJvcGVydHkoY3VyclRva1R5cGUpKSB7XG4gICAgICAgICAgICBjdXJyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc0V4dGVuZGluZ1Rva2Vuc1R5cGVzTWFwUHJvcGVydHkoY3VyclRva1R5cGUpKSB7XG4gICAgICAgICAgICBjdXJyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXNNYXAgPSB7fTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkNhdGVnb3JpZXNUb2tlbnNQcm9wKHRva2VuVHlwZXMpIHtcbiAgICBmb3JFYWNoKHRva2VuVHlwZXMsIChjdXJyVG9rVHlwZSkgPT4ge1xuICAgICAgICAvLyBhdm9pZCBkdXBsaWNhdGlvbnNcbiAgICAgICAgY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzID0gW107XG4gICAgICAgIGZvckVhY2goY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzTWFwLCAodmFsLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGN1cnJUb2tUeXBlLmNhdGVnb3J5TWF0Y2hlcy5wdXNoKHRva2VuSWR4VG9DbGFzc1trZXldLnRva2VuVHlwZUlkeCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkNhdGVnb3JpZXNNYXBQcm9wKHRva2VuVHlwZXMpIHtcbiAgICBmb3JFYWNoKHRva2VuVHlwZXMsIChjdXJyVG9rVHlwZSkgPT4ge1xuICAgICAgICBzaW5nbGVBc3NpZ25DYXRlZ29yaWVzVG9rc01hcChbXSwgY3VyclRva1R5cGUpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNpbmdsZUFzc2lnbkNhdGVnb3JpZXNUb2tzTWFwKHBhdGgsIG5leHROb2RlKSB7XG4gICAgZm9yRWFjaChwYXRoLCAocGF0aE5vZGUpID0+IHtcbiAgICAgICAgbmV4dE5vZGUuY2F0ZWdvcnlNYXRjaGVzTWFwW3BhdGhOb2RlLnRva2VuVHlwZUlkeF0gPSB0cnVlO1xuICAgIH0pO1xuICAgIGZvckVhY2gobmV4dE5vZGUuQ0FURUdPUklFUywgKG5leHRDYXRlZ29yeSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdQYXRoID0gcGF0aC5jb25jYXQobmV4dE5vZGUpO1xuICAgICAgICAvLyBhdm9pZHMgaW5maW5pdGUgbG9vcHMgZHVlIHRvIGN5Y2xpYyBjYXRlZ29yaWVzLlxuICAgICAgICBpZiAoIWluY2x1ZGVzKG5ld1BhdGgsIG5leHRDYXRlZ29yeSkpIHtcbiAgICAgICAgICAgIHNpbmdsZUFzc2lnbkNhdGVnb3JpZXNUb2tzTWFwKG5ld1BhdGgsIG5leHRDYXRlZ29yeSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNTaG9ydEtleVByb3BlcnR5KHRva1R5cGUpIHtcbiAgICByZXR1cm4gaGFzKHRva1R5cGUsIFwidG9rZW5UeXBlSWR4XCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc0NhdGVnb3JpZXNQcm9wZXJ0eSh0b2tUeXBlKSB7XG4gICAgcmV0dXJuIGhhcyh0b2tUeXBlLCBcIkNBVEVHT1JJRVNcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzRXh0ZW5kaW5nVG9rZW5zVHlwZXNQcm9wZXJ0eSh0b2tUeXBlKSB7XG4gICAgcmV0dXJuIGhhcyh0b2tUeXBlLCBcImNhdGVnb3J5TWF0Y2hlc1wiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNFeHRlbmRpbmdUb2tlbnNUeXBlc01hcFByb3BlcnR5KHRva1R5cGUpIHtcbiAgICByZXR1cm4gaGFzKHRva1R5cGUsIFwiY2F0ZWdvcnlNYXRjaGVzTWFwXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVG9rZW5UeXBlKHRva1R5cGUpIHtcbiAgICByZXR1cm4gaGFzKHRva1R5cGUsIFwidG9rZW5UeXBlSWR4XCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9rZW5zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens_public.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens_public.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EOF: () => (/* binding */ EOF),\n/* harmony export */   createToken: () => (/* binding */ createToken),\n/* harmony export */   createTokenInstance: () => (/* binding */ createTokenInstance),\n/* harmony export */   hasTokenLabel: () => (/* binding */ hasTokenLabel),\n/* harmony export */   tokenLabel: () => (/* binding */ tokenLabel),\n/* harmony export */   tokenMatcher: () => (/* binding */ tokenMatcher),\n/* harmony export */   tokenName: () => (/* binding */ tokenName)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isString.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isUndefined.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js\");\n/* harmony import */ var _lexer_public_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lexer_public.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_public.js\");\n/* harmony import */ var _tokens_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tokens.js */ \"(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens.js\");\n\n\n\nfunction tokenLabel(tokType) {\n    if (hasTokenLabel(tokType)) {\n        return tokType.LABEL;\n    }\n    else {\n        return tokType.name;\n    }\n}\nfunction tokenName(tokType) {\n    return tokType.name;\n}\nfunction hasTokenLabel(obj) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(obj.LABEL) && obj.LABEL !== \"\";\n}\nconst PARENT = \"parent\";\nconst CATEGORIES = \"categories\";\nconst LABEL = \"label\";\nconst GROUP = \"group\";\nconst PUSH_MODE = \"push_mode\";\nconst POP_MODE = \"pop_mode\";\nconst LONGER_ALT = \"longer_alt\";\nconst LINE_BREAKS = \"line_breaks\";\nconst START_CHARS_HINT = \"start_chars_hint\";\nfunction createToken(config) {\n    return createTokenInternal(config);\n}\nfunction createTokenInternal(config) {\n    const pattern = config.pattern;\n    const tokenType = {};\n    tokenType.name = config.name;\n    if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(pattern)) {\n        tokenType.PATTERN = pattern;\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, PARENT)) {\n        throw (\"The parent property is no longer supported.\\n\" +\n            \"See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.\");\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, CATEGORIES)) {\n        // casting to ANY as this will be fixed inside `augmentTokenTypes``\n        tokenType.CATEGORIES = config[CATEGORIES];\n    }\n    (0,_tokens_js__WEBPACK_IMPORTED_MODULE_1__.augmentTokenTypes)([tokenType]);\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, LABEL)) {\n        tokenType.LABEL = config[LABEL];\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, GROUP)) {\n        tokenType.GROUP = config[GROUP];\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, POP_MODE)) {\n        tokenType.POP_MODE = config[POP_MODE];\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, PUSH_MODE)) {\n        tokenType.PUSH_MODE = config[PUSH_MODE];\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, LONGER_ALT)) {\n        tokenType.LONGER_ALT = config[LONGER_ALT];\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, LINE_BREAKS)) {\n        tokenType.LINE_BREAKS = config[LINE_BREAKS];\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, START_CHARS_HINT)) {\n        tokenType.START_CHARS_HINT = config[START_CHARS_HINT];\n    }\n    return tokenType;\n}\nconst EOF = createToken({ name: \"EOF\", pattern: _lexer_public_js__WEBPACK_IMPORTED_MODULE_0__.Lexer.NA });\n(0,_tokens_js__WEBPACK_IMPORTED_MODULE_1__.augmentTokenTypes)([EOF]);\nfunction createTokenInstance(tokType, image, startOffset, endOffset, startLine, endLine, startColumn, endColumn) {\n    return {\n        image,\n        startOffset,\n        endOffset,\n        startLine,\n        endLine,\n        startColumn,\n        endColumn,\n        tokenTypeIdx: tokType.tokenTypeIdx,\n        tokenType: tokType,\n    };\n}\nfunction tokenMatcher(token, tokType) {\n    return (0,_tokens_js__WEBPACK_IMPORTED_MODULE_1__.tokenStructuredMatcher)(token, tokType);\n}\n//# sourceMappingURL=tokens_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvc2Nhbi90b2tlbnNfcHVibGljLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUF1RDtBQUNiO0FBQzhCO0FBQ2pFO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQLFdBQVcscURBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMscURBQVc7QUFDcEI7QUFDQTtBQUNBLFFBQVEscURBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsSUFBSSw2REFBaUI7QUFDckIsUUFBUSxxREFBRztBQUNYO0FBQ0E7QUFDQSxRQUFRLHFEQUFHO0FBQ1g7QUFDQTtBQUNBLFFBQVEscURBQUc7QUFDWDtBQUNBO0FBQ0EsUUFBUSxxREFBRztBQUNYO0FBQ0E7QUFDQSxRQUFRLHFEQUFHO0FBQ1g7QUFDQTtBQUNBLFFBQVEscURBQUc7QUFDWDtBQUNBO0FBQ0EsUUFBUSxxREFBRztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMEJBQTBCLHNCQUFzQixtREFBSyxLQUFLO0FBQ2pFLDZEQUFpQjtBQUNWO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxXQUFXLGtFQUFzQjtBQUNqQztBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZXRoYW5raW0vTmVzdG9yL21lZGZldGNoLmpzL25vZGVfbW9kdWxlcy8ucG5wbS9jaGV2cm90YWluQDExLjAuMy9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vdG9rZW5zX3B1YmxpYy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYXMsIGlzU3RyaW5nLCBpc1VuZGVmaW5lZCB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IExleGVyIH0gZnJvbSBcIi4vbGV4ZXJfcHVibGljLmpzXCI7XG5pbXBvcnQgeyBhdWdtZW50VG9rZW5UeXBlcywgdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlciB9IGZyb20gXCIuL3Rva2Vucy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHRva2VuTGFiZWwodG9rVHlwZSkge1xuICAgIGlmIChoYXNUb2tlbkxhYmVsKHRva1R5cGUpKSB7XG4gICAgICAgIHJldHVybiB0b2tUeXBlLkxBQkVMO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRva1R5cGUubmFtZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdG9rZW5OYW1lKHRva1R5cGUpIHtcbiAgICByZXR1cm4gdG9rVHlwZS5uYW1lO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc1Rva2VuTGFiZWwob2JqKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKG9iai5MQUJFTCkgJiYgb2JqLkxBQkVMICE9PSBcIlwiO1xufVxuY29uc3QgUEFSRU5UID0gXCJwYXJlbnRcIjtcbmNvbnN0IENBVEVHT1JJRVMgPSBcImNhdGVnb3JpZXNcIjtcbmNvbnN0IExBQkVMID0gXCJsYWJlbFwiO1xuY29uc3QgR1JPVVAgPSBcImdyb3VwXCI7XG5jb25zdCBQVVNIX01PREUgPSBcInB1c2hfbW9kZVwiO1xuY29uc3QgUE9QX01PREUgPSBcInBvcF9tb2RlXCI7XG5jb25zdCBMT05HRVJfQUxUID0gXCJsb25nZXJfYWx0XCI7XG5jb25zdCBMSU5FX0JSRUFLUyA9IFwibGluZV9icmVha3NcIjtcbmNvbnN0IFNUQVJUX0NIQVJTX0hJTlQgPSBcInN0YXJ0X2NoYXJzX2hpbnRcIjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb2tlbihjb25maWcpIHtcbiAgICByZXR1cm4gY3JlYXRlVG9rZW5JbnRlcm5hbChjb25maWcpO1xufVxuZnVuY3Rpb24gY3JlYXRlVG9rZW5JbnRlcm5hbChjb25maWcpIHtcbiAgICBjb25zdCBwYXR0ZXJuID0gY29uZmlnLnBhdHRlcm47XG4gICAgY29uc3QgdG9rZW5UeXBlID0ge307XG4gICAgdG9rZW5UeXBlLm5hbWUgPSBjb25maWcubmFtZTtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHBhdHRlcm4pKSB7XG4gICAgICAgIHRva2VuVHlwZS5QQVRURVJOID0gcGF0dGVybjtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIFBBUkVOVCkpIHtcbiAgICAgICAgdGhyb3cgKFwiVGhlIHBhcmVudCBwcm9wZXJ0eSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLlxcblwiICtcbiAgICAgICAgICAgIFwiU2VlOiBodHRwczovL2dpdGh1Yi5jb20vY2hldnJvdGFpbi9jaGV2cm90YWluL2lzc3Vlcy81NjQjaXNzdWVjb21tZW50LTM0OTA2MjM0NiBmb3IgZGV0YWlscy5cIik7XG4gICAgfVxuICAgIGlmIChoYXMoY29uZmlnLCBDQVRFR09SSUVTKSkge1xuICAgICAgICAvLyBjYXN0aW5nIHRvIEFOWSBhcyB0aGlzIHdpbGwgYmUgZml4ZWQgaW5zaWRlIGBhdWdtZW50VG9rZW5UeXBlc2BgXG4gICAgICAgIHRva2VuVHlwZS5DQVRFR09SSUVTID0gY29uZmlnW0NBVEVHT1JJRVNdO1xuICAgIH1cbiAgICBhdWdtZW50VG9rZW5UeXBlcyhbdG9rZW5UeXBlXSk7XG4gICAgaWYgKGhhcyhjb25maWcsIExBQkVMKSkge1xuICAgICAgICB0b2tlblR5cGUuTEFCRUwgPSBjb25maWdbTEFCRUxdO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgR1JPVVApKSB7XG4gICAgICAgIHRva2VuVHlwZS5HUk9VUCA9IGNvbmZpZ1tHUk9VUF07XG4gICAgfVxuICAgIGlmIChoYXMoY29uZmlnLCBQT1BfTU9ERSkpIHtcbiAgICAgICAgdG9rZW5UeXBlLlBPUF9NT0RFID0gY29uZmlnW1BPUF9NT0RFXTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIFBVU0hfTU9ERSkpIHtcbiAgICAgICAgdG9rZW5UeXBlLlBVU0hfTU9ERSA9IGNvbmZpZ1tQVVNIX01PREVdO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgTE9OR0VSX0FMVCkpIHtcbiAgICAgICAgdG9rZW5UeXBlLkxPTkdFUl9BTFQgPSBjb25maWdbTE9OR0VSX0FMVF07XG4gICAgfVxuICAgIGlmIChoYXMoY29uZmlnLCBMSU5FX0JSRUFLUykpIHtcbiAgICAgICAgdG9rZW5UeXBlLkxJTkVfQlJFQUtTID0gY29uZmlnW0xJTkVfQlJFQUtTXTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIFNUQVJUX0NIQVJTX0hJTlQpKSB7XG4gICAgICAgIHRva2VuVHlwZS5TVEFSVF9DSEFSU19ISU5UID0gY29uZmlnW1NUQVJUX0NIQVJTX0hJTlRdO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW5UeXBlO1xufVxuZXhwb3J0IGNvbnN0IEVPRiA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJFT0ZcIiwgcGF0dGVybjogTGV4ZXIuTkEgfSk7XG5hdWdtZW50VG9rZW5UeXBlcyhbRU9GXSk7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9rZW5JbnN0YW5jZSh0b2tUeXBlLCBpbWFnZSwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgc3RhcnRMaW5lLCBlbmRMaW5lLCBzdGFydENvbHVtbiwgZW5kQ29sdW1uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW1hZ2UsXG4gICAgICAgIHN0YXJ0T2Zmc2V0LFxuICAgICAgICBlbmRPZmZzZXQsXG4gICAgICAgIHN0YXJ0TGluZSxcbiAgICAgICAgZW5kTGluZSxcbiAgICAgICAgc3RhcnRDb2x1bW4sXG4gICAgICAgIGVuZENvbHVtbixcbiAgICAgICAgdG9rZW5UeXBlSWR4OiB0b2tUeXBlLnRva2VuVHlwZUlkeCxcbiAgICAgICAgdG9rZW5UeXBlOiB0b2tUeXBlLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gdG9rZW5NYXRjaGVyKHRva2VuLCB0b2tUeXBlKSB7XG4gICAgcmV0dXJuIHRva2VuU3RydWN0dXJlZE1hdGNoZXIodG9rZW4sIHRva1R5cGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9rZW5zX3B1YmxpYy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens_public.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/version.js":
/*!******************************************************************************************!*\
  !*** ../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/version.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VERSION: () => (/* binding */ VERSION)\n/* harmony export */ });\n// needs a separate module as this is required inside chevrotain productive code\n// and also in the entry point for webpack(api.ts).\n// A separate file avoids cyclic dependencies and webpack errors.\nconst VERSION = \"11.0.3\";\n//# sourceMappingURL=version.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NoZXZyb3RhaW5AMTEuMC4zL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvdmVyc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ087QUFDUCIsInNvdXJjZXMiOlsiL1VzZXJzL2V0aGFua2ltL05lc3Rvci9tZWRmZXRjaC5qcy9ub2RlX21vZHVsZXMvLnBucG0vY2hldnJvdGFpbkAxMS4wLjMvbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy92ZXJzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIG5lZWRzIGEgc2VwYXJhdGUgbW9kdWxlIGFzIHRoaXMgaXMgcmVxdWlyZWQgaW5zaWRlIGNoZXZyb3RhaW4gcHJvZHVjdGl2ZSBjb2RlXG4vLyBhbmQgYWxzbyBpbiB0aGUgZW50cnkgcG9pbnQgZm9yIHdlYnBhY2soYXBpLnRzKS5cbi8vIEEgc2VwYXJhdGUgZmlsZSBhdm9pZHMgY3ljbGljIGRlcGVuZGVuY2llcyBhbmQgd2VicGFjayBlcnJvcnMuXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9IFwiMTEuMC4zXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZXJzaW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/version.js\n");

/***/ })

};
;